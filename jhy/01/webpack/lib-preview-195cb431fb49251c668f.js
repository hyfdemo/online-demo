webpackJsonp([1],{"+knQ":function(e,t,n){"use strict";t.a={prefixAgo:null,prefixFromNow:"从现在开始",suffixAgo:"之前",suffixFromNow:null,seconds:"不到 1 分钟",minute:"大约 1 分钟",minutes:"%d 分钟",hour:"大约 1 小时",hours:"大约 %d 小时",day:"1 天",days:"%d 天",month:"大约 1 个月",months:"%d 月",year:"大约 1 年",years:"%d 年",numbers:[],wordSeparator:""}},"/EHJ":function(e,t,n){"use strict";(function(e){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":m(t))&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":m(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t,n,r){return!e.addEventListener&&(t="on"+t),(e.addEventListener||e.attachEvent).call(e,t,n,r),n}function s(e,t,n,r){return!e.removeEventListener&&(t="on"+t),(e.removeEventListener||e.detachEvent).call(e,t,n,r),n}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.$opener,n=e.$menu,r=e.position,o=void 0===r?"bottom":r,a=e.inflexible,i=void 0!==a&&a,s=e.shouldSetMinWidth,c=void 0!==s&&s,u=e.shouldSetMaxHeight,l=void 0!==u&&u,d=e.shouldAlignLeft,p=void 0!==d&&d;if(t&&n){var f=n.offsetWidth,h=n.offsetHeight,m=t.offsetWidth,y=t.offsetHeight,v=t.getBoundingClientRect(),g=v.top,b=v.bottom,w=v.left,_=(v.right,window.innerHeight),O=Math.max(m,f),S=_-10,C={style:{},finalPosition:o},E=function(e){return Object.assign(C.style,e)},j=g+y/2,x=_*("top"===o?1/3:2/3);return E({left:(p?w:w+m/2)+"px"}),c&&E({minWidth:O+"px"}),i&&"bottom"===o||!i&&x>=j?(Object.assign(C,{finalPosition:"bottom"}),E({top:b+"px"}),l&&b+h>S&&E({maxHeight:S-b+"px"})):(Object.assign(C,{finalPosition:"top"}),E({top:"",bottom:_-g+"px"}),l&&g-h<10&&E({maxHeight:g-10+"px"})),Object.assign(n.style,C.style),C}}n.d(t,"b",function(){return c});var u=n("GiK3"),l=n.n(u),d=n("O27J"),p=(n.n(d),n("KSGD")),f=n.n(p),h=n("5/ex"),m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=["onAbort","onAnimationEnd","onAnimationIteration","onAnimationStart","onBlur","onCanPlay","onCanPlayThrough","onClick","onContextMenu","onCopy","onCut","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onFocus","onInput","onInvalid","onKeyDown","onKeyPress","onKeyUp","onLoad","onLoadedData","onLoadedMetadata","onLoadStart","onMouseDown","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onPaste","onPause","onPlay","onPlaying","onProgress","onRateChange","onReset","onScroll","onSeeked","onSeeking","onStalled","onSubmit","onSuspend","onTimeUpdate","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onTransitionEnd","onVolumeChange","onWaiting","onWheel"],v=["onAfterPrint","onBeforePrint","onBeforeUnload","onDeviceLight","onDeviceMotion","onDeviceOrientation","onDeviceProximity","onHashChange","onLanguageChange","onPopState","onRejectionHandled","onResize","onSelect","onStorage","onUnhandledRejection","onUnload","onUserProximity"],g=["onPointerCancel","onPointerDown","onPointerEnter","onPointerLeave","onPointerMove","onPointerOut","onPointerOver","onPointerUp"],b=(y.concat(v).concat(g),y.concat(g),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),w=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,l.a.Component),b(t,[{key:"componentDidMount",value:function(){this.props.enabled&&this.bindHandlers()}},{key:"componentWillUnmount",value:function(){this.unbindHandlers()}},{key:"componentWillReceiveProps",value:function(e){this.props.enabled&&!e.enabled?this.unbindHandlers():!this.props.enabled&&e.enabled&&this.bindHandlers()}},{key:"getKeys",value:function(){this.props.target,window;return Object.keys(this.props).filter(function(e){return"on"===e.slice(0,2)}).map(function(e){return[e,e.slice(2).toLowerCase()]})}},{key:"bindHandlers",value:function(){this._adjustHandlers(i)}},{key:"unbindHandlers",value:function(){this._adjustHandlers(s)}},{key:"_adjustHandlers",value:function(e){var t=this.props,n="function"==typeof t.target?t.target():t.target;if(n){var r=_?{passive:t.passive,capture:t.capture}:t.capture;this.getKeys().forEach(function(o){e(n,o[1],t[o[0]],r)})}}},{key:"render",value:function(){return null}}]),t}();w.displayName="DocumentEvents",w.defaultProps={capture:!1,enabled:!0,passive:!1,target:e.browser?document:null};var _=function(){try{var e=!1;return document.createElement("div").addEventListener("test",function(){},{get passive(){e=!0}}),e}catch(e){return!1}}(),O=w,S=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},C=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":m(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},x=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":m(t))&&"function"!=typeof t?e:t},T=document.getElementById("MB_DROPDOWN_MENU_ROOT")||Object.assign(document.createElement("div"),{id:"MB_DROPDOWN_MENU_ROOT"}),M=document.body;M.contains(T)||M.appendChild(T);var k=function(e){function t(e){S(this,t);var n=x(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggle=function(){return n.setState({isOpen:!n.state.isOpen})},n.open=function(){return n.setState({isOpen:!0})},n.close=function(){return n.setState({isOpen:!1})},n.onMouseEnter=function(){var e=n.props,t=e.shouldOpenOnHover;e.hoverDelay;t&&(clearTimeout(n.closeTimeout),Object.assign(n,{hoverTimeout:setTimeout(n.open,n.props.hoverDelay)}))},n.onMouseLeave=function(){var e=n.props,t=e.shouldOpenOnHover;e.hoverDelay;t&&clearTimeout(n.hoverTimeout)},n.onMouseMove=function(e){var t=e.clientX,r=e.clientY,o=n.props,a=o.shouldOpenOnHover,i=o.hoverDelay,s=n.state.$opener;if(a){clearTimeout(n.hoverTimeout);var c=document.elementFromPoint(t,r),u=!s.contains(c),l=!c.closest(".DropdownMenu");l?u&&l&&n.leaveTimeoutList.push(setTimeout(n.close,Math.max(i,300))):(n.leaveTimeoutList.map(clearTimeout),Object.assign(n,{leaveTimeoutList:[]}))}},n.set$opener=function(e){return n.setState({$opener:e})},n.onResizeWindow=function(){return n.state.isOpen&&n.close()},n.onSelect=function(e){var t=e.currentTarget,r=n.props,o=r.menuList,a=r.onSelect,i=r.shouldCloseOnSelect;if("function"==typeof a){var s=t.dataset.idx,c=o[s];a(s,"string"==typeof c?c:c&&c.value),n.setState({currentMenuListItemIdx:s}),i&&n.close()}},Object.assign(n,{state:{isOpen:!1,$opener:null,currentMenuListItemIdx:e.currentMenuListItemIdx},leaveTimeoutList:[]}),n}return j(t,e),C(t,[{key:"componentWillMount",value:function(){window.addEventListener("resize",this.onResizeWindow)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResizeWindow)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.opener,r=(e.unfold,this.state),o=r.isOpen,a=r.$opener,i=r.currentMenuListItemIdx,s=this.props.isDisabled||this.props.disabled,c=Object(h.f)(["Dropdown",o&&"is-open",s&&"is-disabled",t]);return l.a.createElement("label",{ref:this.set$opener,className:c},l.a.createElement("button",{type:"button",onClick:this.toggle,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,disabled:s},n),l.a.createElement(P,E({},this.props,{isOpen:o,$opener:a,onSelect:this.onSelect,onClose:this.close,currentMenuListItemIdx:i})),l.a.createElement(O,{enabled:o,onMouseMove:this.onMouseMove}))}}]),t}(u.PureComponent);k.propTypes={opener:f.a.node,className:f.a.string,menuClassName:f.a.string,menu:f.a.node,menuList:f.a.arrayOf(f.a.oneOfType([f.a.node,f.a.shape({label:f.a.node,value:f.a.any,isDisabled:f.a.bool})])),currentMenuListItemIdx:f.a.oneOfType([f.a.number,f.a.string]),shouldOpenOnHover:f.a.bool,hoverDelay:f.a.oneOfType([f.a.number,f.a.string]),arrowed:f.a.bool,position:f.a.oneOf(["top","bottom"]),unfold:f.a.oneOf(["left","center","right"]),inflexible:f.a.bool,isDisabled:f.a.bool,disabled:f.a.bool,onSelect:f.a.func,shouldCloseOnSelect:f.a.bool},k.defaultProps={arrowed:!1,shouldCloseOnSelect:!0,shouldOpenOnHover:!1,hoverDelay:200,position:"bottom",unfold:"center",inflexible:!1};var P=function(e){function t(e){S(this,t);var n=x(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.set$menu=function(e){return Object.assign(n,{$menu:e})},n.onClickOutside=function(e){var t=e.target,r=n.props,o=r.$opener,a=r.onClose,i=!T.contains(t),s=t.closest("label"),c=s&&s.contains(o),u=!!Object(h.a)(".SelectMenu.is-open");!i||c||u||a()},n.onScrollOutside=function(e){e.target;var t=n.$menu,r=n.props,o=c({$menu:t,$opener:r.$opener,position:r.position,inflexible:r.inflexible});n.setState({isDownward:"bottom"===o.finalPosition})},Object.assign(n,{state:{isDownward:"bottom"===e.position},portal:Object.assign(document.createElement("div"),{className:"DropdownMenuPortal"})}),n}return j(t,e),C(t,[{key:"componentWillMount",value:function(){T.appendChild(this.portal)}},{key:"componentWillReceiveProps",value:function(e){var t=e.isOpen,n=e.$opener,r=this.$menu,o=this.props,a=o.isOpen,i=o.position,s=o.inflexible;if(!a&&t){var u=c({$menu:r,$opener:n,position:i,inflexible:s});this.setState({isDownward:"bottom"===u.finalPosition})}}},{key:"componentWillUnmount",value:function(){this.portal&&this.portal.remove()}},{key:"render",value:function(){return Object(d.createPortal)(this.renderMenu(),this.portal)}},{key:"renderMenu",value:function(){var e=this.props,t=e.isOpen,n=e.menuClassName,r=e.arrowed,o=e.unfold,a=e.menu,i=e.menuList,s=e.currentMenuListItemIdx,c=e.onSelect,u=this.state.isDownward,d=Object(h.f)(["DropdownMenu",t&&"is-open",u?"is-downward":"is-upward",r&&"arrowed","unfold-"+o,n]);return l.a.createElement("div",{ref:this.set$menu,className:d},r&&l.a.createElement("span",{className:"arrow",dangerouslySetInnerHTML:{__html:h.d.DROPDOWN_ARROW}}),l.a.createElement("div",{className:"content"},i?l.a.createElement("ul",{className:"MenuList"},i.map(function(e,t){return l.a.createElement("li",{key:t,role:"option","data-idx":t,className:Object(h.f)([e.isDisabled&&"is-disabled",t===Number(s)&&"is-active"]),onClick:e.isDisabled?void 0:c},e.label||e)})):a),l.a.createElement(O,{enabled:t,onMouseDown:this.onClickOutside}),l.a.createElement(O,{enabled:t,capture:!0,onScroll:this.onScrollOutside}))}}]),t}(u.PureComponent);P.propTypes=E({},k.propTypes,{isOpen:f.a.bool,$opener:f.a.instanceOf(Element),onSelect:f.a.func,onClose:f.a.func}),t.a=k}).call(t,n("W2nU"))},"/GiX":function(e,t){},"/MvA":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n("GiK3"),s=n.n(i),c=n("KSGD"),u=n.n(c),l=n("O27J"),d=(n.n(l),n("hygk")),p=n.n(d),f=n("WCZ4"),h=n("OBe3"),m=(n.n(h),[]),y=Object.assign(document.createElement("div"),{className:"modal-portal"}),v=function(e){return e.stopPropagation()},g=function(e){function t(){var n,a,i;r(this,t);for(var c=arguments.length,u=Array(c),d=0;d<c;d++)u[d]=arguments[d];return n=a=o(this,e.call.apply(e,[this].concat(u))),a.onOpen=function(){m.unshift(a),setTimeout(function(){return a.portal.classList.add("is-open")},50),a.focusOnConfirmBtn(),a.reassignPosiY()},a.onClose=function(){var e=m.indexOf(a);setTimeout(function(){return m.splice(e,1)}),setTimeout(function(){return a.portal.classList.remove("is-open")},50),setTimeout(function(){return Object(l.render)(s.a.createElement("div",null),a.portal)},500)},a.focusOnConfirmBtn=function(){return setTimeout(function(){var e=a.portal.querySelector("footer .confirm-btn");e&&e.focus()},50)},a.listenToKey=function(e){var t=e.key,n=e.target,r=a.props,o=r.isOpen,i=r.canCloseOnEsc,s=r.onClose,c=r.canConfirmOnEnter,u=r.onConfirm,l=r.isOnConfirmDisabled;"Escape"===t&&!n.matches("input, textarea, [type=select]")&&o&&i&&s&&a===m[0]&&s(),"Enter"===t&&!n.matches("textarea")&&o&&c&&u&&!l&&a===m[0]&&u()},a.reassignPosiY=function(){return setTimeout(function(){var e=a.props.type,t=a.portal.querySelector(".modal-mask > div");if(t&&"alert"!==e){var n=window.innerHeight,r=t.offsetHeight,o=n<=r||(n-r)/2<.2*n?"add":"remove";t.classList[o]("is-posi-centered")}},50)},a.renderRealModal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.props,t=e.type,n=e.title,r=e.className,o=e.maskClassName,i=e.children,c=e.onClose,u=e.canCloseOnClickMask,d=e.onConfirm,p=e.confirmText,h=e.isOnConfirmDisabled,m=e.onCancel,y=e.cancelText,g=e.isOnCancelDisabled,b=e.onDone,w=e.doneText,_=e.isOnDoneDisabled,O="alert"===t||m||d||b,S=s.a.createElement("div",{className:"modal-mask "+o+" "+(u?"can-close":""),onClick:u?c:null},s.a.createElement("div",{className:t+"-modal "+r,onClick:v},s.a.createElement("header",null,n,c&&s.a.createElement("button",{className:"close-btn",onClick:c},s.a.createElement(f.b,{name:"times"}))),s.a.createElement("div",{className:"content"},i),O&&s.a.createElement("footer",null,m&&s.a.createElement("button",{className:"cancel-btn",onClick:m,disabled:g},y),d&&s.a.createElement("button",{className:"confirm-btn",onClick:d,disabled:h},p),b&&s.a.createElement("button",{className:"done-btn",onClick:b,disabled:_},w))));Object(l.render)(S,a.portal)},i=n,o(a,i)}return a(t,e),t.prototype.render=function(){return null},t.prototype.componentDidMount=function(){var e=this.props,t=e.isOpen,n=e.portalClassName;Object.assign(this,{portal:y.cloneNode()}),document.body.appendChild(this.portal),this.portal.className+=" "+n,window.addEventListener("resize",this.reassignPosiY),document.addEventListener("keydown",this.listenToKey),t&&(this.renderRealModal(),this.onOpen())},t.prototype.componentWillReceiveProps=function(e){p()(this.props,e)||this.renderRealModal(e);var t=e.isOpen,n=this.props.isOpen;!n&&t?this.onOpen():n&&!t&&this.onClose()},t.prototype.componentWillUnmount=function(){Object(l.unmountComponentAtNode)(this.portal),this.portal&&this.portal.remove(),document.removeEventListener("keydown",this.listenToKey),window.removeEventListener("resize",this.reassignPosiY)},t}(i.PureComponent);g.propTypes={isOpen:u.a.bool,type:u.a.oneOf(["alert","functional","display"]),title:u.a.any,className:u.a.string,maskClassName:u.a.string,portalClassName:u.a.string,children:u.a.any,onClose:u.a.func,onCloseText:u.a.string,canCloseOnClickMask:u.a.bool,canCloseOnEsc:u.a.bool,canConfirmOnEnter:u.a.bool,onConfirm:u.a.func,confirmText:u.a.string,isOnConfirmDisabled:u.a.bool,onCancel:u.a.func,isOnCancelDisabled:u.a.bool,cancelText:u.a.string,onDone:u.a.func,isOnDoneDisabled:u.a.bool,doneText:u.a.string},g.defaultProps={isOpen:!1,type:"functional",className:"",maskClassName:"",portalClassName:"",onClose:function(){return null},canCloseOnClickMask:!0,canCloseOnEsc:!0,canConfirmOnEnter:!0,onCloseText:I18N.close,confirmText:I18N.confirm,isOnConfirmDisabled:!1,cancelText:I18N.cancel,isOnCancelDisabled:!1,doneText:I18N.done,isOnDoneDisabled:!1},t.a=g},"0DSl":function(e,t,n){var r=n("YkxI"),o=n("zBOP");e.exports=function(e){return r(function(t,n){var r=-1,a=n.length,i=a>1?n[a-1]:void 0,s=a>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(a--,i):void 0,s&&o(n[0],n[1],s)&&(i=a<3?void 0:i,a=1),t=Object(t);++r<a;){var c=n[r];c&&e(t,c,r,i)}return t})}},"0L5u":function(e,t){e.exports={"editable-span":"_3kZ6Tt9vKO7jl4aGylRTa6","reply-textarea":"_2MMdtZStiVFrqpPWeqIzKH","btn-sort":"_3U9vAHumYl9Ansn9gzYs05","btn-cancel":"_1whvmqsHCmt8iyBc4KMnAF","btn-sure":"_3cG_7EkzOzZEovmV1UHoBq",active:"QipTK-KhdFFAOFZRiNjHp",container:"_1qDeu3cpB7cYXe6lqzlO5Q",avatarInform:"_11prqogEAAMMYQDJ2WNa86",avatar:"xGJm0OmgYp2ExjB9P_BYP","avatar-slide":"_1C_8aOGkoIAasZipcKGlxM",index:"_6wvUm87_ziDGV5DTBxNih",name:"_1Px7EkIhdlrwi7as8ggVbs"}},"0ghZ":function(e,t,n){var r=n("PfJA"),o=n("iYj9"),a=n("KGqH");e.exports=function(e){return o(e)?a(e):r(e)}},"0kaG":function(e,t){},"0oll":function(e,t,n){"use strict";var r=n("GiK3"),o=n.n(r),a=n("O27J"),i=n.n(a),s=n("RH2O"),c=n("jBIO"),u=n("7vNm"),l=n("wFrT"),d=window.$;t.a={containerReducerMap:c.b,sagaMap:c.c,extendCallback:function(e){e.setObserver("focus-method:request-focus",p),e.renderPreview=function(t,n){var r=e.store;r.dispatch({type:"entry:refresh:project-related"}),i.a.render(o.a.createElement(s.Provider,{store:r},o.a.createElement(c.a,null)),n),i.a.render(o.a.createElement(l.a.containers.Alert,{store:r}),Object(u.b)())},e.pushData=function(t,n,r){e.store.dispatch({type:"entry:state:push-data",payload:{pushType:t,action:n,data:r}})},e.checkLocationHash=function(){var t=window.location.hash||"",n=e.store,r=n.getState,o=n.dispatch;if(t.startsWith("#thread=")){var a=t.substr("#thread=".length),i=r().model.commentThreads.find(function(e){return e.cid===a});if(!i)return console.warn("[checkLocationHash] missing commentThread: "+a);o({type:"entry:sync-runner:set-screen",payload:{cid:i.screen_cid}}),o({type:"entry:comment:set:active",payload:{isActive:!0}}),o({type:"container:comment:select",payload:{select:i.cid}})}else if(t.startsWith("#screen=")){var s=t.substr("#screen=".length),c=r().model.screens.find(function(e){return e.cid===s});if(!c)return console.warn("[checkLocationHash] missing screen: "+s);o({type:"entry:sync-runner:set-screen",payload:{cid:c.cid}})}},e.updateCurrentScreenRunner=function(t){if(!t)return console.warn("[updateCurrentScreenRunner] missing currentScreen");e.store.dispatch({type:"entry:current:set-screen",payload:t}),window.location.hash="#screen="+t.cid}}};var p=function(e,t){var n=document.getElementById("simulator-container"),r=t.getBoundingClientRect(),o=n.getBoundingClientRect();if(!(r.top>o.top&&r.bottom<o.bottom)){var a=r.top+.5*r.height-(o.top+.5*o.height),i=a<0?"up":"down",s=document.getElementById("simulator-wrapper"),c=f(i,a,n,o,s.getBoundingClientRect());if(n.scrollTop+=c,0!==(a-=c)){var u=d(".pcanvas.active .widgets")[0],l=d(".pcanvas.active .widgets .scontainer")[0];c=f(i,a,u,u.getBoundingClientRect(),l.getBoundingClientRect()),u.scrollTop+=c}}},f=function(e,t,n,r,o){return"up"===e&&n.scrollTop>0?Math.max(t,0-n.scrollTop):"down"===e&&n.scrollTop<o.height-r.height?Math.min(t,o.bottom-r.bottom):0}},"0xDb":function(e,t,n){"use strict";t.c=function(e){return e?{hidden:!0}:{}},t.a=function(e){return Object.entries(e).reduce(function(e,t){var n,r=t[0],a=t[1];return Object.assign(e,(n={},n[o()(r)]=a,n))},{})},t.d=function(e){return Object.entries(e).reduce(function(e,t){var n,r=t[0],o=t[1];return Object.assign(e,(n={},n[i()(r)]=o,n))},{})};var r=n("NRb0"),o=n.n(r),a=n("OAqO"),i=n.n(a),s=n("vLgD");n.d(t,"b",function(){return s.a}),n.d(t,"e",function(){return s.b})},"1/YY":function(e,t){},"16tV":function(e,t,n){var r=n("tO4o"),o=n("ktak");e.exports=function(e){for(var t=o(e),n=t.length;n--;){var a=t[n],i=e[a];t[n]=[a,i,r(i)]}return t}},"1C3V":function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var r=n("AxSz"),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*";return e&&window.parent.postMessage(JSON.stringify({event:e,payload:t}),n)},n=function(n){if(n.source!==window&&!n.origin.includes("qiyukf")&&n.data&&"string"==typeof n.data)try{var r=JSON.parse(n.data),o=r.event,a=r.payload,i=void 0===a?{}:a;e[o]&&e[o](t,{type:o,payload:i,event:n})}catch(e){console.warn("[receive] error message data",e,n)}};return window.addEventListener("message",n),{send:t,clear:function(){return window.removeEventListener("message",n)}}},i={"message:get:preview-state":function(e){var t=s(),n=t.state,r=t.project;e("message:data:preview-state",o({},n.model.current,{isHighlight:Boolean(r&&r._highlight)}))},"message:set:preview-state":function(e,t){var n=t.payload,a=n.isHighlight,i=n.screenCid,c=s(),u=c.state.model,l=u.current,d=u.screens,p=c.project,f=c.dispatch;if(p&&void 0!==a&&a!==p._highlight&&(f({type:"projects:update-local",payload:o({},p,{_highlight:a})}),r.a.MB.currentProject._highlight=a),l.screenCid&&void 0!==i&&i!==l.screenCid){if(!d.find(function(e){return e.cid===i}))return console.warn("[message:set:preview-state] invalid screenCid");f({type:"entry:sync-runner:set-screen",payload:{cid:i}})}},"message:get:screen-list":function(e){var t=r.a.MB.webpackInterface.store.getState().model,n=t.current;e("message:data:screen-list",t.screens.filter(function(e){return e.project_cid===n.projectCid}).map(function(e){return{cid:e.cid,name:e.name,position:e.position,parent_cid:e.parent_cid,project_cid:e.project_cid}}))},"message:get:notification-state":function(e){var t=(r.a.MB.notification&&r.a.MB.notification.store&&r.a.MB.notification.store.getState()||{}).notifications;e("message:data:notification-state",{unreadCount:t?t.notifications.unreadNum:0})},"message:get:notification-list":function(e){var t=(r.a.MB.notification&&r.a.MB.notification.store&&r.a.MB.notification.store.getState()||{}).notifications;e("message:data:notification-list",t?t.notifications.notifications:[])}},s=function(){var e=r.a.MB.webpackInterface.store,t=e.getState,n=e.dispatch,o=t(),a=o.model.current.projectCid;return{getState:t,dispatch:n,state:o,project:a&&o.model.projects.find(function(e){return e.cid===a})}}},"1Yb9":function(e,t){e.exports=function(){return!1}},"22B7":function(e,t){e.exports=function(e,t){return e===t||e!==e&&t!==t}},"2Bk7":function(e,t,n){"use strict";function r(e){try{o(),e()}finally{a()}}function o(){c++}function a(){c--}function i(){a();for(var e=void 0;!c&&void 0!==(e=s.shift());)r(e)}t.a=function(e){s.push(e),c||(o(),i())},t.c=o,t.b=i;var s=[],c=0},"2Hvv":function(e,t,n){var r=n("imBK");e.exports=function(e){return r(this.__data__,e)>-1}},"2KeS":function(e,t,n){"use strict";function r(e,t,n){function o(){m===p&&(m=p.slice())}function a(){return l}function i(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return o(),m.push(e),function(){if(t){t=!1,o();var n=m.indexOf(e);m.splice(n,1)}}}function s(e){if(!Object(d.a)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(y)throw new Error("Reducers may not dispatch actions.");try{y=!0,l=u(l,e)}finally{y=!1}for(var t=p=m,n=0;n<t.length;n++)(0,t[n])();return e}var c;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(r)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var u=e,l=t,p=[],m=p,y=!1;return s({type:h.INIT}),c={dispatch:s,subscribe:i,getState:a,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");u=e,s({type:h.INIT})}},c[f.a]=function(){var e,t=i;return e={subscribe:function(e){function n(){e.next&&e.next(a())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:t(n)}}},e[f.a]=function(){return this},e},c}function o(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function a(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:h.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+h.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function i(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];"function"==typeof e[i]&&(n[i]=e[i])}var s=Object.keys(n),c=void 0;try{a(n)}catch(e){c=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(c)throw c;for(var r=!1,a={},i=0;i<s.length;i++){var u=s[i],l=n[u],d=e[u],p=l(d,t);if(void 0===p){var f=o(u,t);throw new Error(f)}a[u]=p,r=r||p!==d}return r?a:e}}function s(e,t){return function(){return t(e.apply(void 0,arguments))}}function c(e,t){if("function"==typeof e)return s(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),r={},o=0;o<n.length;o++){var a=n[o],i=e[a];"function"==typeof i&&(r[a]=s(i,t))}return r}function u(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function l(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,o){var a=e(n,r,o),i=a.dispatch,s=[],c={getState:a.getState,dispatch:function(e){return i(e)}};return s=t.map(function(e){return e(c)}),i=u.apply(void 0,s)(a.dispatch),m({},a,{dispatch:i})}}}Object.defineProperty(t,"__esModule",{value:!0});var d=n("sMP3"),p=n("2MIV"),f=n.n(p),h={INIT:"@@redux/INIT"},m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};n.d(t,"createStore",function(){return r}),n.d(t,"combineReducers",function(){return i}),n.d(t,"bindActionCreators",function(){return c}),n.d(t,"applyMiddleware",function(){return l}),n.d(t,"compose",function(){return u})},"2MIV":function(e,t,n){e.exports=n("bFAv")},"2X2u":function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},"2dbN":function(e,t){function n(e){if(e){var t=e.trim();return t=t.replace(/\.\d\d\d+/,""),t=t.replace(/-/,"/").replace(/-/,"/"),t=t.replace(/T/," ").replace(/Z/," UTC"),t=t.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(t)}}function r(e){return i.inWords(o(e))}function o(e){return(new Date).getTime()-e.getTime()}e.exports=function(e){return e instanceof Date?r(e):"string"==typeof e?r(n(e)):"number"==typeof e?r(new Date(e)):void 0};var a={allowFuture:!1,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",numbers:[],wordSeparator:" "}},i=a.strings;e.exports.settings=a,i.inWords=function(e){function t(t,n){var r="function"==typeof t?t(n,e):t,o=i.numbers&&i.numbers[n]||n;return r.replace(/%d/i,o)}var n=i.prefixAgo,r=i.suffixAgo;a.allowFuture&&e<0&&(n=i.prefixFromNow,r=i.suffixFromNow);var o=Math.abs(e)/1e3,s=o/60,c=s/60,u=c/24,l=u/365,d=o<45&&t(i.seconds,Math.round(o))||o<90&&t(i.minute,1)||s<45&&t(i.minutes,Math.round(s))||s<90&&t(i.hour,1)||c<24&&t(i.hours,Math.round(c))||c<48&&t(i.day,1)||u<30&&t(i.days,Math.floor(u))||u<60&&t(i.month,1)||u<365&&t(i.months,Math.floor(u/30))||l<2&&t(i.year,1)||t(i.years,Math.floor(l)),p=i.wordSeparator||"";return void 0===i.wordSeparator&&(p=" "),[n,d,r].join(p).toString().trim()},i.parse=n},"2iFZ":function(e,t,n){"use strict";function r(e){return c.n.channel(e)?"channel":Array.isArray(e)?String(e.map(function(e){return String(e)})):String(e)}function o(e,t){function n(t,n){if(a===l)return u;if(n)throw a=l,n;o&&o(t);var r=e[a](),i=r[0],s=r[1],c=r[2];return a=i,o=c,a===l?u:s}var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"iterator",o=void 0,a=t;return Object(c.q)(n,function(e){return n(null,e)},r,!0)}function a(e,t){for(var n=arguments.length,a=Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];var s={done:!1,value:Object(d.i)(e)},c=function(e){return{done:!1,value:d.f.apply(void 0,[t].concat(a,[e]))}},u=void 0,f=function(e){return u=e};return o({q1:function(){return["q2",s,f]},q2:function(){return u===p.a?[l]:["q1",c(u)]}},"q1","takeEvery("+r(e)+", "+t.name+")")}function i(e,t){for(var n=arguments.length,a=Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];var s={done:!1,value:Object(d.i)(e)},c=function(e){return{done:!1,value:d.f.apply(void 0,[t].concat(a,[e]))}},u=function(e){return{done:!1,value:Object(d.e)(e)}},f=void 0,h=void 0,m=function(e){return f=e},y=function(e){return h=e};return o({q1:function(){return["q2",s,y]},q2:function(){return h===p.a?[l]:f?["q3",u(f)]:["q1",c(h),m]},q3:function(){return["q1",c(h),m]}},"q1","takeLatest("+r(e)+", "+t.name+")")}function s(e,t,n){for(var a=arguments.length,i=Array(a>3?a-3:0),s=3;s<a;s++)i[s-3]=arguments[s];var u=void 0,h=void 0,m={done:!1,value:Object(d.a)(t,f.a.sliding(1))},y=function(){return{done:!1,value:Object(d.i)(h)}},v=function(e){return{done:!1,value:d.f.apply(void 0,[n].concat(i,[e]))}},g={done:!1,value:Object(d.d)(c.j,e)},b=function(e){return u=e},w=function(e){return h=e};return o({q1:function(){return["q2",m,w]},q2:function(){return["q3",y(),b]},q3:function(){return u===p.a?[l]:["q4",v(u)]},q4:function(){return["q2",g]}},"q1","throttle("+r(t)+", "+n.name+")")}var c=n("Vr3j"),u={done:!0,value:void 0},l={},d=n("JJnU"),p=n("xJpq"),f=n("cXw4");n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return s})},"3IRH":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"3rZI":function(e,t){e.exports=function(e,t,n,r){var o=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++o]);++o<a;)n=t(n,e[o],o,e);return n}},"41bs":function(e,t){},"5/ex":function(e,t,n){"use strict";function r(e){return s(e).join(" ")}function o(e,t){var n=e.propTypes,r=void 0===n?{}:n,o=Object.keys(r);return Object.entries(t).reduce(function(e,t){var n=l(t,2),r=n[0],a=n[1];return o.includes(r)?e:Object.assign(e,u({},r,a))},{})}function a(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector(e)}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return Array.from(t.querySelectorAll(e))}n.d(t,"c",function(){return d}),n.d(t,"f",function(){return r}),n.d(t,"e",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"d",function(){return c});var s=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var a=e[t];a&&(o[r++]=a)}return o};Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=document.querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1}),[Node.prototype,Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(e){e.hasOwnProperty("remove")||(e.remove=function(){null!==this.parentNode&&this.parentNode.removeChild(this)})}),Element.prototype.closest||(Element.prototype.closest=function(e){var t=document.querySelectorAll(e),n=this,r=void 0;do{for(r=t.length;--r>=0&&t.item(r)!==n;);}while(r<0&&(n=n.parentElement));return n});var c=Object.freeze({INPUT_ARROW:'<svg width="6" height="4" viewBox="0 0 6 4"><path d="M3 0l3 4H0"></path></svg>',DROPDOWN_ARROW:'<svg width="8" height="3" viewBox="0 0 8 3"><path d="M4.654.233L8 3H0L3.383.23c.37-.303.902-.302 1.27.003z" /></svg>'}),u=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},l=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/},"5HQq":function(e,t){e.exports={"screen-node-content":"Uuhb0VzPcnrk3zgUGbW_Q"}},"5Zxu":function(e,t){e.exports=function(e){return e}},"6+wF":function(e,t){},"6JlN":function(e,t){e.exports={"comment-marker":"_2DdCe4X_4uBwFVlS753YET"}},"6QCI":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=n("rxKx"),u=n.n(c),l=function(){function e(){var t=this;r(this,e),this.elementFrom=null,this.elementTo=null,this._delayedSync=null,this.delaySync=function(){t._delayedSync&&clearTimeout(t._delayedSync),t._delayedSync=setTimeout(function(){return t.sync()},100),t.sync()}}return e.prototype.init=function(e,t){this.elementFrom=e,this.elementTo=t,this.sync()},e.prototype.sync=function(){if(this.elementFrom&&this.elementTo){var e=this.elementFrom.scrollTop;this.elementTo.querySelector("#stickies").style.marginTop=0-e+"px"}},e}(),d=function(){function e(){o(this,e),this.timeoutMap=new Map}return e.prototype.setTimeout=function(e){function t(t,n,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t,n){var r=this,o=setTimeout(function(){t(),r.clearTimeout(e,t)},n);return this.setToken(e,t,o),o}),e.prototype.clearTimeout=function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){var n=this.getToken(e,t);void 0!==n&&(clearTimeout(n),this.clearToken(e,t))}),e.prototype.clearTimeoutByKey=function(e){var t=this,n=this.timeoutMap.get(e);void 0!==n&&(n.forEach(function(n,r){return t.clearTimeout(e,r)}),this.timeoutMap.delete(e))},e.prototype.clear=function(){var e=this;this.timeoutMap.forEach(function(t,n){return e.clearTimeoutByKey(n)})},e.prototype.setToken=function(e,t,n){var r=this.timeoutMap.get(e);void 0===r&&(r=new Map,this.timeoutMap.set(e,r)),r.set(t,n)},e.prototype.getToken=function(e,t){var n=this.timeoutMap.get(e);if(n)return n.get(t)},e.prototype.clearToken=function(e,t){var n=this.timeoutMap.get(e);n&&n.delete(t)},e}(),p=function(){return(new Date).getTime()},f=function(){function e(){a(this,e),this.mouseState={down:!1,moved:!1},this.scrollState={x:null,y:null,left:null,top:null,target:null},this.windowState={blur:!1},this.coolDownTime=p(),this.coolDownInterval=200}return e.prototype.isCoolDown=function(){var e=p()-this.coolDownTime;return this.coolDownTime+=e,e>this.coolDownInterval},e.prototype.resetCoolDown=function(){this.coolDownTime-=this.coolDownInterval},e.prototype.bind=function(e){var t=this,n=e.onScreenFocus;window.addEventListener("blur",function(){t.windowState.blur=!0}),window.addEventListener("focus",function(){t.windowState.blur&&(t.windowState.blur=!1,n())})},e.prototype.bindMobile=function(e){var t=this,n=e.onOrientationChange;window.addEventListener(void 0!==window.onorientationchange?"orientationchange":"resize",n),$("body").on("touchstart",".pcanvas",function(){t.mouseState.down=!0,t.mouseState.moved=!1}).on("touchmove",".pcanvas",function(){t.mouseState.down&&(t.mouseState.moved=!0)}).on("touchend",function(){t.mouseState.down=!1})},e.prototype.bindDesktop=function(e){var t=this,n=e.onAppMouseDown,r=e.onAppMouseMove;$("body").on("mousedown","#simulator-container",function(e){if(n(e,t.scrollState,t.mouseState))return!0;t.mouseState.down=!0,t.mouseState.moved=!1,t.scrollState.x=e.clientX,t.scrollState.y=e.clientY}).on("mousemove","#simulator-container",function(e){if(r(e,t.scrollState,t.mouseState))return!0;t.mouseState.moved=!0}),window.addEventListener("mouseup",function(){t.mouseState.down=!1})},e}(),h=function(){function e(){i(this,e)}return e.prototype.setObjectUrl=function(e,t){e&&(e.contentWindow?e.contentWindow.location.replace(t):e.setAttribute("data",t))},e.prototype.deviceOrient=function(){return $(window).width()>$(window).height()?"landscape":"portrait"},e.prototype.cloneFixed=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=n.show().clone();return o.attr("id",o.attr("id")+"gh"),t.v&&o.css("opacity",t.o/100),o.css("top",t.t()),o.hasClass("clickable")&&o.css("pointer-events","auto"),n.hide(),r?(t.isBottomFixed(e)&&(MB.isOddIOS()&&this.deviceOrient()===e.orient()?o.css("top",$("#simulator").height()-(e.h()-t.t())+MB.COMPONENTS.status_bar.height):o.css("top",$("#simulator").height()-(e.h()-t.t()))),o):o},e.prototype.setScreenBg=function(e){var t=Screen.find(e.data("cid"));t&&e.css({"background-color":t.bg(),"background-image":t.bgimage?"url("+t.getRealBgImage()+")":""})},e.prototype.screenPreview=function(e){return'\n      <div id="pscreen'+e.cid+'" class="pcanvas '+e.orient()+'" data-cid="'+e.cid+'" data-orientation="'+e.orient()+'">\n      <div class="widgets">\n        <div class="scontainer">\n          <div class="sheader"></div>\n          <div class="sfooter"></div>\n        </div>\n      </div>\n      <div class="stickies"></div>\n    </div>\n    '},e}(),m=function(){function e(){s(this,e)}return e.prototype.activeWidth=function(){return"portrait"===MB.currentScreen.orientation?MB.currentProject.width:MB.currentProject.height},e.prototype.activeHeight=function(){return"portrait"===MB.currentScreen.orientation?MB.currentProject.height:MB.currentProject.width},e.prototype.hideScreen=function(e){$(e).hide(),$(e).find(".iframe").each(function(e,t){MB.runner.runnerUtil.setObjectUrl(t,"about:blank")})},e.prototype.doTransition=function(e,t,n,r){var o=this;n.enableTransition(r.delay()),t.enableTransition(r.delay()),r.template&&-1!==e.indexOf("menu")&&(e="none"),$.nextTick(function(){o[e](t,n,r)})},e.prototype.none=function(e,t,n){t.addClass("active"),e.removeClass("active top"),this.hideScreen(e),MB.runner.doneTransition(t)},e.prototype.slideIn=function(e,t,n,r,o,a){var i=this;e.transitionEnd(function(){e.removeClass("active"),t.addClass("active top"),i.hideScreen(e),MB.runner.doneTransition(t)}),e[n](r),t[n](o)},e.prototype.slidebottom=function(e,t,n){this.slideIn(e,t,"translateY",0-this.activeHeight(),0,n)},e.prototype.slideleft=function(e,t,n){this.slideIn(e,t,"translateX",0-this.activeWidth(),0,n)},e.prototype.slidetop=function(e,t,n){this.slideIn(e,t,"translateY",this.activeHeight(),0,n)},e.prototype.slideright=function(e,t,n){this.slideIn(e,t,"translateX",this.activeWidth(),0,n)},e.prototype.slideMenu=function(e,t,n,r,o){t.zindex("2"),e.css("z-index","101"),e.transitionEnd(function(){MB.runner.doneTransition(t)}),e[n](r)},e.prototype.leftmenu=function(e,t,n){this.slideMenu(e,t,"translateX",this.activeWidth()*n.menu_offset/100,n)},e.prototype.rightmenu=function(e,t,n){this.slideMenu(e,t,"translateX",0-this.activeWidth()*n.menu_offset/100,n)},e.prototype.fixedIn=function(e,t,n,r,o){var a=this;t.addClass("top"),t.css("z-index","101"),t.transitionEnd(function(){0===r&&(e.removeClass("active"),t.addClass("active"),a.hideScreen(e)),MB.runner.doneTransition(t),0!==r&&t.css("z-index","101")}),t[n](r)},e.prototype.topin=function(e,t,n){this.fixedIn(e,t,"translateY",0,n)},e.prototype.popin=function(e,t,n){this.fixedIn(e,t,"translateY",0,n)},e.prototype.slideleft2=function(e,t,n){this.fixedIn(e,t,"translateX",0,n)},e.prototype.slideright2=function(e,t,n){this.fixedIn(e,t,"translateX",0,n)},e.prototype.leftdrawer=function(e,t,n){this.fixedIn(e,t,"translateX",this.activeWidth()*(n.menu_offset-100)/100,n)},e.prototype.rightdrawer=function(e,t,n){this.fixedIn(e,t,"translateX",this.activeWidth()*(100-n.menu_offset)/100,n)},e.prototype.fixedOut=function(e,t,n,r,o){var a=this;t.zindex("2"),e.transitionEnd(function(){e.removeClass("active"),t.addClass("active"),a.hideScreen(e),MB.runner.doneTransition(t)}),e[n](r)},e.prototype.leftout=function(e,t,n){this.fixedOut(e,t,"translateX",0-this.activeWidth(),n)},e.prototype.rightout=function(e,t,n){this.fixedOut(e,t,"translateX",this.activeWidth(),n)},e.prototype.topout=function(e,t,n){this.fixedOut(e,t,"translateY",0-this.activeHeight(),n)},e.prototype.popout=function(e,t,n){this.fixedOut(e,t,"translateY",this.activeHeight(),n)},e.prototype.transitionHandler=function(e,t,n,r,o){switch("leftmenu"===e&&t.addClass("menu lmenu"),"rightmenu"===e&&t.addClass("menu rmenu"),"leftdrawer"===e&&n.addClass("drawer ldrawer"),"rightdrawer"===e&&n.addClass("drawer rdrawer"),e){case"popin":case"slidebottom":n.translate(0,o);break;case"topin":case"slidetop":n.translate(0,0-o);break;case"popout":case"none":case"leftout":case"rightout":case"topout":case"leftmenu":case"rightmenu":n.translate(0,0);break;case"slideright":case"slideleft2":case"leftdrawer":n.translate(0-r,0);break;case"slideleft":case"slideright2":case"rightdrawer":n.translate(r,0)}n[0].offsetHeight},e}();t.a=function(e){e.Hammer=u.a,e.ScrollSync=l,e.TimeoutBucket=d,e.EventBucket=f,e.RunnerUtil=h,e.TransitionUtil=m}},"719n":function(e,t,n){"use strict";var r=["onAbort","onAnimationEnd","onAnimationIteration","onAnimationStart","onBlur","onCanPlay","onCanPlayThrough","onClick","onContextMenu","onCopy","onCut","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onFocus","onInput","onInvalid","onKeyDown","onKeyPress","onKeyUp","onLoad","onLoadedData","onLoadedMetadata","onLoadStart","onMouseDown","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onPaste","onPause","onPlay","onPlaying","onProgress","onRateChange","onReset","onScroll","onSeeked","onSeeking","onStalled","onSubmit","onSuspend","onTimeUpdate","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onTransitionEnd","onVolumeChange","onWaiting","onWheel"],o=["onAfterPrint","onBeforePrint","onBeforeUnload","onDeviceLight","onDeviceMotion","onDeviceOrientation","onDeviceProximity","onHashChange","onLanguageChange","onPopState","onRejectionHandled","onResize","onSelect","onStorage","onUnhandledRejection","onUnload","onUserProximity"],a=["onPointerCancel","onPointerDown","onPointerEnter","onPointerLeave","onPointerMove","onPointerOut","onPointerOver","onPointerUp"];e.exports={allEvents:r.concat(o).concat(a),documentEvents:r.concat(a),windowEvents:o}},"7YkW":function(e,t,n){var r=n("NGEn");e.exports=function(){if(!arguments.length)return[];var e=arguments[0];return r(e)?e:[e]}},"7vNm":function(e,t,n){"use strict";t.b=function(){var e=document.createElement("div");return document.body.appendChild(e),e},t.a=function(){var e=document.querySelector("#canvas").getBoundingClientRect(),t=document.querySelector("#screens"),n=t.getBoundingClientRect(),r=Math.abs(t.scrollLeft-(MB.config.screenContainerWidth-t.clientWidth)/2)>1,o=t.scrollTop!==MB.config.initialScrollTop,a=r||o;return{canvasTop:e.top,canvasLeft:e.left,canvasWidth:e.width,canvasHeight:e.height,screenTop:n.top,screenLeft:n.left,screenWidth:n.width,screenHeight:n.height,isDisplaced:a}},t.d=function(e){var t=e.getBoundingClientRect(),n=t.top,r=t.left,o=t.right,a=t.bottom,i=document.elementFromPoint((r+o)/2,(n+a)/2);return e.contains(i)},t.c=function(){var e=document.getSelection();if(!(e.rangeCount>0))return{};for(var t={},n=e.getRangeAt(0).commonAncestorContainer;n&&"P"!==n.nodeName&&"text_editor"!==n.id;){if(1===n.nodeType)switch(n.nodeName){case"I":t.italic=!0;break;case"B":t.bold=!0;break;case"U":t.underline=!0;break;case"STRIKE":t.lineThrough=!0;break;case"FONT":t.tc=n.color;var r=n.style.backgroundColor;r&&(t.bg=MB.rgb2hex(r));break;case"SPAN":t.bg=MB.rgb2hex(n.style.backgroundColor)}n=n.parentNode}return t}},"804a":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return p});var o=function(e){return e instanceof Array?e:e?[e]:[]},a=function(e){return e.reduce(function(e,t){var n=o(t);return n.length?e.reduce(function(e,t){return n.forEach(function(n){return e.push(t+"-"+n)}),e},[]):e},["@"])},i=function(){function e(){r(this,e),this.permissionMap={}}return e.prototype.set=function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];a(n).forEach(function(t){return e.permissionMap[t]=!0})},e.prototype.check=function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=a(n);return!!o.length&&o.every(function(t){return e.permissionMap[t]})},e}(),s=["owner","admin","editor","viewer","guest"],c=s.reduce(function(e,t,n){return e[t]=n,e},{}),u=function(e){return s.filter(function(t,n){return c[t]<=c[e]})},l=new i,d=l.set.bind(l),p=l.check.bind(l);d("project",["delete","create"],u("owner")),d("project-update",u("editor")),d("project-read-whitelist",u("viewer")),d("project-read",u("guest")),d("team-project-delete",u("admin")),d("team-project-create",u("editor")),d("team-project-read-whitelist",u("viewer")),d("team-project-read",u("guest")),d("collaborator",["delete","create","update"],["editor","viewer"],u("owner")),d("collaborator-read",["editor","viewer"],u("viewer")),d("team-collaborator",["delete","create","update"],["admin"],u("owner")),d("team-collaborator",["delete","create","update"],["editor","viewer"],u("admin")),d("team-collaborator-read",["admin","editor","viewer"],u("viewer"))},"8AZL":function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},"8Wq1":function(e,t){e.exports={"slice-container":"yWKU8qVPbqrRIRSJ_TjGi","slice-load-wrap":"_3WsSTJxbz12iOHZ8ntxQf8","slice-item":"_2vvvzR2E0SoIZOD3DAqHza",active:"_2WpARMx4pqMBHK1KM0kjLj",download:"_1hNQ5s7ZGKL2NIxtApkdLY","icon-download":"_2Bxe5XoVHVItE0i88jpN6d","no-slice":"_2d9jp1Mvca7Pr9eZSIevfN",spinner:"_1u-FVwfgZb3ahxMGw1-PnC","rotate-infinite":"_3nSb5BvCbI3mKp-n2u4hun","download-slice-load":"_3tq61brpxkFdCxReM8KHY-"}},"9UkZ":function(e,t,n){var r=n("aCM0"),o=n("vi0E"),a=n("UnEC"),i="[object Object]",s=Function.prototype,c=Object.prototype,u=s.toString,l=c.hasOwnProperty,d=u.call(Object);e.exports=function(e){if(!a(e)||r(e)!=i)return!1;var t=o(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==d}},"9aC9":function(e,t,n){"use strict";function r(e){var t=e.name,n=void 0===t?"":t,r=e.type,o=e.className,a=p(e,["name","type","className"]),s="mb"===r?"icon":r,c=n.replace(new RegExp("^("+f.join("|")+")-","i"),""),l=m(r);return i.a.createElement("span",d({className:Object(u.f)(["icon",r,!l&&s+"-"+c,o])},a),l&&c)}function o(e){var t=e.name,n=e.type,r=e.className,o=e.colorList,a=p(e,["name","type","className","colorList"]),s=l.find(function(e){return e.id===t});return!!s&&i.a.createElement("span",d({className:Object(u.f)(["duo-icon",y[n],r])},a),s.layer.map(function(e,n){return i.a.createElement("span",{key:e,className:"layer",style:{color:o[n]}},t+"__"+e)}))}n.d(t,"a",function(){return o});var a=n("GiK3"),i=n.n(a),s=n("KSGD"),c=n.n(s),u=n("5/ex"),l=[{id:"save",layer:["arrow","cloud"]},{id:"inspect",layer:["slash","bracket"]},{id:"play",layer:["arrow","circle"]},{id:"evenly_distribute_h",layer:["indicator","object"]},{id:"evenly_distribute_v",layer:["indicator","object"]},{id:"widget_align_bottom",layer:["indicator","object"]},{id:"widget_align_center",layer:["indicator","object"]},{id:"widget_align_left",layer:["indicator","object"]},{id:"widget_align_right",layer:["indicator","object"]},{id:"widget_align_top",layer:["indicator","object"]},{id:"widget_align_v_center",layer:["indicator","object"]}],d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},f=["dora","mb","icon","fa","md","ci"],h=["dora","md"],m=function(e){return h.includes(e)};r.propTypes={name:c.a.string.isRequired,type:c.a.string.isRequired,className:c.a.string},r.defaultProps={name:"",type:"icon"};var y={dora:"duodora"};o.propTypes={name:c.a.string.isRequired,type:c.a.oneOf(Object.keys(y)),className:c.a.string,colorList:c.a.array},o.defaultProps={name:"",type:"dora",colorList:[]},t.b=r},ALEw:function(e,t,n){!function(e,t){t(n("PJh5"))}(0,function(e){"use strict";return e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})},Am6F:function(e,t){e.exports={"search-container":"_3y2eVBvrGh0CBoLYjLE40z","preview-panel":"_972Atke01Y16jEOOPRt5R",search:"_13IXTqPxDZ7St_EVHky1im",expand:"_33UQXp4eOmuoqfuCsfYqsu"}},AxSz:function(e,t,n){"use strict";var r=n("2dbN"),o=n.n(r),a=n("+knQ"),i=n("HN2V"),s=n.n(i),c=window,u=c.confirm,l=c.alert,d=c.MB,p=c.MBLocale,f=c.I18N,h=c.Team,m=c.Project,y=c.Combo,v=c.Template,g=c.Screen,b=c.Screenstate,w=c.Widget,_=c.Widgetstate,O=c.Panel,S=c.Panelstate,C=c.Link,E=c.Collaborator,j=c.Comment,x=c.CommentThread,T=c.Asset,M=c.$;"zh-CN"===p&&s()(o.a.settings.strings,a.a);var k=window,P={MBLocale:p,parseTimeAgo:function(e){return o()(e)}},N={Team:h,Project:m,Combo:y,Template:v,Screen:g,Screenstate:b,Widget:w,Widgetstate:_,Panel:O,Panelstate:S,Link:C,Collaborator:E,Comment:j,CommentThread:x,Asset:T,requestCid:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")+Math.uuid(10,16)+Date.now()},queueSave:function(){return M("body").trigger("queue:save")}};t.a={Global:k,Storage:d.localStorageDelegate,confirm:function(){return u.apply(void 0,arguments)},alert:function(){return l.apply(void 0,arguments)},MB:d,I18N:f,L10N:P,SpineModel:N}},"Bj/7":function(e,t,n){function r(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}function o(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}function a(e,t,n){return s(document.body,e,t,n)}var i=n("iDEd"),s=n("ZE5A");e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!i.string(t))throw new TypeError("Second argument must be a String");if(!i.fn(n))throw new TypeError("Third argument must be a Function");if(i.node(e))return r(e,t,n);if(i.nodeList(e))return o(e,t,n);if(i.string(e))return a(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},BzO5:function(e,t){},C2y9:function(e,t){e.exports=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var a=e[t];a&&(o[r++]=a)}return o}},C53q:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=n("GiK3"),b=n.n(g),w=n("KSGD"),_=n.n(w),O=n("cbHe"),S=n("RUXH"),C=n.n(S),E=n("T2Un"),j=n.n(E),x=n("t7F0"),T=j.a.bind(C.a),M=function(e){var t=e.title,n=e.dataValue,r=void 0===n?[]:n,o=e.data,a=void 0===o?[]:o,i=e.text,s=e.color,c=e.className,u=e.colorUnit,l=e.first,d=Object(x.b)(s,"rgba"),p=Object(x.b)(s,u),f=r.length>0,h=4===r.length,m=T("panel",""+c,{"panel-bottom-8":!f,"panel-item-text":!!i,"shadow-panel":h});return s?b.a.createElement(P,{title:t,rgbaColor:d,stateColor:p}):b.a.createElement("div",{className:m,"data-value":t},i?b.a.createElement(O.b,{arrowed:!1,className:"panel-item item-flex-1",content:{click:I18N.preview_panel.copied},duration:1e3},b.a.createElement("div",{"data-type":"copy","data-placement":"top","data-clipboard-text":i,className:"panel-item-value text-content",dangerouslySetInnerHTML:{__html:i}})):b.a.createElement("div",{className:a.length<2?"single-panel-box":"mult-panel-box"},(l?a.slice(0,1):a).map(function(e,t){return b.a.createElement(O.b,{key:t,arrowed:!1,content:{click:I18N.preview_panel.copied},duration:1e3,className:"panel-item","data-value":r[t]},b.a.createElement("div",{"data-type":"copy","data-clipboard-text":e,className:"panel-item-value"},e))})))};M.propTypes={title:_.a.string,data:_.a.array,dataValue:_.a.array,text:_.a.string,color:_.a.string,colorUnit:_.a.string,first:_.a.bool,className:_.a.string};var k=j.a.bind(C.a),P=function(e){function t(n){r(this,t);var a=o(this,e.call(this,n));return a.handleClick=function(){a.setState(function(e){return{activeColor:e.colorList[e.index%4],index:e.index+1}})},a.state={index:0,activeColor:n.stateColor,colorList:"transparent"===n.rgbaColor?Array(4).fill("transparent"):N(n.rgbaColor)||[]},a}return a(t,e),t.prototype.componentWillReceiveProps=function(e){var t=e.stateColor;this.setState(function(e){return{activeColor:t}})},t.prototype.render=function(){var e=this.state.activeColor,t=this.props,n=t.title,r=t.rgbaColor,o=k("panel","panel-bottom-8");return b.a.createElement("div",{className:o,"data-value":n},b.a.createElement("div",{className:"panel-item panel-item-color item-flex-1"},b.a.createElement(O.b,{className:"panel-item-value textEllipsis",content:{click:I18N.preview_panel.copied},"data-type":"copy",arrowed:!1,"data-clipboard-text":e},e),b.a.createElement("div",{className:"panel-item-color-block",style:{backgroundColor:r},onClick:this.handleClick})))},t}(g.PureComponent),N=function(e){if(e)return[Object(x.b)(e,"rgba"),Object(x.b)(e,"rgb"),Object(x.b)(e,"argb"),Object(x.b)(e,"hex")]};P.propTypes={rgbaColor:_.a.string.isRequired,stateColor:_.a.string,title:_.a.string};var D=n("p/Rx"),L=function(e){var t=e.textStyles,n=void 0===t?[]:t,r=e.hiddSpacing,o=e.ratio,a=e.alignment,i=e.vertical_alignment,s=e.lineHeight,c=e.letterSpacing,u=e.unit,l=e.text,d=(e.o,e.colorUnit),p=e.fontStyle;e.padding;return b.a.createElement(ge,null,I18N.preview_panel.font,(n.length>0&&n.slice(0,1)).map(function(e,t){var n=e.color,r=e.font_size,a=(e.length,e.location),i=e.font_face,s=Object(x.e)(n),c=Object(x.b)(s,"rgba"),l=Object(D.a)(r,o,u),f=Object(x.b)(s,d);return b.a.createElement("div",{key:""+r+a+t},i&&b.a.createElement(M,{title:I18N.preview_panel.type_face,data:[i]}),p&&b.a.createElement(M,{title:I18N.preview_panel.font_style,data:[p]}),c&&b.a.createElement(P,{stateColor:f,title:I18N.preview_panel.color,rgbaColor:c}),l&&b.a.createElement(M,{title:I18N.preview_panel.font_size,data:[l]}))}),a&&b.a.createElement(M,{title:I18N.preview_panel.align,data:[a,i||"auto"],dataValue:[I18N.preview_panel.horizontal_align,I18N.preview_panel.vertical_align]}),s&&b.a.createElement(M,{title:I18N.preview_panel.graph,data:[s,c||"auto"],dataValue:[I18N.preview_panel.line_height,I18N.preview_panel.letter_spacing],first:r}),l&&b.a.createElement(M,{text:l,title:I18N.preview_panel.content}))};L.propTypes={textStyles:_.a.array,fontStyle:_.a.string,alignment:_.a.string,vertical_alignment:_.a.string,hiddSpacing:_.a.bool,letterSpacing:_.a.oneOfType([_.a.string,_.a.bool]),lineHeight:_.a.oneOfType([_.a.string,_.a.bool]),ratio:_.a.number,unit:_.a.string,text:_.a.string,o:_.a.number,padding:_.a.number,colorUnit:_.a.string};var R=function(e){var t=e.adapterLeft,n=e.adapterTop,r=e.adapterWidth,o=e.adapterHeight,a=e.opacity,i=e.radius,s=e.rotate;return b.a.createElement(ge,null,I18N.preview_panel.basic_attribute,t&&b.a.createElement(M,{title:I18N.preview_panel.position,dataValue:[I18N.preview_panel._x,I18N.preview_panel._y],data:[t,n]}),r&&b.a.createElement(M,{title:I18N.preview_panel.size,dataValue:[I18N.preview_panel.width,I18N.preview_panel.height],data:[r,o]}),s&&b.a.createElement(M,{title:I18N.preview_panel.rotation,data:[s]}),i&&b.a.createElement(M,{title:I18N.preview_panel.border_radius,data:[i]}),a&&b.a.createElement(M,{title:I18N.preview_panel.opacity,data:[a]}))};R.propTypes={adapterLeft:_.a.string,adapterHeight:_.a.string,adapterTop:_.a.string,adapterWidth:_.a.string,opacity:_.a.oneOfType([_.a.string,_.a.bool]),rotate:_.a.oneOfType([_.a.string,_.a.bool]),radius:_.a.oneOfType([_.a.string,_.a.number])};n("SdsR");var I=n("/EHJ"),A=n("5/ex"),U=n("WCZ4"),Y=n("V9Vg"),W=j.a.bind(C.a),F=function(){return b.a.createElement("div",null,"Error in GlobalAttributes")},B=function(e){function t(){var n,r,o;i(this,t);for(var a=arguments.length,c=Array(a),u=0;u<a;u++)c[u]=arguments[u];return n=r=s(this,e.call.apply(e,[this].concat(c))),r.handleDelColor=function(e){var t=Object(Y.d)(Object(x.b)(e,"rgba"));r.props.dispatch({type:"reducer:preview-toolbar:update",payload:{userPickColor:t}}),MB.event("删除了自选颜色","运行页")},r.handleClick=function(e){var t=e.target.dataset.clickReason;t&&MB.event("复制"+t,"运行页")},o=n,s(r,o)}return c(t,e),t.prototype.componentDidCatch=function(e,t){return console.log(e,t),b.a.createElement(F,null)},t.prototype.render=function(){var e=this.props,t=e.adapterWidth,n=e.adapterHeight,r=e.screenColor,o=void 0===r?[]:r,a=e.documentColor,i=void 0===a?[]:a,s=e.globalText,c=void 0===s?[]:s,u=e.globalColor,l=void 0===u?[]:u,d=e.userPickColor,p=void 0===d?[]:d,f=e.colorUnit,h=i.concat(l);return b.a.createElement("div",{onClick:this.handleClick},b.a.createElement("div",{className:W("container","global-layer")},b.a.createElement(M,{title:I18N.preview_panel.size,dataValue:[I18N.preview_panel.width,I18N.preview_panel.height],data:[t,n]})),b.a.createElement(ge,null,I18N.preview_panel.color_title,b.a.createElement(z,{title:I18N.preview_panel.pick_color,handleDelColor:this.handleDelColor,colorBlockMap:p,colorUnit:f,canDel:!0}),b.a.createElement(z,{title:I18N.preview_panel.screen_color,handleDelColor:this.handleDelColor,colorBlockMap:o,colorUnit:f}),b.a.createElement(z,{title:I18N.preview_panel.sketch_color,handleDelColor:this.handleDelColor,colorBlockMap:h,colorUnit:f,fromSketch:!0})),c.length>0&&b.a.createElement(ge,null,I18N.preview_panel.font_title,b.a.createElement(H,{globalText:c})))},t}(g.PureComponent);B.propTypes={adapterWidth:_.a.string.isRequired,adapterHeight:_.a.string.isRequired,colorUnit:_.a.string.isRequired,screenColor:_.a.array,userPickColor:_.a.array,documentColor:_.a.array,globalText:_.a.array,globalColor:_.a.array,dispatch:_.a.func};var H=function(e){return e.globalText.map(function(e){return b.a.createElement(M,{key:e,className:"global-font",data:[e]})})};H.propTypes={globalText:_.a.array};var z=function(e){var t=e.title,n=e.colorBlockMap,r=e.fromSketch,o=e.handleDelColor,a=e.canDel,i=e.colorUnit;return b.a.createElement("div",null,b.a.createElement("span",{className:"second-title"},t),b.a.createElement("div",{className:"panel-row"},n.length?n.map(function(e,n){var s=q(r,e,"rgba"),c=Object(x.b)(s,i);return b.a.createElement(V,{key:""+n+e,canDel:a,title:t,handleDelColor:o,color:c,rgbaColor:s,colorUnit:i})}):b.a.createElement(G,null)))};z.propTypes={title:_.a.string.isRequired,colorBlockMap:_.a.array.isRequired,handleDelColor:_.a.func.isRequired,fromSketch:_.a.bool,canDel:_.a.bool,colorUnit:_.a.string};var q=function(e,t,n){return Object(x.b)(e?Object(x.e)(t):t,n)},V=function(e){var t=e.color,n=e.rgbaColor,r=e.colorUnit,o=(e.index,e.handleDelColor),a=e.canDel,i=e.title;return b.a.createElement(I.a,{inflexible:!0,position:"top",unfold:"right",arrowed:!0,shouldOpenOnHover:!0,opener:b.a.createElement(O.b,{arrowed:!1,"data-type":"copy","data-click-reason":i,"data-clipboard-text":t,className:"row-item color-block",style:{background:n},duration:1e3,content:{click:I18N.preview_panel.copied}}),menu:b.a.createElement(K,{color:t,rgbaColor:n,canDel:a,handleDelColor:o}),menuClassName:Object(A.f)(["palette-dropdown-menu",r])})};V.propTypes={color:_.a.string.isRequired,title:_.a.string,handleDelColor:_.a.func,index:_.a.number,colorUnit:_.a.string,rgbaColor:_.a.string,canDel:_.a.bool};var G=function(){return b.a.createElement("div",{className:"forbid-color"},b.a.createElement("div",{className:"transparent"}))},K=function(e){function t(){var n,r,o;i(this,t);for(var a=arguments.length,c=Array(a),u=0;u<a;u++)c[u]=arguments[u];return n=r=s(this,e.call.apply(e,[this].concat(c))),r.handleClick=function(e){var t=r.props,n=t.rgbaColor;(0,t.handleDelColor)(n)},o=n,s(r,o)}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.color,n=e.canDel;return b.a.createElement("div",null,b.a.createElement("span",null,t),n&&b.a.createElement(U.b,{type:"dora",name:"trash",className:"trash",onClick:this.handleClick}))},t}(g.PureComponent);K.propTypes={color:_.a.string.isRequired,rgbaColor:_.a.string,handleDelColor:_.a.func.isRequired,canDel:_.a.bool};var $=function(e){function t(){var n,r,o;u(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=l(this,e.call.apply(e,[this].concat(i))),r.renderCode=function(e){return{px:r.renderCss,dp:r.renderAndroidCode,pt:r.renderIos}[Object(D.f)(e)]()},r.renderIos=function(){var e=r.props,t=e.code,n=e.language,o=e.text;return b.a.createElement(Z,{code:t,language:n,text:o})},r.renderCss=function(){var e=r.props,t=e.code,n=e.language;return b.a.createElement(J,{language:n,code:t})},r.renderAndroidCode=function(){var e=r.props,t=e.whichAndView,n=e.code,o=e.text;return b.a.createElement(X,{code:n,text:o,whichAndView:t})},o=n,l(r,o)}return d(t,e),t.prototype.render=function(){var e=this.props.language;return b.a.createElement(ge,null,b.a.createElement("div",null,e.toUpperCase(),b.a.createElement(ue,{text:"#code-content"})),b.a.createElement("div",{className:"code-content",id:"code-content"},this.renderCode(e)))},t}(g.PureComponent);$.propTypes={code:_.a.object,whichAndView:_.a.string,language:_.a.string,text:_.a.string};var J=function(e){var t=e.language,n=e.code,r=Q(t),o=ee(t),a=ne(n);return Object.entries(a).map(function(e){var t=e[0],n=e[1];return b.a.createElement("div",{key:t},""+t+o+n+r)})};J.propTypes={code:_.a.object.isRequired,language:_.a.string};var Z=function(e){var t=e.code,n=e.text;return te({code:t,text:n}).map(function(e){return b.a.createElement("div",{key:e},e)})};Z.propTypes={code:_.a.object.isRequired,text:_.a.string};var X=function(e){var t=e.code,n=e.text,r=e.whichAndView;return b.a.createElement("div",null,b.a.createElement("div",{className:"highlight-row"},"<"+r),Object.entries(t).map(function(e){var t=e[0],n=e[1];return b.a.createElement("div",{key:t},"android:"+t+'="'+n+'"')}),n.length>0&&b.a.createElement("div",null,'android:text="'+n+'"'),b.a.createElement("div",{className:"highlight-row"},"/>"))};X.propTypes={code:_.a.object.isRequired,text:_.a.string,whichAndView:_.a.string};var Q=function(e){switch(e){case"stylus":case"sass":return"";default:return";"}},ee=function(e){switch(e){case"stylus":return" ";default:return": "}},te=function(e){var t=e.code,n=e.text,r=t.width,o=t.height,a=t.x,i=t.y,s=t.fontFamily,c=t.cornerRadius,u=t.fontSize,l=t.opacity,d=t.borderWidth,p=t.borderColor,f=t.alignment,h=t.backgroundColor,m=n?"textLayer":"layer",y=n?"UILabel":"UIView",v=[];return v.push("let "+m+" = "+y+"(frame: CGRect(x: "+a+", y:"+i+", width: "+r+", height: "+o+"))"),h&&v.push(m+".backgroundColor = "+h),l&&v.push(m+".alpha = "+l),c&&v.push("layer.layer.cornerRadius = "+c),d&&v.push("layer.layer.borderWidth = "+d),p&&v.push("layer.layer.borderColor = "+p+".cgColor"),n&&(v.push('let textContent = "'+n+'"'),v.push('let textString = NSMutableAttributedString(string: textContent, attributes: [\n      NSAttributedStringKey.font: UIFont(name: "'+s+'", size: '+u+")!\n      ])"),v.push("let textRange = NSRange(location:0, length: textString.length)"),v.push("let paragraphStyle = NSMutableParagraphStyle()"),v.push("paragraphStyle.alignment = ."+f),v.push("textString.addAttribute(NSAttributedStringKey.paragraphStyle, value: paragraphStyle, range: textRange)"),v.push("textLayer.attributedText = textString")),v},ne=function(e){if(e["border-color"]&&e["border-width"]){var t={border:e["border-width"]+" solid "+e["border-color"]};return delete e["border-color"],delete e["border-width"],Object.assign(e,t)}return e},re=n("O4Lo"),oe=n.n(re),ae=function(e){function t(){var n,r,o;p(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=f(this,e.call.apply(e,[this].concat(i))),r.imageRef=function(e){return r.$image=e},r.handleClick=function(){var e=r.props,t=e.imageSetZip,n=e.name;Object(Y.f)({url:t,name:n,type:"zip"})},r.handleOnload=function(){Object(Y.c)({image:r.$image,adjust:38}),r.setState({imageLoad:!0})},r.handleError=function(){console.error("image info error")},r.debounceClick=oe()(r.handleClick,500,{leading:!0}),o=n,f(r,o)}return h(t,e),t.prototype.render=function(){var e=this.props,t=e.imageSet,n=e.name,r=t[0].src,o={background:"url("+ie+") left top",backgroundSize:"cover"};return b.a.createElement(ge,null,b.a.createElement("div",{className:"slice-title"},I18N.preview_panel.export,b.a.createElement("span",{onClick:this.debounceClick},I18N.preview_panel.download_single)),b.a.createElement("div",{className:"slice-panel"},b.a.createElement("div",{className:"slice-item-wrap",style:o},b.a.createElement("img",{src:r,alt:n,ref:this.imageRef,onLoad:this.handleOnload,onError:this.handleError})),b.a.createElement("p",{className:"slice-item-name"},n)))},t}(g.PureComponent);ae.propTypes={imageSetZip:_.a.string,imageSet:_.a.array,name:_.a.string};var ie="/images/preview/slice-bg.png",se=n("V33R"),ce=n.n(se),ue=function(e){function t(){m(this,t);var n=y(this,e.call(this));return n.onClipboardEvent=n.onClipboardEvent.bind(n),n}return v(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.target,r=t.text;this.clipboard=r?new ce.a(this.$copyBtn,{text:function(){return Object(Y.p)(document.querySelector(r).innerText)}}):new ce.a(this.$copyBtn,{target:function(){return document.querySelector(n)}}),this.clipboard.on("success",function(t){e.error=!1,window.getSelection().removeAllRanges(),e.onClipboardEvent()}),this.clipboard.on("error",function(t){e.error=!0,e.onClipboardEvent()})},t.prototype.componentWillUnmount=function(){this.clipboard.destroy()},t.prototype.onClipboardEvent=function(){MB.event("使用了代码复制","运行页")},t.prototype.render=function(){var e=this;return b.a.createElement(O.b,{arrowed:!1,content:{click:I18N.preview_panel.copied},duration:1e3,className:C.a.copyBtn},b.a.createElement("span",{ref:function(t){return e.$copyBtn=t}},I18N.copy))},t}(g.Component);ue.propTypes={target:_.a.string,text:_.a.string};var le=j.a.bind(C.a),de=function(e){var t=e.value;return b.a.createElement("div",{className:le("container")+" "+le("layer-name")},b.a.createElement(M,{title:I18N.preview_panel.layer_name,data:[t]}))};de.propTypes={value:_.a.string};var pe=function(e){var t=e.colorUnit,n=e.backgroundColorSort;return b.a.createElement(ge,null,I18N.preview_panel.fills,n.map(function(e,n){var r=e.value,o=e.type,a=void 0===o?"color":o,i=e.opacity,s=e.gradient,c=Object(x.c)(r),u=c&&Object(x.b)(c,t);return"color"===a?b.a.createElement(P,{stateColor:u,rgbaColor:c,title:I18N.preview_panel.color,key:n}):b.a.createElement(fe,{gradient:s,colorUnit:t,opacity:i,key:n})}))};pe.propTypes={backgroundColorSort:_.a.array,colorUnit:_.a.string};var fe=function(e){var t=e.gradient,n=t.color_stops,r=void 0===n?[]:n,o=(t.from,t.to,t.type),a=e.opacity,i=e.colorUnit;return b.a.createElement("div",null,r.length>0&&r.map(function(e,t){var n=e.color;e.position;return b.a.createElement("div",{key:""+n+t},b.a.createElement(M,{colorUnit:i,color:Object(x.c)(n),title:0==t?I18N.preview_panel.gradient:""}))}),a&&b.a.createElement(M,{title:I18N.preview_panel.opacity,data:[100*a+"%"]}),o&&b.a.createElement(M,{data:[o],title:I18N.preview_panel.type}))};fe.propTypes={gradient:_.a.object.isRequired,opacity:_.a.number,colorUnit:_.a.string.isRequired};var he=function(e){var t=e.shadows,n=void 0===t?[]:t,r=e.isInnerShaow,o=void 0!==r&&r,a=e.unit,i=e.ratio,s=e.colorUnit,c=e.textShadows,u=void 0===c?[]:c;return b.a.createElement(ge,null,o?I18N.preview_panel.inner_shadow:I18N.preview_panel.shadow,n.length>0&&b.a.createElement(me,{shadows:n,unit:a,ratio:i,colorUnit:s}),u.length>0&&b.a.createElement(me,{shadows:u,unit:a,ratio:i,colorUnit:s}))};he.propTypes={shadows:_.a.array,textShadows:_.a.array,isInnerShaow:_.a.bool,unit:_.a.string.isRequired,ratio:_.a.number.isRequired,colorUnit:_.a.string.isRequired};var me=function(e){var t=e.shadows,n=e.unit,r=e.ratio,o=e.colorUnit;return t.map(function(e,t){var a=e.color,i=e.offset_x,s=void 0===i?0:i,c=e.offset_y,u=void 0===c?0:c,l=e.blur_radius,d=void 0===l?0:l,p=e.spread,f=void 0===p?0:p,h=Object(D.a)(s,r,n),m=Object(D.a)(u,r,n),y=Object(D.a)(d,r,n),v=Object(D.a)(f,r,n);return b.a.createElement("div",{className:"shadow-item-gap",key:t},a&&b.a.createElement(M,{title:I18N.preview_panel.color,color:Object(x.c)(a),colorUnit:o}),b.a.createElement(M,{data:[h,m,y,v],dataValue:[I18N.preview_panel._x,I18N.preview_panel._y,I18N.preview_panel.blur,I18N.preview_panel.spread]}))})};me.propTypes={shadows:_.a.array,unit:_.a.string,ratio:_.a.number,colorUnit:_.a.string};var ye=function(e){var t=e.colorUnit,n=e.borderSort,r=e.unit,o=e.ratio;return b.a.createElement(ge,null,I18N.preview_panel.borders,n.reverse().map(function(e,n){var a=e.position,i=void 0===a?"inside":a,s=e.color,c=e.thickness,u=e.gradient,l=s&&Object(x.c)(s),d=c&&Object(D.a)(c,o,r);return[s?b.a.createElement(M,{key:""+n+l,color:l,title:I18N.preview_panel.color,colorUnit:t}):b.a.createElement(fe,{gradient:u,colorUnit:t}),i&&b.a.createElement(M,{key:""+n+i,title:I18N.preview_panel.position,data:[i]}),d&&b.a.createElement(M,{key:""+n+d,title:I18N.preview_panel.thickness,data:[d]})]}))};ye.propTypes={borderSort:_.a.array.isRequired,colorUnit:_.a.string.isRequired,unit:_.a.string.isRequired,ratio:_.a.number.isRequired};var ve=function(){return b.a.createElement("div",{className:le("layer-load")},b.a.createElement("span",{className:le("spinner")}))},ge=function(e){var t=e.children;return b.a.createElement("section",null,b.a.createElement("div",{className:le("header")},t[0]),b.a.createElement("div",{className:le("container")},t.slice(1)))};ge.propTypes={children:_.a.array},n.d(t,"a",function(){return M}),n.d(t,"e",function(){return P}),n.d(t,"m",function(){return L}),n.d(t,"b",function(){return R}),n.d(t,"h",function(){return B}),n.d(t,"d",function(){return $}),n.d(t,"i",function(){return ae}),n.d(t,"f",function(){return ue}),n.d(t,"l",function(){return he}),n.d(t,"g",function(){return pe}),n.d(t,"j",function(){return de}),n.d(t,"c",function(){return ye}),n.d(t,"k",function(){return ve}),n.d(t,"n",function(){return ge})},DEIr:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n("GiK3"),s=n.n(i),c=n("PJh5"),u=n.n(c),l=n("lgh0"),d=n("cF0m"),p=n("LCdv"),f='<svg viewBox="0 0 64 64"><g fill="none" fill-rule="evenodd"><circle stroke-opacity=".854" stroke="#8D9EA7" cx="32" cy="32" r="31.5"/><path d="M32 28.23l12.67-12.67c.292-.293.767-.293 1.06 0l2.71 2.71c.293.293.293.768 0 1.06L35.77 32l12.67 12.67c.293.292.293.767 0 1.06l-2.71 2.71c-.293.293-.768.293-1.06 0L32 35.77 19.33 48.44c-.292.293-.767.293-1.06 0l-2.71-2.71c-.293-.293-.293-.768 0-1.06L28.23 32 15.56 19.33c-.293-.292-.293-.767 0-1.06l2.71-2.71c.293-.293.768-.293 1.06 0L32 28.23z" fill="#415058"/></g></svg>',h=n("WCZ4"),m=n("C53q"),y=n("0xDb"),v=["zh-CN","en"],g={gift:["最高领取价值<em>{price} 元 VIP 会员</em>","Get<br>VIP membership <em>up to {price}</em>"],joinNow:["立即参与","Join Now"],signupNow:["立即注册","Sign up"],signup:["注册","Sign up"],signupForMockingBot:["注册墨刀帐户","Sign up for MockingBot"],name:["姓名","Name"],email:["Email 地址","Email"],pwd:["密码","Password"],emailTaken:["Email 已被使用","The email has been taken already!"],agreeToTOS:['点击「立即注册」按钮将视为您<br />同意墨刀<a href="/tos" target="_blank">使用条款</a>','By clicking ‘Sign up’, <br>you are agreeing to MockingBot’s <a href="/tos" target="_blank">Terms of Service</a>.'],alreadyAUser:["已有墨刀帐戶，查看活动详情","Already a user? Join the event now!"],youveWon:["您已获得","You’ve won the "],newbieAward:["尝鲜奖","Newbie Award"],stormAward:["神器奖","Storm Award"],checkAccountForAward:['可在「<a href="/account" target="_blank">我的帐户</a>」中查看','Check the award in your “<a href="/account" target="_blank">Account</a>”'],eventURL:["活动链接","Event URL"],checkStormAward:["去了解神器奖","Check out Storm Award"],shareWithFriends:["分享活动给好友","Share with Friends"]},b=["CN","US","IN"],w={currencySymbol:["¥","$","$"],sketchPluginEvent201801Value:["78","19.98","9.98"],sketchPluginEvent201801URL:["https://modao.cc/event/2018/01/sketch-plugin","https://mockingbot.com/event/2018/01/sketch-plugin","https://mockingbot.in/event/2018/01/sketch-plugin"]};n("ieXk");n.d(t,"b",function(){return W}),n.d(t,"d",function(){return F}),n.d(t,"a",function(){return B}),n.d(t,"c",function(){return H});var _=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O=window.MB,S=(O=void 0===O?{}:O).localStorageDelegate,C=void 0===S?localStorage:S,E=document.documentElement,j=(window.MB||E.dataset).serverCountry,x=void 0===j?"CN":j,T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"CN";return w.currencySymbol[b.indexOf(e)]}(x),M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";return function(t){return g[t][v.indexOf(e)]}}("en"===E.lang?"en":"zh-CN"),k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"CN";return function(t){return w[t][b.indexOf(e)]}}(x),P=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,N=/^2\.3\.\d+/,D="sketch_plugin_event_2018_01_holy_grail",L="sketch_plugin_event_2018_01_gift_closed",R=new Set(JSON.parse(C.getItem(D)||"[]")),I="CN"===x&&u()().isBefore("2018-02-10","day")||"CN"!==x&&u()().isAfter("2018-02-13","hour"),A=new URLSearchParams(location.search),U=A.has("inspect"),Y=N.test(A.get("sketch_plugin_version")),W=function(e){function t(n){r(this,t);var a=o(this,e.call(this,n));a.onSignUp=function(){return a.setState({hasSignedUp:!0})},a.onCloseEventGift=function(){return a.setState({isEventGiftClosedByUser:!0},function(){return!a.props.isDemo&&C.setItem(L,!0)})},a.onOpenTrialAward=function(){return a.setState({shouldShowTrialAward:!0})},a.onCloseAward=function(){return a.setState({shouldShowTrialAward:!1,shouldShowHolyGrailAward:!1})};var i=MB.user&&MB.user.email,s=R.has(i),c=!!i&&!s&&U&&Y;return c&&C.setItem(D,JSON.stringify(R.add(i))),a.state={isFormDataWrong:!1,hasSignedUp:!1,shouldShowHolyGrailAward:c,shouldShowTrialAward:!1,isEventGiftClosedByUser:!n.isDemo&&!!C.getItem(L)},a}return a(t,e),t.prototype.render=function(){var e=this.props.isLoggedIn,t=this.state,n=t.isEventGiftClosedByUser,r=t.hasSignedUp,o=t.shouldShowTrialAward,a=t.shouldShowHolyGrailAward,i=I&&!n;return s.a.createElement("div",null,i&&s.a.createElement("div",{className:"event-gift"},s.a.createElement("button",{className:"close",onClick:this.onCloseEventGift,dangerouslySetInnerHTML:{__html:f}}),s.a.createElement("span",{className:"desc",dangerouslySetInnerHTML:{__html:M("gift").replace(/\{price\}/g,""+T+k("sketchPluginEvent201801Value"))}}),e||r?s.a.createElement("a",{className:"start",href:"/event/2018/01/sketch-plugin",target:"_blank"},M("joinNow")):s.a.createElement(F,{onOpenTrialAward:this.onOpenTrialAward,onSignUp:this.onSignUp})),s.a.createElement(B,{isOpen:o||a,type:o?"trial":a?"holy-grail":null,onClose:this.onCloseAward}))},t}(i.PureComponent),F=function(e){function t(n){r(this,t);var a=o(this,e.call(this,n));return a.createOnFormDataChange=function(e){return function(t){var n,r=t.target.value;return a.setState({formData:_({},a.state.formData,(n={},n[e]=r,n))})}},a.onChangeEmail=function(e){return a.setState({formData:_({},a.state.formData,{email:e})})},a.onSubmitSignUp=function(){var e=a.state.formData,t=e.name,n=e.email,r=e.pwd;a.setState({isFormDataWrong:!1}),Object(y.e)("/events/sketch_plugin_sign_up.json",JSON.stringify({username:t,email:n,password:r,locale:"zh-CN"})).then(function(){return Object(y.e)("/sessions.json",JSON.stringify({email:n,password:r})).then(function(){var e=a.props,t=e.onOpenTrialAward,n=e.onSignUp;if(!I)return location.assign("/workspace/apps");$(".sign-up-modal .close-btn").click(),t(),n()})}).catch(function(){return a.setState({isFormDataWrong:!0})})},a.state={formData:{name:"",email:"",pwd:""},isFormDataWrong:!1},a}return a(t,e),t.prototype.render=function(){var e=this.state,t=e.formData,n=t.name,r=t.email,o=t.pwd,a=e.isFormDataWrong,i=!!n&&P.test(r)&&!!o;return s.a.createElement(l.a,{openerType:"custom",opener:s.a.createElement("button",{className:"start"},M("signupNow")),className:"sign-up-modal",title:M("signupForMockingBot")},s.a.createElement("div",{className:"input-entry"},s.a.createElement(h.b,{type:"mb",name:"user"}),s.a.createElement(p.e,{placeholder:M("name"),defaultValue:n,onChange:this.createOnFormDataChange("name")})),s.a.createElement("div",{className:"input-entry"},s.a.createElement(h.b,{type:"mb",name:"mail"}),s.a.createElement(p.f,{placeholder:M("email"),defaultValue:r,onChange:this.onChangeEmail})),s.a.createElement("div",{className:"input-entry"},s.a.createElement(h.b,{type:"mb",name:"lock"}),s.a.createElement(p.e,{placeholder:M("pwd"),type:"password",defaultValue:o,onChange:this.createOnFormDataChange("pwd")})),s.a.createElement(d.a,{type:"primary",isDisabled:!i,onClick:this.onSubmitSignUp},M("signup")),a?s.a.createElement("p",{className:"error-msg"},M("emailTaken")):s.a.createElement("p",{dangerouslySetInnerHTML:{__html:M("agreeToTOS")}}),s.a.createElement("a",{className:"RegularButton",target:"_blank",href:"/event/2018/01/sketch-plugin"},M("alreadyAUser")))},t}(i.PureComponent),B=function(e){function t(n){r(this,t);var a=o(this,e.call(this,n));return a.onShare=function(){return a.setState({isSharing:!0})},a.onClose=function(){var e=a.props,t=e.type,n=e.onClose;return"trial"===t?location.reload(!0):n()},a.state={isSharing:!1},a}return a(t,e),t.prototype.render=function(){var e=this.props,t=e.isOpen,n=e.onClose,r=e.type,o=this.state.isSharing;return!I&&s.a.createElement(l.a,{isOpen:t,className:"award-modal "+r+" "+(o?"is-sharing":""),onClose:n},s.a.createElement("button",{className:"close-btn",dangerouslySetInnerHTML:{__html:f},onClick:this.onClose}),s.a.createElement("div",{className:"award"}),s.a.createElement("div",{className:"awarding"},s.a.createElement("h2",null,M("youveWon"),M("trial"===r?"newbieAward":"stormAward")),s.a.createElement("p",{dangerouslySetInnerHTML:{__html:M("checkAccountForAward")}})),s.a.createElement("div",{className:"sharing"},s.a.createElement("div",{className:"qrcode"}),s.a.createElement(m.f,{text:"#event-url"},M("eventURL")),s.a.createElement("span",{hidden:!0,id:"event-url"},k("sketchPluginEvent201801URL"))),s.a.createElement("footer",null,"trial"===r&&s.a.createElement("a",{className:"go-to-event-page",target:"_blank",href:"/event/2018/01/sketch-plugin#holy-grail-award",onClick:this.onClose},M("checkStormAward")),s.a.createElement("button",{className:"share",onClick:this.onShare},M("shareWithFriends"))))},t}(i.PureComponent),H=function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.render=function(){return I&&s.a.createElement("a",{className:"SantaBot",target:"_blank",href:"/event/2018/01/sketch-plugin"})},t}(i.PureComponent)},EF4r:function(e,t){},EHRO:function(e,t){e.exports=function(e,t){return e===t||e!==e&&t!==t}},FhcP:function(e,t,n){var r=n("7YkW"),o=n("2X2u"),a=n("dmQx"),i=1,s=2;e.exports=function(e,t,n,c,u,l){var d=n&i,p=e.length,f=t.length;if(p!=f&&!(d&&f>p))return!1;var h=l.get(e);if(h&&l.get(t))return h==t;var m=-1,y=!0,v=n&s?new r:void 0;for(l.set(e,t),l.set(t,e);++m<p;){var g=e[m],b=t[m];if(c)var w=d?c(b,g,m,t,e,l):c(g,b,m,e,t,l);if(void 0!==w){if(w)continue;y=!1;break}if(v){if(!o(t,function(e,t){if(!a(v,t)&&(g===e||u(g,e,n,c,l)))return v.push(t)})){y=!1;break}}else if(g!==b&&!u(g,b,n,c,l)){y=!1;break}}return l.delete(e),l.delete(t),y}},Fp5l:function(e,t,n){var r=n("bGc4"),o=n("UnEC");e.exports=function(e){return o(e)&&r(e)}},G8Xe:function(e,t){e.exports={"play-setting-menu":"_3TmWxItyCCfx5ECcF3ONKC"}},G8ar:function(e,t){e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},GF1g:function(e,t){e.exports={shell:"xQWL5y1StSdX9vRfMCP2i"}},H0UK:function(e,t){e.exports={"sub-toolbar":"_26WuWyn-N-_GGf6IWYxWk5","select-input":"UB1TOF9YiokJzPsq-Ao83"}},HKUm:function(e,t){},HN2V:function(e,t,n){var r=n("HbnZ"),o=n("0DSl")(function(e,t,n){r(e,t,n)});e.exports=o},HT7L:function(e,t){e.exports=function(){return!1}},HW6M:function(e,t,n){var r,o;!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===o)for(var i in r)a.call(r,i)&&r[i]&&e.push(i)}}return e.join(" ")}var a={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=n:(r=[],void 0!==(o=function(){return n}.apply(t,r))&&(e.exports=o))}()},HbnZ:function(e,t,n){function r(e,t,n,l,d){e!==t&&i(t,function(i,u){if(c(i))d||(d=new o),s(e,t,u,n,r,l,d);else{var p=l?l(e[u],i,u+"",e,t,d):void 0;void 0===p&&(p=i),a(e,u,p)}},u)}var o=n("bJWQ"),a=n("O1jc"),i=n("rpnb"),s=n("jMi8"),c=n("yCNF"),u=n("t8rQ");e.exports=r},ICSD:function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},IDd6:function(e,t,n){"use strict";var r=n("2KeS").compose;t.__esModule=!0,t.composeWithDevTools=function(){if(0!==arguments.length)return"object"==typeof arguments[0]?r:r.apply(null,arguments)},t.devToolsEnhancer=function(){return function(e){return e}}},IPGu:function(e,t,n){var r=n("SayF"),o=n("yxsw"),a=n("ZT2e"),i=n("pVq3");e.exports=function(e,t,n){return e=a(e),void 0===(t=n?void 0:t)?o(e)?i(e):r(e):e.match(t)||[]}},IQUt:function(e,t,n){e.exports=n("PPhe")},Ibgh:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){var t={containerReducerMap:{},viewMap:{},sagaMap:{},extendCallback:null};return e.forEach(function(e){t.containerReducerMap=a(i,t.containerReducerMap,e.containerReducerMap),t.viewMap=a(i,t.viewMap,e.viewMap),t.extendCallback=a(s,t.extendCallback,e.extendCallback),t.sagaMap=a(i,t.sagaMap,e.sagaMap)}),t}function a(e,t,n){return n?t?e(t,n):n:t}function i(e,t){function n(e,t){r[e]=t}var r={};for(var o in e)n(o,e[o]);for(var a in t)n(a,t[a]);return r}function s(e,t){return function(){return e.apply(void 0,arguments),t.apply(void 0,arguments)}}var c=function(){function e(){r(this,e),this.store=null,this.viewMap={},this.observerMap={}}return e.prototype.setStore=function(e){this.store=e},e.prototype.callObserver=function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return this.observerMap[e]&&(t=this.observerMap)[e].apply(t,[e].concat(r))},e.prototype.setObserver=function(e,t){this.observerMap[e]=t},e.prototype.setView=function(e,t){this.viewMap[e]=t},e.prototype.callViewMethod=function(e,t){for(var n,r=this.viewMap[e],o=arguments.length,a=Array(o>2?o-2:0),i=2;i<o;i++)a[i-2]=arguments[i];return r&&r[t]?(this.callObserver("view:"+e+":"+t),r[t].apply(r,[this.store].concat(a))):(n=console).warn.apply(n,["[WebpackInterface][callViewMethod] missed",e,t].concat(a))},e.prototype.init=function(){this.callObserver("init"),this.store&&this.store.dispatch({type:"entry:state:init"})},e.prototype.clear=function(){this.store&&this.store.dispatch({type:"entry:state:clear"}),this.callObserver("clear")},e}();n.d(t,"a",function(){return c}),n.d(t,"b",function(){return o})},"Ilb/":function(e,t,n){var r=n("Kzd6");e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},JBvZ:function(e,t,n){var r=n("imBK");e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},JGI5:function(e,t){e.exports={"zoom-count":"_2yD2IWjOAtr4DNbjg4zesp",line:"Z4Vzo0pNbxHtgIXWdQ_Wp",actions:"_1FwitxW0mHX75OJ-h3rOkW",shareIcon:"juHEOdJf7Fz1TPoTiC_ST"}},JJnU:function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"*";if(arguments.length&&Object(u.g)(arguments[0],u.n.notUndef,"take(patternOrChannel): patternOrChannel is undefined"),u.n.pattern(e))return T(p,{pattern:e});if(u.n.channel(e))return T(p,{channel:e});throw new Error("take(patternOrChannel): argument "+String(e)+" is not valid channel or a valid pattern")}function o(e,t){return arguments.length>1?(Object(u.g)(e,u.n.notUndef,"put(channel, action): argument channel is undefined"),Object(u.g)(e,u.n.channel,"put(channel, action): argument "+e+" is not a valid channel"),Object(u.g)(t,u.n.notUndef,"put(channel, action): argument action is undefined")):(Object(u.g)(e,u.n.notUndef,"put(action): argument action is undefined"),t=e,e=null),T(f,{channel:e,action:t})}function a(e){return T(h,e)}function i(e,t,n){Object(u.g)(t,u.n.notUndef,e+": argument fn is undefined");var r=null;if(u.n.array(t)){var o=t;r=o[0],t=o[1]}else if(t.fn){var a=t;r=a.context,t=a.fn}return r&&u.n.string(t)&&u.n.func(r[t])&&(t=r[t]),Object(u.g)(t,u.n.func,e+": argument "+t+" is not a function"),{context:r,fn:t,args:n}}function s(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return T(g,i("fork",e,n))}function c(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1)return a(t.map(function(e){return c(e)}));var r=t[0];return 1===t.length&&(Object(u.g)(r,u.n.notUndef,"cancel(task): argument task is undefined"),Object(u.g)(r,u.n.task,"cancel(task): argument "+r+" is not a valid Task object "+x)),T(w,r||u.d)}t.i=r,t.g=o,t.b=a,t.d=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return T(y,i("call",e,n))},t.f=s,t.e=c,t.h=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return 0===arguments.length?e=u.l:(Object(u.g)(e,u.n.notUndef,"select(selector,[...]): argument selector is undefined"),Object(u.g)(e,u.n.func,"select(selector,[...]): argument "+e+" is not a function")),T(_,{selector:e,args:n})},t.a=function(e,t){return Object(u.g)(e,u.n.notUndef,"actionChannel(pattern,...): argument pattern is undefined"),arguments.length>1&&(Object(u.g)(t,u.n.notUndef,"actionChannel(pattern, buffer): argument buffer is undefined"),Object(u.g)(t,u.n.buffer,"actionChannel(pattern, buffer): argument "+t+" is not a valid buffer")),T(O,{pattern:e,buffer:t})},t.j=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return s.apply(void 0,[l.a,e,t].concat(r))},n.d(t,"c",function(){return k});var u=n("Vr3j"),l=n("2iFZ"),d=Object(u.u)("IO"),p="TAKE",f="PUT",h="ALL",m="RACE",y="CALL",v="CPS",g="FORK",b="JOIN",w="CANCEL",_="SELECT",O="ACTION_CHANNEL",S="CANCELLED",C="FLUSH",E="GET_CONTEXT",j="SET_CONTEXT",x="\n(HINT: if you are getting this errors in tests, consider using createMockTask from redux-saga/utils)",T=function(e,t){var n;return n={},n[d]=!0,n[e]=t,n};r.maybe=function(){var e=r.apply(void 0,arguments);return e[p].maybe=!0,e};o.resolve=function(){var e=o.apply(void 0,arguments);return e[f].resolve=!0,e},o.sync=Object(u.k)(o.resolve,Object(u.w)("put.sync","put.resolve"));var M=function(e){return function(t){return t&&t[d]&&t[e]}},k={take:M(p),put:M(f),all:M(h),race:M(m),call:M(y),cps:M(v),fork:M(g),join:M(b),cancel:M(w),select:M(_),actionChannel:M(O),cancelled:M(S),flush:M(C),getContext:M(E),setContext:M(j)}},JUs9:function(e,t,n){var r=n("G8ar");e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},Jssu:function(e,t){var n=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}e.exports=function(e,t){for(;e&&e.nodeType!==n;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},JyYQ:function(e,t,n){var r=n("d+aQ"),o=n("eKBv"),a=n("wSKX"),i=n("NGEn"),s=n("iL3P");e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?i(e)?o(e[0],e[1]):r(e):s(e)}},KGqH:function(e,t){var n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",i="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",s="[\\ufe0e\\ufe0f]?"+i+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",o,a].join("|")+")[\\ufe0e\\ufe0f]?"+i+")*"),c="(?:"+["[^\\ud800-\\udfff]"+n+"?",n,o,a,"[\\ud800-\\udfff]"].join("|")+")",u=RegExp(r+"(?="+r+")|"+c+s,"g");e.exports=function(e){return e.match(u)||[]}},KSGD:function(e,t,n){e.exports=n("Q4WQ")()},KgVm:function(e,t,n){var r=n("cdq7"),o=n("JyYQ"),a=n("5Zxu"),i=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var c=null==n?0:a(n);return c<0&&(c=i(s+c,0)),r(e,o(t,3),c)}},Kzd6:function(e,t,n){var r=n("qwTf");e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},LCdv:function(e,t,n){"use strict";(function(e,r){function o(e){var t=e.className,n=e.name,r=e.children,o=e.type,a=e.isLabel,i=e.isRequired;return j.a.createElement(a?"label":"div",{className:Object(M.f)(["FormEntry",t]),type:o},n&&j.a.createElement("span",{className:"key"},n,i&&j.a.createElement("span",{className:"required-sign"},"*")),j.a.createElement("span",{className:"val"},r))}function a(e){return j.a.createElement(o,U({},e,{isLabel:!0}))}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t,n,r){return!e.addEventListener&&(t="on"+t),(e.addEventListener||e.attachEvent).call(e,t,n,r),n}function l(e,t,n,r){return!e.removeEventListener&&(t="on"+t),(e.removeEventListener||e.detachEvent).call(e,t,n,r),n}function d(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function p(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function f(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function h(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(nt);var n=function n(){var r=arguments,o=t?t.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var i=e.apply(this,r);return n.cache=a.set(o,i)||a,i};return n.cache=new(h.Cache||tt),n}function m(e){if("string"==typeof e)return e;if(X(e))return ut(e,m)+"";if(ve(e))return pt?pt.call(e):"";var t=e+"";return"0"==t&&1/e==-lt?"-0":t}function y(e,t,n){return bt(e,t,n)}function v(e){var t=e.target,n=e.canScroll,r=void 0!==n&&n;return(t.classList||document.body.classList)[r?"remove":"add"](wt)}function g(){Object(M.b)("."+wt).forEach(function(e){return e.classList.remove(wt)})}function b(e){var t=e.idx,n=B(e.optionList),r=n[0],o=n.slice(1),a=e.onChange,i=e.currentOptionIdx;return j.a.createElement("li",{className:"SelectGroup"},j.a.createElement(N.a,{className:"title"},r),j.a.createElement("ul",null,o.map(function(e,n){return j.a.createElement(w,{key:n,idx:t+"."+(n+1),label:e.label||e,value:e.value,isDisabled:e.isDisabled,onChange:a,currentOptionIdx:i})})))}function w(e){var t=e.idx,n=e.label,r=(e.value,e.isDisabled),o=e.onChange,a=e.currentOptionIdx,i=Object(M.f)(["SelectOption",r?"is-disabled":"",String(a)===String(t)?"is-active":""]);return j.a.createElement("li",{role:"option","data-idx":t,className:i,onClick:r?void 0:o},j.a.createElement(N.a,null,n))}function _(e){var t=e.className,n=W(e,["className"]);return j.a.createElement(Nt,U({className:Object(M.f)(["SelectNumber",t])},n))}function O(e){var t=e.className,n=W(e,["className"]);return j.a.createElement(Nt,U({size:"small",className:Object(M.f)(["PanelInputNumber",t])},n))}function S(e){var t=e.size,n=e.className,r=e.value,o=e.type,a=W(e,["size","className","value","type"]);return j.a.createElement("label",{className:Object(M.f)(["Input",t,n])},j.a.createElement("input",U({type:o,value:r},a)))}function C(e){var t=e.className,n=e.size,r=e.value,o=W(e,["className","size","value"]);return j.a.createElement("label",{className:Object(M.f)(["Textarea",n,t])},j.a.createElement("textarea",U({value:r},o)))}n.d(t,"i",function(){return Et}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"a",function(){return Dt}),n.d(t,"b",function(){return Lt}),n.d(t,"h",function(){return It}),n.d(t,"e",function(){return S}),n.d(t,"j",function(){return C}),n.d(t,"f",function(){return Z}),n.d(t,"g",function(){return Nt});var E=n("GiK3"),j=n.n(E),x=n("KSGD"),T=n.n(x),M=n("5/ex"),k=n("cF0m"),P=n("O27J"),N=(n.n(P),n("cbHe")),D=n("9aC9"),L=n("/EHJ"),R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},A=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":R(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},W=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},F=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":R(t))&&"function"!=typeof t?e:t},B=function(e){return Array.isArray(e)?e:Array.from(e)};o.propTypes={className:T.a.string,children:T.a.any,name:T.a.any,type:T.a.string,isLabel:T.a.bool,isRequired:T.a.bool},o.defaultProps={className:"",isLabel:!1};var H=["onAbort","onAnimationEnd","onAnimationIteration","onAnimationStart","onBlur","onCanPlay","onCanPlayThrough","onClick","onContextMenu","onCopy","onCut","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onFocus","onInput","onInvalid","onKeyDown","onKeyPress","onKeyUp","onLoad","onLoadedData","onLoadedMetadata","onLoadStart","onMouseDown","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onPaste","onPause","onPlay","onPlaying","onProgress","onRateChange","onReset","onScroll","onSeeked","onSeeking","onStalled","onSubmit","onSuspend","onTimeUpdate","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onTransitionEnd","onVolumeChange","onWaiting","onWheel"],z=["onAfterPrint","onBeforePrint","onBeforeUnload","onDeviceLight","onDeviceMotion","onDeviceOrientation","onDeviceProximity","onHashChange","onLanguageChange","onPopState","onRejectionHandled","onResize","onSelect","onStorage","onUnhandledRejection","onUnload","onUserProximity"],q=["onPointerCancel","onPointerDown","onPointerEnter","onPointerLeave","onPointerMove","onPointerOut","onPointerOver","onPointerUp"],V=(H.concat(z).concat(q),H.concat(q),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),G=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c(t,j.a.Component),V(t,[{key:"componentDidMount",value:function(){this.props.enabled&&this.bindHandlers()}},{key:"componentWillUnmount",value:function(){this.unbindHandlers()}},{key:"componentWillReceiveProps",value:function(e){this.props.enabled&&!e.enabled?this.unbindHandlers():!this.props.enabled&&e.enabled&&this.bindHandlers()}},{key:"getKeys",value:function(){this.props.target,window;return Object.keys(this.props).filter(function(e){return"on"===e.slice(0,2)}).map(function(e){return[e,e.slice(2).toLowerCase()]})}},{key:"bindHandlers",value:function(){this._adjustHandlers(u)}},{key:"unbindHandlers",value:function(){this._adjustHandlers(l)}},{key:"_adjustHandlers",value:function(e){var t=this.props,n="function"==typeof t.target?t.target():t.target;if(n){var r=K?{passive:t.passive,capture:t.capture}:t.capture;this.getKeys().forEach(function(o){e(n,o[1],t[o[0]],r)})}}},{key:"render",value:function(){return null}}]),t}();G.displayName="DocumentEvents",G.defaultProps={capture:!1,enabled:!0,passive:!1,target:e.browser?document:null};var K=function(){try{var e=!1;return document.createElement("div").addEventListener("test",function(){},{get passive(){e=!0}}),e}catch(e){return!1}}(),$=G,J=function(e){return/^@/.test(e)||/@\./.test(e)||/\s+[\w@]/.test(e)||/@\w*\.\w*/.test(e)},Z=function(e){function t(e){I(this,t);var n=F(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=function(e){var t=e.target.value;return n.setState({value:t,isFinishedTyping:J(t)},function(){var e=n.props.onChange;n.checkValidity(),e(t.trim())})},n.checkValidity=function(){var e=n.state,t=e.value,r=e.isFinishedTyping,o=""===t||!r||M.c.test(t);n.setState({isValid:o})},n.setActive=function(){return n.setState({isActive:!0})},n.setInactive=function(){return n.setState({isActive:!1})},n.onClickOutside=function(e){e.target.closest("label")||n.setInactive()},n.state={value:e.value,isActive:!1,isValid:!0,isFinishedTyping:J(e.value)},n}return Y(t,e),A(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.value,n=this.props,r=n.value;n.placeholder;t!==r&&this.setState({value:t})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.size,r=e.unstyled,o=e.readOnly,a=e.placeholder,i=e.onFocus,s=this.state,c=s.value,u=s.isActive,l=s.isValid,d=this.props.isDisabled||this.props.disabled,p=Object(M.f)(["Input InputEmail",n,r&&"unstyled",t,u&&!d&&!o&&"is-active",d&&"is-disabled",o&&"is-readonly",l?"is-valid":"isnt-valid"]);return j.a.createElement("label",{className:p,onMouseDown:this.setActive},j.a.createElement("input",U({type:"email",value:c,placeholder:a,disabled:d,readOnly:o,onChange:this.onChange,onFocus:i},Object(M.e)(this.constructor,this.props))),j.a.createElement($,{enabled:u,onMouseDown:this.onClickOutside}))}}]),t}(E.PureComponent);Z.propTypes={size:T.a.oneOf(["regular","small"]),unstyled:T.a.bool,value:T.a.oneOfType([T.a.string,T.a.number]),placeholder:T.a.oneOfType([T.a.string,T.a.number]),isDisabled:T.a.bool,disabled:T.a.bool,readOnly:T.a.bool,onChange:T.a.func.isRequired},Z.defaultProps={size:"regular",unstyled:!1,value:"",placeholder:"",isDisabled:!1,disabled:!1,readOnly:!1,onChange:function(){return null}},function(e){var t=e.className,n=W(e,["className"]);return j.a.createElement(Z,U({size:"small",className:Object(M.f)(["PanelInputEmail",t])},n))}.propTypes={className:T.a.string};var X=Array.isArray,Q="undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:{},ee="object"==(void 0===Q?"undefined":R(Q))&&Q&&Q.Object===Object&&Q,te="object"==("undefined"==typeof self?"undefined":R(self))&&self&&self.Object===Object&&self,ne=ee||te||Function("return this")(),re=ne.Symbol,oe=Object.prototype,ae=oe.hasOwnProperty,ie=oe.toString,se=re?re.toStringTag:void 0,ce=function(e){var t=ae.call(e,se),n=e[se];try{e[se]=void 0;var r=!0}catch(e){}var o=ie.call(e);return r&&(t?e[se]=n:delete e[se]),o},ue=Object.prototype.toString,le=function(e){return ue.call(e)},de="[object Null]",pe="[object Undefined]",fe=re?re.toStringTag:void 0,he=function(e){return null==e?void 0===e?pe:de:fe&&fe in Object(e)?ce(e):le(e)},me=function(e){return null!=e&&"object"==(void 0===e?"undefined":R(e))},ye="[object Symbol]",ve=function(e){return"symbol"==(void 0===e?"undefined":R(e))||me(e)&&he(e)==ye},ge=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,be=/^\w*$/,we=function(e,t){if(X(e))return!1;var n=void 0===e?"undefined":R(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ve(e))||be.test(e)||!ge.test(e)||null!=t&&e in Object(t)},_e=function(e){var t=void 0===e?"undefined":R(e);return null!=e&&("object"==t||"function"==t)},Oe="[object AsyncFunction]",Se="[object Function]",Ce="[object GeneratorFunction]",Ee="[object Proxy]",je=function(e){if(!_e(e))return!1;var t=he(e);return t==Se||t==Ce||t==Oe||t==Ee},xe=ne["__core-js_shared__"],Te=function(){var e=/[^.]+$/.exec(xe&&xe.keys&&xe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Me=function(e){return!!Te&&Te in e},ke=Function.prototype.toString,Pe=function(e){if(null!=e){try{return ke.call(e)}catch(e){}try{return e+""}catch(e){}}return""},Ne=/[\\^$.*+?()[\]{}|]/g,De=/^\[object .+?Constructor\]$/,Le=Function.prototype,Re=Object.prototype,Ie=Le.toString,Ae=Re.hasOwnProperty,Ue=RegExp("^"+Ie.call(Ae).replace(Ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ye=function(e){return!(!_e(e)||Me(e))&&(je(e)?Ue:De).test(Pe(e))},We=function(e,t){return null==e?void 0:e[t]},Fe=function(e,t){var n=We(e,t);return Ye(n)?n:void 0},Be=Fe(Object,"create"),He="__lodash_hash_undefined__",ze=Object.prototype.hasOwnProperty,qe=Object.prototype.hasOwnProperty,Ve="__lodash_hash_undefined__";d.prototype.clear=function(){this.__data__=Be?Be(null):{},this.size=0},d.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},d.prototype.get=function(e){var t=this.__data__;if(Be){var n=t[e];return n===He?void 0:n}return ze.call(t,e)?t[e]:void 0},d.prototype.has=function(e){var t=this.__data__;return Be?void 0!==t[e]:qe.call(t,e)},d.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Be&&void 0===t?Ve:t,this};var Ge=d,Ke=function(e,t){return e===t||e!==e&&t!==t},$e=function(e,t){for(var n=e.length;n--;)if(Ke(e[n][0],t))return n;return-1},Je=Array.prototype.splice;p.prototype.clear=function(){this.__data__=[],this.size=0},p.prototype.delete=function(e){var t=this.__data__,n=$e(t,e);return!(n<0||(n==t.length-1?t.pop():Je.call(t,n,1),--this.size,0))},p.prototype.get=function(e){var t=this.__data__,n=$e(t,e);return n<0?void 0:t[n][1]},p.prototype.has=function(e){return $e(this.__data__,e)>-1},p.prototype.set=function(e,t){var n=this.__data__,r=$e(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var Ze=p,Xe=Fe(ne,"Map"),Qe=function(e){var t=void 0===e?"undefined":R(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},et=function(e,t){var n=e.__data__;return Qe(t)?n["string"==typeof t?"string":"hash"]:n.map};f.prototype.clear=function(){this.size=0,this.__data__={hash:new Ge,map:new(Xe||Ze),string:new Ge}},f.prototype.delete=function(e){var t=et(this,e).delete(e);return this.size-=t?1:0,t},f.prototype.get=function(e){return et(this,e).get(e)},f.prototype.has=function(e){return et(this,e).has(e)},f.prototype.set=function(e,t){var n=et(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var tt=f,nt="Expected a function";h.Cache=tt;var rt=h,ot=500,at=/^\./,it=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,st=/\\(\\)?/g,ct=function(e){var t=rt(e,function(e){return n.size===ot&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return at.test(e)&&t.push(""),e.replace(it,function(e,n,r,o){t.push(r?o.replace(st,"$1"):n||e)}),t}),ut=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},lt=1/0,dt=re?re.prototype:void 0,pt=dt?dt.toString:void 0,ft=m,ht=function(e){return null==e?"":ft(e)},mt=function(e,t){return X(e)?e:we(e,t)?[e]:ct(ht(e))},yt=1/0,vt=function(e){if("string"==typeof e||ve(e))return e;var t=e+"";return"0"==t&&1/e==-yt?"-0":t},gt=function(e,t){for(var n=0,r=(t=mt(t,e)).length;null!=e&&n<r;)e=e[vt(t[n++])];return n&&n==r?e:void 0},bt=function(e,t,n){var r=null==e?void 0:gt(e,t);return void 0===r?n:r},wt="mb-cant-scroll",_t=window.I18N,Ot=void 0===_t?{}:_t,St=document.getElementById("MB_SELECT_MENU_ROOT")||Object.assign(document.createElement("div"),{id:"MB_SELECT_MENU_ROOT"}),Ct=document.body;Ct.contains(St)||Ct.appendChild(St);var Et=function(e){function t(e){I(this,t);var n=F(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.set$select=function(e){return n.setState({$select:e})},n.open=function(){return n.setState({isOpen:!0})},n.close=function(){return n.setState({isOpen:!1})},n.toggle=function(){return n.setState({isOpen:!n.state.isOpen})},n.onResizeWindow=function(){return n.state.isOpen&&n.close()},n.onChange=function(e){return n.setState({currentOptionIdx:e},function(){var t=n.props,r=t.optionList,o=t.onChange,a=y(r,e);n.close(),o(e,"string"==typeof a?a:a.value||a.label)})},n.onSelect=function(e){var t=e.currentTarget;return n.onChange(t.dataset.idx)},n.state={isOpen:!1,currentOptionIdx:e.currentOptionIdx},n}return Y(t,e),A(t,[{key:"componentWillMount",value:function(){window.addEventListener("resize",this.onResizeWindow)}},{key:"componentWillReceiveProps",value:function(e){var t=e.currentOptionIdx;this.props.currentOptionIdx!==t&&this.setState({currentOptionIdx:t})}},{key:"render",value:function(){var e=this.props,t=e.size,n=e.unstyled,r=e.className,o=(e.menuClassName,e.optionList),a=e.shouldMenuAlignCenter,i=e.isDisabled,s=e.placeholder,c=this.state,u=c.isOpen,l=c.currentOptionIdx,d=c.$select,p=bt(o,l,s),f=p.label||p,h=Object(M.f)(["Select",t,n&&"unstyled",r,u&&"is-open",i&&"is-disabled"]);return j.a.createElement("label",{className:h,role:"listbox",ref:this.set$select},j.a.createElement("button",{type:"button",onClick:this.toggle,disabled:i},j.a.createElement(N.a,null,f)),j.a.createElement("span",{className:"caret",dangerouslySetInnerHTML:{__html:M.d.INPUT_ARROW}}),j.a.createElement(jt,U({isOpen:u},this.props,{$select:d,onChange:this.onSelect,onClose:this.close,currentOptionIdx:l,shouldMenuAlignCenter:a})))}}]),t}(E.PureComponent);Et.propTypes={size:T.a.oneOf(["regular","small"]),unstyled:T.a.bool,className:T.a.string,menuClassName:T.a.string,placeholder:T.a.string,optionList:T.a.arrayOf(T.a.oneOfType([T.a.node,T.a.shape({label:T.a.node,value:T.a.any,isDisabled:T.a.bool}),T.a.arrayOf(T.a.oneOfType([T.a.node,T.a.shape({label:T.a.node,value:T.a.any,isDisabled:T.a.bool})]))])).isRequired,currentOptionIdx:T.a.oneOfType([T.a.number,T.a.string]),isDisabled:T.a.bool,onChange:T.a.func,shouldMenuAlignCenter:T.a.bool},Et.defaultProps={size:"regular",className:"",menuClassName:"",placeholder:Ot.select_placeholder||"Choose one…",emptyMsg:Ot.select_empty_msg||"Nothing to display…",optionList:[],isDisabled:!1,onChange:function(){return null},shouldMenuAlignCenter:!1};var jt=function(e){function t(e){I(this,t);var n=F(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClose=function(){(0,n.props.onClose)(),g()},n.set$menu=function(e){return Object.assign(n,{$menu:e})},n.size$select=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props.$select,t=n.$menu;if(e&&t){Object.assign(t.style,{minWidth:0});var r=t.offsetWidth,o=(t.offsetHeight,e.offsetWidth),a=(e.offsetHeight,Math.max(o,r));window.innerHeight;Object.assign(e.style,{minWidth:a+"px"}),Object.assign(t.style,{minWidth:a+"px"})}},n.scrollIntoActive=function(){var e=Object(M.a)("li[role=option].is-active",n.$menu);e&&e.scrollIntoView({behavior:"smooth",block:"start"})},n.onClickOutside=function(e){var t=e.target,r=n.props.$select,o=!St.contains(t),a=t.closest("label"),i=a&&a.contains(r);o&&!i&&n.onClose()},n.onScrollWhileOpen=function(e){var t=e.target,r=n.$menu,o=n.props.$select;if(r){var a=r.contains(t),i=r.matches(":hover"),s=o.matches(":hover");!a&&i?v({target:t,canScroll:!1}):a||i||s||(n.onClose(),v({target:t,canScroll:!0}))}},n.onMouseLeave=function(){return setTimeout(g,300)},Object.assign(n,{state:{isDownward:!0},portal:Object.assign(document.createElement("div"),{className:"SelectMenuPortal"})}),n}return Y(t,e),A(t,[{key:"componentWillMount",value:function(){St.appendChild(this.portal)}},{key:"componentWillReceiveProps",value:function(e){var t=e.isOpen,n=e.$select,r=this.$menu,o=this.props,a=o.isOpen,i=o.shouldMenuAlignCenter;if(this.size$select(n),!a&&t){var s=Object(L.b)({$menu:r,$opener:n,position:"bottom",shouldSetMinWidth:!0,shouldSetMaxHeight:!0,shouldAlignLeft:!i});this.setState({isDownward:"bottom"===s.finalPosition}),this.scrollIntoActive()}}},{key:"componentWillUnmount",value:function(){this.portal&&this.portal.remove()}},{key:"render",value:function(){return Object(P.createPortal)(this.renderMenu(),this.portal)}},{key:"renderMenu",value:function(){var e=this.props,t=e.isOpen,n=e.isDisabled,r=e.menuClassName,o=e.optionList,a=e.emptyMsg,i=e.onChange,s=e.currentOptionIdx,c=e.shouldMenuAlignCenter,u=this.state.isDownward,l=0===o.length,d=Object(M.f)(["SelectMenu",r,c&&"h-centered",t&&"is-open",u?"is-downward":"is-upward",n&&"is-disabled",l&&"is-empty"]);return j.a.createElement("ul",{className:d,ref:this.set$menu,onTransitionEnd:this.onTransitionEnd,onMouseLeave:this.onMouseLeave},l?j.a.createElement("li",{className:"SelectOption empty-msg"},a):o.map(function(e,t){return Array.isArray(e)?j.a.createElement(b,{key:t,idx:t,optionList:e,onChange:i,currentOptionIdx:s}):j.a.createElement(w,{key:t,idx:t,label:e.label||e,value:e.value,isDisabled:e.isDisabled,onChange:i,currentOptionIdx:s})}),j.a.createElement($,{enabled:t,capture:!1,onClick:this.onClickOutside}),j.a.createElement($,{enabled:t,capture:!0,onScroll:this.onScrollWhileOpen}))}}]),t}(E.PureComponent);jt.propTypes=U({},Et.propTypes,{isOpen:T.a.bool,onChange:T.a.func,onClose:T.a.func,$select:T.a.instanceOf(Element)}),jt.defaultProps={isOpen:!1},b.propTypes={idx:T.a.oneOfType([T.a.number,T.a.string]),optionList:T.a.array,onChange:T.a.func,currentOptionIdx:T.a.oneOfType([T.a.number,T.a.string])},w.propTypes={idx:T.a.oneOfType([T.a.number,T.a.string]),label:T.a.node.isRequired,value:T.a.any,isDisabled:T.a.bool,onChange:T.a.func,currentOptionIdx:T.a.oneOfType([T.a.number,T.a.string])},function(e){var t=e.className,n=W(e,["className"]);return j.a.createElement(Input,U({size:"small",className:Object(M.f)(["PanelSelect",t])},n))}.propTypes={className:T.a.string};var xt=500,Tt=30,Mt=1e3,kt=function(e,t){return Number(Number(e).toFixed(t))},Pt=function(e){var t=e.shiftKey,n=e.metaKey,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t?10*r:n?100*r:r},Nt=function(e){function t(e){I(this,t);var n=F(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=function(e){var t=e.target.value;return n.setValue(t.trim())},n.correctNumber=function(e){var t=n.props,r=t.min,o=t.max,a=t.precision;return kt(Math.min(Math.max(e,r),o),a)},n.checkValidity=function(e){return""===e||isFinite(e)&&n.correctNumber(e)===Number(e)},n.checkSettability=function(e){return/^0?\-0*$/.test(e)||/^\-?\d*\.$/.test(e)},n.setValue=function(e){clearTimeout(n.correctionTimeout);var t=n.props,r=t.value,o=t.parser,a=(t.min,t.max,t.precision,t.placeholder,t.onChange),i=o(e.toString()).toString().replace(/^0(?!\.)/,""),s="0"!==e&&!i,c=n.checkValidity(i),u=isFinite(i),l=n.checkSettability(i);if(u||l){var d=n.correctNumber(i),p=isNaN(d)?r:d,f=s?"":l||!c?i:p;n.setState({value:f,isValid:c}),c?a(f):Object.assign(n,{correctionTimeout:setTimeout(function(){return n.state.value===f&&n.setState({value:p,isValid:!0},a(p))},Mt)})}},n.focusOnInput=function(e){try{var t=e.currentTarget.closest("label").querySelector("input");setTimeout(function(){return t.focus()})}catch(e){}},n.onStep=function(e){e.stopPropagation();var t=e.currentTarget.dataset.action,r=Pt(e,n.props.step)*("up"===t?1:-1);n.setValue(n.correctNumber(Number(n.state.value)+r)),n.focusOnInput(e),Object.assign(n,{longPressedTimeout:setTimeout(function(){return Object.assign(n,{steppingInterval:setInterval(function(){return n.setValue(n.correctNumber(Number(n.state.value)+r))},Tt)})},xt)})},n.onRelease=function(){clearTimeout(n.longPressedTimeout),clearInterval(n.steppingInterval)},n.onKeyDown=function(e){var t="ArrowUp"===e.key?"up":"ArrowDown"===e.key?"down":null;if(t){e.preventDefault();var r=Pt(e,n.props.step)*("up"===t?1:-1);n.setValue(n.correctNumber(Number(n.state.value)+r))}},n.set$label=function(e){return Object.assign(n,{$label:e})},n.setActive=function(){return n.setState({isActive:!0})},n.setInactive=function(){return n.setState({isActive:!1})},n.toggleMenu=function(){return n.setState({isMenuOpen:!n.state.isMenuOpen})},n.closeMenu=function(){return n.setState({isMenuOpen:!1})},n.onSelect=function(e){var t=e.currentTarget;n.setValue(n.props.optionList[t.dataset.idx]),n.closeMenu()},n.onClickOutside=function(e){var t=e.target;t.closest("label")&&n.$label.contains(t)||n.setInactive()},n.state={value:e.value||(e.placeholder?"":1),isActive:!1,isValid:!0,isMenuOpen:!1},n}return Y(t,e),A(t,[{key:"componentWillMount",value:function(){var e=this.props.value,t=this.checkValidity(e);this.setState({isValid:t})}},{key:"componentDidMount",value:function(){var e=this.$label,t=this.props,n=t.title,r=t.prefix,o=t.suffix;if(n||r||o){var a=e.querySelector("input"),i=e.querySelector(".action"),s=e.querySelector(".title"),c=e.querySelector(".prefix"),u=e.querySelector(".suffix span"),l=parseInt(getComputedStyle(a).getPropertyValue("padding-left"));if(n||r){var d={paddingLeft:(s?s.clientWidth+6:0)+(c?c.clientWidth:0)+l+"px"};Object.assign(a.style,d),n&&r&&Object.assign(c.style,{left:s.clientWidth+6+"px"}),o&&Object.assign(u.parentNode.style,d)}if(o){var p=i.clientWidth+u.clientWidth;Object.assign(a.style,{paddingRight:p+"px"})}}}},{key:"componentWillReceiveProps",value:function(e){var t=e.value;t!==this.props.value&&this.setState({value:0===t||t?t:""})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.size,r=e.unstyled,o=e.readOnly,a=e.placeholder,i=e.prefix,s=e.suffix,c=e.title,u=e.desc,l=e.formatter,d=e.onFocus,p=e.optionList,f=e.shouldMenuAlignCenter,h=this.state,m=h.value,y=h.isActive,v=h.isValid,g=h.isMenuOpen,b=this.props.isDisabled||this.props.disabled,w=Object(M.f)(["Input InputNumber",n,r&&"unstyled",t,y&&!b&&!o&&"is-active",g&&"is-menu-open",b&&"is-disabled",o&&"is-readonly",v?"is-valid":"isnt-valid",!!c&&"with-title",!!u&&"with-desc",!!i&&"with-prefix",!!s&&"with-suffix"]),_=p&&p.length>0;return j.a.createElement("label",{className:w,ref:this.set$label,onMouseDown:this.setActive},c&&j.a.createElement("span",{className:"title",children:c}),u&&j.a.createElement("span",{className:"desc",children:u}),i&&j.a.createElement("span",{className:"prefix",children:i}),j.a.createElement("input",U({type:"text",value:l(m),placeholder:a,disabled:b,readOnly:o,onChange:this.onChange,onKeyDown:this.onKeyDown,onFocus:d},Object(M.e)(this.constructor,this.props))),s&&j.a.createElement("span",{className:"suffix","data-value":l(m),"data-suffix":s,children:j.a.createElement("span",null,s)}),_?j.a.createElement("div",{className:"action caret"},j.a.createElement(k.a,{type:"text",tabIndex:"-1",onClick:this.toggleMenu,html:M.d.INPUT_ARROW})):j.a.createElement("div",{className:"action"},j.a.createElement(k.a,{type:"text",tabIndex:"-1","data-action":"up",onMouseDown:this.onStep,onMouseLeave:this.onRelease,onMouseUp:this.onRelease,html:M.d.INPUT_ARROW}),j.a.createElement(k.a,{type:"text",tabIndex:"-1","data-action":"down",onMouseDown:this.onStep,onMouseLeave:this.onRelease,onMouseUp:this.onRelease,html:M.d.INPUT_ARROW})),_&&j.a.createElement(jt,{isOpen:g,menuClassName:"SelectNumberMenu",$select:this.$label,optionList:p,currentOptionIdx:p.indexOf(m),shouldMenuAlignCenter:f,onChange:this.onSelect,onClose:this.closeMenu}),j.a.createElement($,{enabled:y||g,onMouseDown:this.onClickOutside}))}}]),t}(E.PureComponent);Nt.propTypes={size:T.a.oneOf(["regular","small"]),unstyled:T.a.bool,step:T.a.number,precision:T.a.number,formatter:T.a.func,parser:T.a.func,value:T.a.oneOfType([T.a.string,T.a.number]),placeholder:T.a.oneOfType([T.a.string,T.a.number]),optionList:T.a.arrayOf(T.a.oneOfType([T.a.string,T.a.number])),shouldMenuAlignCenter:T.a.bool,title:T.a.node,desc:T.a.node,prefix:T.a.node,suffix:T.a.node,min:T.a.number,max:T.a.number,isDisabled:T.a.bool,disabled:T.a.bool,readOnly:T.a.bool,onChange:T.a.func.isRequired,onFocus:T.a.func},Nt.defaultProps={size:"regular",unstyled:!1,value:"",placeholder:"",step:1,precision:1,parser:function(e){return e},formatter:function(e){return e},min:0,max:1/0,isDisabled:!1,disabled:!1,readOnly:!1,onChange:function(){return null},onFocus:function(e){var t=e.currentTarget;return setTimeout(function(){return t.select()},50)}},_.propTypes={className:T.a.string},_.defaultProps={optionList:[1,2,3]},function(e){var t=e.className,n=W(e,["className"]);return j.a.createElement(Nt,U({size:"small",className:Object(M.f)(["PanelInputNumber",t])},n))}.propTypes=_.propTypes,O.propTypes=_.propTypes,O.defaultProps=_.defaultProps,S.propTypes={type:T.a.string,size:T.a.oneOf(["regular","small"]),className:T.a.string,value:T.a.string},S.defaultProps={type:"text",size:"regular"},function(e){var t=e.className,n=W(e,["className"]);return j.a.createElement(S,U({size:"small",className:Object(M.f)(["PanelInput",t])},n))}.propTypes={className:T.a.string},C.propTypes={className:T.a.string,size:T.a.oneOf(["regular","small"]),value:T.a.string},C.defaultProps={size:"regular"},function(e){var t=e.className,n=W(e,["className"]);return j.a.createElement(C,U({size:"small",className:Object(M.f)(["PanelTextarea",t])},n))}.propTypes={className:T.a.string};var Dt=function(e){function t(e){I(this,t);var n=F(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onToggle=function(){var e=n.props,t=e.name,r=e.value,o=e.label;n.setState({isChecked:!n.state.isChecked},function(){return n.props.onChange(t,r||o,n.state.isChecked)})},n.state={isChecked:e.isChecked},n}return Y(t,e),A(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.isChecked;t!==this.props.isChecked&&this.setState({isChecked:t})}},{key:"render",value:function(){var e=this.props,t=e.size,n=e.className,r=e.label,o=e.name,a=e.isDisabled,i=this.state.isChecked;return j.a.createElement("label",{className:Object(M.f)(["Check",t,n,i?"is-checked":"",a?"is-disabled":""])},j.a.createElement("input",{type:"checkbox",defaultChecked:i,disabled:a,name:o,onChange:this.onToggle}),j.a.createElement("span",{className:"Check-state"},j.a.createElement(D.b,{type:"dora",name:"check"})),j.a.createElement("span",{className:"Check-label"},r))}}]),t}(E.PureComponent);Dt.propTypes={size:T.a.oneOf(["regular","small"]),isChecked:T.a.bool,onChange:T.a.func,label:T.a.any,name:T.a.string,value:T.a.any,className:T.a.string},Dt.defaultProps={size:"regular",isChecked:!1,label:"",className:"",onChange:function(){return null}};var Lt=function(e){function t(e){I(this,t);var n=F(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.createOnChangeHandler=function(e,t){return function(){var r=n.props,o=r.optionList,a=r.onChange,i=n.state.currentOptionIdxList,s=new Set(i);s[s.has(t)?"delete":"add"](t);var c=Array.from(s),u=c.map(function(e){return o[e]});n.setState({currentOptionIdxList:s},function(){return a({name:e,idxList:c,valueList:u})})}},n.name=e.name||Math.random().toString(36).substring(2,15),n.state={currentOptionIdxList:new Set(e.currentOptionIdxList)},n}return Y(t,e),A(t,[{key:"render",value:function(){var e=this,t=this.name,n=this.props,r=n.size,o=n.className,a=n.optionList,i=n.isDisabled,s=this.state.currentOptionIdxList,c=Object(M.f)(["CheckGroup",r,o,i&&"is-disabled"]);return j.a.createElement("span",{className:c},a.map(function(n,o){return n&&j.a.createElement(Dt,{key:o,name:t,size:r,isDisabled:i||n.isDisabled,isChecked:s.has(o),label:"string"==typeof n?n:n.label,onChange:i||n.isDisabled?void 0:e.createOnChangeHandler(t,o)})}))}}]),t}(E.PureComponent);Lt.propTypes={size:T.a.oneOf(["regular","small"]),className:T.a.string,onChange:T.a.func.isRequired,optionList:T.a.arrayOf(T.a.oneOfType([T.a.string,T.a.shape({label:T.a.any,value:T.a.any,isDisabled:T.a.bool})])).isRequired,currentOptionIdxList:T.a.oneOfType([T.a.instanceOf(Set),T.a.array]),isDisabled:T.a.bool},Lt.defaultProps={size:"regular",className:"",optionList:[],currentOptionIdxList:new Set,onChange:function(){return null},isDisabled:!1};var Rt=function(e){function t(e){I(this,t);var n=F(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=function(){var e=n.props,t=e.name,r=e.value,o=e.label;n.setState({isChecked:!0},function(){return n.props.onChange(t,r||o,!0)})},n.state={isChecked:e.isChecked},n}return Y(t,e),A(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.isChecked;t!==this.props.isChecked&&this.setState({isChecked:t})}},{key:"render",value:function(){var e=this.props,t=e.size,n=e.className,r=e.label,o=e.name,a=e.isDisabled,i=this.state.isChecked;return j.a.createElement("label",{className:Object(M.f)(["Radio",t,n,i?"is-checked":"",a?"is-disabled":""])},j.a.createElement("input",{type:"radio",defaultChecked:i,disabled:a,name:o,onClick:this.onChange}),j.a.createElement("span",{className:"Check-state"}),j.a.createElement("span",{className:"Check-label"},r))}}]),t}(E.PureComponent);Rt.propTypes={size:T.a.oneOf(["regular","small"]),isChecked:T.a.bool,onChange:T.a.func,label:T.a.any,name:T.a.string,value:T.a.any,className:T.a.string},Rt.defaultProps={size:"regular",isChecked:!1,label:"",className:"",onChange:function(){return null}};var It=function(e){function t(e){I(this,t);var n=F(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.createOnChangeHandler=function(e,t,r){return function(){return n.props.onChange({name:e,value:t,idx:r})}},n.name=e.name||Math.random().toString(36).substring(2,15),n}return Y(t,e),A(t,[{key:"render",value:function(){var e=this,t=this.name,n=this.props,r=n.size,o=n.className,a=n.optionList,i=n.currentOptionIdx,s=n.isDisabled,c=Object(M.f)(["RadioGroup",r,o,s&&"is-disabled"]);return j.a.createElement("span",{className:c},a.map(function(n,o){return n&&j.a.createElement(Rt,{key:o,name:t,size:r,label:"string"==typeof n?n:n.label,type:"radio",isChecked:o===i,isDisabled:s||n.isDisabled,onChange:s||n.isDisabled?void 0:e.createOnChangeHandler(t,n.value||n,o)})}))}}]),t}(E.PureComponent);It.propTypes={size:T.a.oneOf(["regular","small"]),className:T.a.string,name:T.a.string,optionList:T.a.arrayOf(T.a.oneOfType([T.a.string,T.a.shape({label:T.a.any,value:T.a.any,isDisabled:T.a.bool})])).isRequired,currentOptionIdx:T.a.oneOfType([T.a.number,T.a.string]),isDisabled:T.a.bool,onChange:T.a.func},It.defaultProps={size:"regular",className:"",optionList:[],isDisabled:!1,onChange:function(){return null}}}).call(t,n("W2nU"),n("DuR2"))},"LF/X":function(e,t,n){var r,o,a;!function(i,s){o=[e,n("SPM9")],void 0!==(a="function"==typeof(r=s)?r.apply(t,o):r)&&(e.exports=a)}(0,function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(e){return e&&e.__esModule?e:{default:e}}(t),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){n(this,e),this.resolveOptions(t),this.initSelection()}return a(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,r.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,r.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":o(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=i})},M1c9:function(e,t){e.exports=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(o);++r<o;)a[r]=e[r+t];return a}},MoMe:function(e,t,n){var r=n("f931")(Object.keys,Object);e.exports=r},NGEn:function(e,t){var n=Array.isArray;e.exports=n},NRb0:function(e,t,n){var r=n("lGpV"),o=n("RjDc")(function(e,t,n){return t=t.toLowerCase(),e+(n?r(t):t)});e.exports=o},O1jc:function(e,t,n){var r=n("nw3t"),o=n("22B7");e.exports=function(e,t,n){(void 0===n||o(e[t],n))&&(void 0!==n||t in e)||r(e,t,n)}},O4Lo:function(e,t,n){var r=n("yCNF"),o=n("RVHk"),a=n("kxzG"),i="Expected a function",s=Math.max,c=Math.min;e.exports=function(e,t,n){function u(t){var n=y,r=v;return y=v=void 0,O=t,b=e.apply(r,n)}function l(e){return O=e,w=setTimeout(f,t),S?u(e):b}function d(e){var n=e-O,r=t-(e-_);return C?c(r,g-n):r}function p(e){var n=e-_,r=e-O;return void 0===_||n>=t||n<0||C&&r>=g}function f(){var e=o();if(p(e))return h(e);w=setTimeout(f,d(e))}function h(e){return w=void 0,E&&y?u(e):(y=v=void 0,b)}function m(){var e=o(),n=p(e);if(y=arguments,v=this,_=e,n){if(void 0===w)return l(_);if(C)return w=setTimeout(f,t),u(_)}return void 0===w&&(w=setTimeout(f,t)),b}var y,v,g,b,w,_,O=0,S=!1,C=!1,E=!0;if("function"!=typeof e)throw new TypeError(i);return t=a(t)||0,r(n)&&(S=!!n.leading,g=(C="maxWait"in n)?s(a(n.maxWait)||0,t):g,E="trailing"in n?!!n.trailing:E),m.cancel=function(){void 0!==w&&clearTimeout(w),O=0,y=_=v=w=void 0},m.flush=function(){return void 0===w?b:h(o())},m}},OAqO:function(e,t,n){var r=n("RjDc")(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});e.exports=r},OAwv:function(e,t,n){"use strict";function r(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[a(t,e),"[",r,"]"].join(""):[a(t,e),"[",a(r,e),"]=",a(n,e)].join("")};case"bracket":return function(t,n){return null===n?a(t,e):[a(t,e),"[]=",a(n,e)].join("")};default:return function(t,n){return null===n?a(t,e):[a(t,e),"=",a(n,e)].join("")}}}function o(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}function a(e,t){return t.encode?t.strict?s(e):encodeURIComponent(e):e}function i(e){return Array.isArray(e)?e.sort():"object"==typeof e?i(Object.keys(e)).sort(function(e,t){return Number(e)-Number(t)}).map(function(t){return e[t]}):e}var s=n("rprB"),c=n("BEQ0"),u=n("i4Cv");t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){var n=o(t=c({arrayFormat:"none"},t)),r=Object.create(null);return"string"!=typeof e?r:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),o=t.shift(),a=t.length>0?t.join("="):void 0;a=void 0===a?null:u(a),n(u(o),a,r)}),Object.keys(r).sort().reduce(function(e,t){var n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=i(n):e[t]=n,e},Object.create(null))):r},t.stringify=function(e,t){var n=r(t=c({encode:!0,strict:!0,arrayFormat:"none"},t));return e?Object.keys(e).sort().map(function(r){var o=e[r];if(void 0===o)return"";if(null===o)return a(r,t);if(Array.isArray(o)){var i=[];return o.slice().forEach(function(e){void 0!==e&&i.push(n(r,e,i.length))}),i.join("&")}return a(r,t)+"="+a(o,t)}).filter(function(e){return e.length>0}).join("&"):""}},OBe3:function(e,t){},Op9N:function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,a){try{var i=t[o](a),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n("q8x3");var s=n("lgh0"),c=(n("Pa9K"),n("cF0m")),u=n("GiK3"),l=n.n(u),d=n("KSGD"),p=n.n(d),f=n("LCdv"),h=n("0xDb"),m=n("804a"),y=n("wB9c"),v=n("iNpB"),g=n("/GiX"),b=(n.n(g),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),w=I18N.open_parenthesis+I18N.pending+I18N.close_parenthesis,_=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i,O={user:0,owner:1,admin:2,editor:3,viewer:4},S=function(e){var t=e.host,n=e.collaborator,r=e.userRole;return Object(m.a)(t.isTeam()&&"team","collaborator-update",n.role,r)},C=function(e){var t=e.host,n=e.collaborator,r=e.userRole;return Object(m.a)(t.isTeam()&&"team","collaborator-create",n.role,r)},E=function(e){var t=e.host,n=e.userRole;return(t.isTeam()&&Object(m.a)("team-collaborator-update","admin",n)?["viewer","editor","admin"]:["viewer","editor"]).map(function(e){return{value:e,label:""+I18N.roles[e]+I18N.colon+I18N.roles[e+"_desc"]}})},j=function(e,t){var n=O[e.user_id===MB.user.id?"user":e.role],r=O[t.user_id===MB.user.id?"user":t.role];return n!==r?n-r:e.name&&t.name?e.name.localeCompare(t.name):!e.name&&t.name?1:e.name&&!t.name?-1:e.email.localeCompare(t.email)},x=function(e){function t(){var n,r,i;o(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=r=a(this,e.call.apply(e,[this].concat(c))),r.onChangeRole=function(e,t){r.props.onChangeRole({collaborator:r.props.collaborator,role:t}),r.forceUpdate()},r.onDeleteCollaborator=function(){return r.props.onDeleteCollaborator(r.props.collaborator)},i=n,a(r,i)}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.collaborator,n=e.host,r=e.userRole,o=t.avatar,a=t.name,i=t.email,s=t.role,u=E({host:n,userRole:r}),d=S({host:n,collaborator:t,userRole:r});return l.a.createElement("li",{className:"collaborator"},l.a.createElement("div",{className:"user"},l.a.createElement("img",{className:"avatar",src:o}),l.a.createElement("span",{className:"user-name"},a||i),!a&&l.a.createElement("span",{className:"pending"},w)),d?l.a.createElement(f.i,{unstyled:!0,size:"small",optionList:u,currentOptionIdx:u.findIndex(function(e){return e.value===s}),onChange:this.onChangeRole}):l.a.createElement("span",{className:"role"},I18N.roles[s]),d&&l.a.createElement(c.a,{type:"text",size:"small",className:"delete",onClick:this.onDeleteCollaborator},I18N.delete))},t}(u.PureComponent);x.propTypes={dispatch:p.a.func,host:p.a.object,userRole:p.a.any,collaborator:p.a.object,onChangeRole:p.a.func,onDeleteCollaborator:p.a.func};var T=function(e){function t(n){o(this,t);var r=a(this,e.call(this,n));M.call(r),r.dedupEmailSetCached=null,r.promptMapCached=null;var i=!Object(m.a)(n.host.isTeam()&&"team","collaborator-create","viewer",n.userRole),s=i?I18N.owner_only:r.errorMsg(),c=!i;return r.state={formData:{email:"",role:"viewer"},promptList:[],isPromptListOpen:!1,errorMsg:s,promptPricing:c},r}return i(t,e),t.prototype.componentDidUpdate=function(e){!e.isOpen&&this.props.isOpen&&this.focusOnInput()},t.prototype.render=function(){var e=this,t=this.props,n=t.isOpen,r=t.onClose,o=t.host,a=t.userRole,i=this.state,u=i.formData,d=i.errorMsg,p=i.isPromptListOpen,h=i.promptPricing,m=E({host:o,userRole:a});return l.a.createElement(s.a,{isOpen:n,title:I18N.manage_collaborators,className:"collaborator-modal",onClose:r},C({host:o,userRole:a,collaborator:{role:"viewer"}})&&l.a.createElement("div",{className:"add-via-email"},l.a.createElement("input",{type:"email",placeholder:I18N.email_placeholder,onChange:this.updateEmail,onClick:this.showPromptList,onBlur:this.hidePromptList,value:u.email,autoComplete:"off"}),l.a.createElement(f.i,{unstyled:!0,size:"small",optionList:m,currentOptionIdx:m.findIndex(function(e){return e.value===u.role}),onChange:this.updateRole}),l.a.createElement(c.a,{type:"primary",size:"small",onClick:this.onInvite},I18N.invite),this.renderPromptList(!p)),d&&l.a.createElement("div",{className:"error-msg "+(h?"has-prompt-pricing-btn":"")},l.a.createElement("span",null,d),h&&l.a.createElement("button",{onClick:v.b},I18N.check_pricing)),l.a.createElement("ul",{className:"collaborator-list"},o.collaborators().sort(j).map(function(t){return l.a.createElement(x,{key:t.email,host:o,userRole:a,collaborator:t,onChangeRole:e.onChangeRole,onDeleteCollaborator:e.onDeleteCollaborator})})))},t}(u.PureComponent);T.propTypes={isOpen:p.a.bool,onClose:p.a.func.isRequired,host:p.a.object,userRole:p.a.any};var M=function(){var e=this;this.errorMsg=function(){var t=e.props.host,n="";if(t&&t.collaborators().length>=t.limitation.collaborators+1){var r=t.limitation.collaborators?"collaborators":"cant_invite",o=t.owner_id==MB.user.id?"user":t.isTeam()?"team":"project",a=t.isTeam()?"renew":"upgrade";n=MB.renewMsg&&MB.renewMsg(r,{role:o,action:a,collaborators:t.limitation.collaborators,plan:t.owner_plan})}return n},this.updateComponent=function(){e.forceUpdate(),MB.webpackInterface&&MB.webpackInterface.refreshAll(),$("body").trigger("queue:save")},this.focusOnInput=function(){return setTimeout(function(){var e=document.querySelector('.collaborator-modal input[type="email"]');e&&e.focus()},100)},this.updateEmail=function(t){var n=t.target.value;return e.updatePromptList(n.trim().toLowerCase())},this.updateRole=function(t,n){return e.setState(function(e){var t=e.formData;return{formData:b({},t,{role:n})}})},this.updatePromptList=function(t){if(t!==e.state.email){e.promptMapCached||(e.dedupEmailSetCached=new Set(e.props.host.collaborators().map(function(e){return e.email.toLowerCase()})),e.promptMapCached=Collaborator.all().filter(function(t){var n=t.cid,r=t.user_id,o=t.email;return!(r===MB.user.id||n.startsWith("co_MOCK_c")||n.startsWith("co_MOCK_t")&&!n.startsWith("co_MOCK_te")||e.dedupEmailSetCached.has(o.toLowerCase()))}).reduce(function(e,t){return t.name&&(e[t.name.toLowerCase()]=t),t.email&&(e[t.email.toLowerCase()]=t),e},{}));var n=t&&new RegExp(t,"i"),r=new Set(e.dedupEmailSetCached),o=new Set;for(var a in e.promptMapCached){if(o.size>=10)break;var i=e.promptMapCached[a],s=i.email.toLowerCase();n&&!n.test(a)||!s||r.has(s)||(r.add(s),o.add(i))}e.setState(function(e){var n=e.formData;return{formData:b({},n,{email:t}),isPromptListOpen:!0,promptList:Array.from(o)}})}},this.showPromptList=function(){return e.updatePromptList(e.state.formData.email)},this.hidePromptList=function(){return setTimeout(function(){e.dedupEmailSetCached=null,e.promptMapCached=null,e.setState({isPromptListOpen:!1})},100)},this.createOnClickPromptListItemHandler=function(t){return function(){return e.setState(function(e){var n=e.formData;return{formData:b({},n,{email:t}),promptList:[]}})}},this.renderPromptList=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=e.state.promptList;return t=t||0===n.length,l.a.createElement("ul",b({className:"prompt-list"},Object(h.c)(t)),n.map(function(t){return l.a.createElement("li",{key:t.email,onMouseDown:e.createOnClickPromptListItemHandler(t.email)},l.a.createElement("img",{className:"avatar",src:t.avatar}),l.a.createElement("span",{className:"user-name"},t.name||t.email),t.name?l.a.createElement("span",{className:"user-email"},t.email):l.a.createElement("span",{className:"pending"},w))}))},this.onInvite=function(){var t=e.props.host,n=e.state.formData,r=n.email,o=n.role,a=t.limitation,i=void 0===a?MB.user.limitation:a,s=t.collaborators(),c=void 0!==s.find(function(e){return e.email===r}),u=r&&_.test(r)?r===MB.user.email?I18N.cant_invite_yourself:c?I18N.already_invited:s.length>i.collaborators?e.errorMsg():null:I18N.invalid_email;u?(e.focusOnInput(),e.setState({errorMsg:u,promptPricing:s.length>i.collaborators})):(e.createCollaborator({email:r,role:o}),e.setState({formData:{email:"",role:"viewer"},promptPricing:!0}))},this.createCollaborator=function(t){var n=t.email,r=t.role,o=e.props.host,a=o.isTeam(),i=new Collaborator({email:n,role:r,cid:"co"+Math.uuid(10,16)+(new Date).valueOf(),avatar:"/images/avatar.png"});Object.assign(i,{team_cid:a&&o.cid,project_cid:!a&&o.cid}),i.lsave(),i.updateHostChannel("update"),e.updateComponent()},this.onChangeRole=function(t){var n=t.collaborator,r=t.role,o=e.props,a=o.host,i=o.userRole,s=a.isTeam();!Object(m.a)(s&&"team","collaborator-update",[n.role,r],i)||(Object.assign(n,{role:r}),n.lsave(),n.updateHostChannel("update"),e.updateComponent())},this.onDeleteCollaborator=function(){var t=r(regeneratorRuntime.mark(function t(n){var r,o,a,i,s,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.props,o=r.dispatch,a=r.host,i=r.userRole,s=a.isTeam(),!(c=!Object(m.a)(s&&"team","collaborator-delete",n.role,i))){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,Object(y.b)({dispatch:o,title:I18N.del_collaborator_title,desc:I18N.del_collaborator_desc.replace(/%s/,n.name||n.email),isHTML:!0});case 7:if(!t.sent){t.next=12;break}n.updateHostChannel("destroy"),n.ldestroy(),e.updateComponent(),e.setState({errorMsg:null});case 12:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()};t.a=T},PJh5:function(e,t,n){(function(e){!function(t,n){e.exports=n()}(0,function(){"use strict";function t(){return wt.apply(null,arguments)}function r(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e){var t;for(t in e)return!1;return!0}function i(e){return void 0===e}function s(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function c(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function u(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function d(e,t){for(var n in t)l(t,n)&&(e[n]=t[n]);return l(t,"toString")&&(e.toString=t.toString),l(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return Ae(e,t,n,r,!0).utc()}function f(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function h(e){return null==e._pf&&(e._pf=f()),e._pf}function m(e){if(null==e._isValid){var t=h(e),n=Ot.call(t.parsedDateParts,function(e){return null!=e}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function y(e){var t=p(NaN);return null!=e?d(h(t),e):h(t).userInvalidated=!0,t}function v(e,t){var n,r,o;if(i(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),i(t._i)||(e._i=t._i),i(t._f)||(e._f=t._f),i(t._l)||(e._l=t._l),i(t._strict)||(e._strict=t._strict),i(t._tzm)||(e._tzm=t._tzm),i(t._isUTC)||(e._isUTC=t._isUTC),i(t._offset)||(e._offset=t._offset),i(t._pf)||(e._pf=h(t)),i(t._locale)||(e._locale=t._locale),St.length>0)for(n=0;n<St.length;n++)i(o=t[r=St[n]])||(e[r]=o);return e}function g(e){v(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Ct&&(Ct=!0,t.updateOffset(this),Ct=!1)}function b(e){return e instanceof g||null!=e&&null!=e._isAMomentObject}function w(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function _(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=w(t)),n}function O(e,t,n){var r,o=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),i=0;for(r=0;r<o;r++)(n&&e[r]!==t[r]||!n&&_(e[r])!==_(t[r]))&&i++;return i+a}function S(e){!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function C(e,n){var r=!0;return d(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),r){for(var o,a=[],i=0;i<arguments.length;i++){if(o="","object"==typeof arguments[i]){o+="\n["+i+"] ";for(var s in arguments[0])o+=s+": "+arguments[0][s]+", ";o=o.slice(0,-2)}else o=arguments[i];a.push(o)}S(e+"\nArguments: "+Array.prototype.slice.call(a).join("")+"\n"+(new Error).stack),r=!1}return n.apply(this,arguments)},n)}function E(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),Et[e]||(S(n),Et[e]=!0)}function j(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function x(e,t){var n,r=d({},e);for(n in t)l(t,n)&&(o(e[n])&&o(t[n])?(r[n]={},d(r[n],e[n]),d(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)l(e,n)&&!l(t,n)&&o(e[n])&&(r[n]=d({},r[n]));return r}function T(e){null!=e&&this.set(e)}function M(e,t){var n=e.toLowerCase();Dt[n]=Dt[n+"s"]=Dt[t]=e}function k(e){return"string"==typeof e?Dt[e]||Dt[e.toLowerCase()]:void 0}function P(e){var t,n,r={};for(n in e)l(e,n)&&(t=k(n))&&(r[t]=e[n]);return r}function N(e,t){Lt[e]=t}function D(e){var t=[];for(var n in e)t.push({unit:n,priority:Lt[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function L(e,n){return function(r){return null!=r?(I(this,e,r),t.updateOffset(this,n),this):R(this,e)}}function R(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function I(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function A(e,t,n){var r=""+Math.abs(e),o=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}function U(e,t,n,r){var o=r;"string"==typeof r&&(o=function(){return this[r]()}),e&&(Ut[e]=o),t&&(Ut[t[0]]=function(){return A(o.apply(this,arguments),t[1],t[2])}),n&&(Ut[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function Y(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function W(e){var t,n,r=e.match(Rt);for(t=0,n=r.length;t<n;t++)Ut[r[t]]?r[t]=Ut[r[t]]:r[t]=Y(r[t]);return function(t){var o,a="";for(o=0;o<n;o++)a+=j(r[o])?r[o].call(t,e):r[o];return a}}function F(e,t){return e.isValid()?(t=B(t,e.localeData()),At[t]=At[t]||W(t),At[t](e)):e.localeData().invalidDate()}function B(e,t){var n=5;for(It.lastIndex=0;n>=0&&It.test(e);)e=e.replace(It,function(e){return t.longDateFormat(e)||e}),It.lastIndex=0,n-=1;return e}function H(e,t,n){nn[e]=j(t)?t:function(e,r){return e&&n?n:t}}function z(e,t){return l(nn,e)?nn[e](t._strict,t._locale):new RegExp(q(e))}function q(e){return V(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,o){return t||n||r||o}))}function V(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function G(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),s(t)&&(r=function(e,n){n[t]=_(e)}),n=0;n<e.length;n++)rn[e[n]]=r}function K(e,t){G(e,function(e,n,r,o){r._w=r._w||{},t(e,r._w,r,o)})}function $(e,t,n){null!=t&&l(rn,e)&&rn[e](t,n._a,n,e)}function J(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function Z(e,t,n){var r,o,a,i=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(o=hn.call(this._shortMonthsParse,i))?o:null:-1!==(o=hn.call(this._longMonthsParse,i))?o:null:"MMM"===t?-1!==(o=hn.call(this._shortMonthsParse,i))?o:-1!==(o=hn.call(this._longMonthsParse,i))?o:null:-1!==(o=hn.call(this._longMonthsParse,i))?o:-1!==(o=hn.call(this._shortMonthsParse,i))?o:null}function X(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=_(t);else if(t=e.localeData().monthsParse(t),!s(t))return e;return n=Math.min(e.date(),J(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Q(e){return null!=e?(X(this,e),t.updateOffset(this,!0),this):R(this,"Month")}function ee(){function e(e,t){return t.length-e.length}var t,n,r=[],o=[],a=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),o.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(r.sort(e),o.sort(e),a.sort(e),t=0;t<12;t++)r[t]=V(r[t]),o[t]=V(o[t]);for(t=0;t<24;t++)a[t]=V(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function te(e){return ne(e)?366:365}function ne(e){return e%4==0&&e%100!=0||e%400==0}function re(e,t,n,r,o,a,i){var s=new Date(e,t,n,r,o,a,i);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function oe(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function ae(e,t,n){var r=7+t-n;return-((7+oe(e,0,r).getUTCDay()-t)%7)+r-1}function ie(e,t,n,r,o){var a,i,s=1+7*(t-1)+(7+n-r)%7+ae(e,r,o);return s<=0?i=te(a=e-1)+s:s>te(e)?(a=e+1,i=s-te(e)):(a=e,i=s),{year:a,dayOfYear:i}}function se(e,t,n){var r,o,a=ae(e.year(),t,n),i=Math.floor((e.dayOfYear()-a-1)/7)+1;return i<1?r=i+ce(o=e.year()-1,t,n):i>ce(e.year(),t,n)?(r=i-ce(e.year(),t,n),o=e.year()+1):(o=e.year(),r=i),{week:r,year:o}}function ce(e,t,n){var r=ae(e,t,n),o=ae(e+1,t,n);return(te(e)-r+o)/7}function ue(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function le(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function de(e,t,n){var r,o,a,i=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(o=hn.call(this._weekdaysParse,i))?o:null:"ddd"===t?-1!==(o=hn.call(this._shortWeekdaysParse,i))?o:null:-1!==(o=hn.call(this._minWeekdaysParse,i))?o:null:"dddd"===t?-1!==(o=hn.call(this._weekdaysParse,i))?o:-1!==(o=hn.call(this._shortWeekdaysParse,i))?o:-1!==(o=hn.call(this._minWeekdaysParse,i))?o:null:"ddd"===t?-1!==(o=hn.call(this._shortWeekdaysParse,i))?o:-1!==(o=hn.call(this._weekdaysParse,i))?o:-1!==(o=hn.call(this._minWeekdaysParse,i))?o:null:-1!==(o=hn.call(this._minWeekdaysParse,i))?o:-1!==(o=hn.call(this._weekdaysParse,i))?o:-1!==(o=hn.call(this._shortWeekdaysParse,i))?o:null}function pe(){function e(e,t){return t.length-e.length}var t,n,r,o,a,i=[],s=[],c=[],u=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=this.weekdaysMin(n,""),o=this.weekdaysShort(n,""),a=this.weekdays(n,""),i.push(r),s.push(o),c.push(a),u.push(r),u.push(o),u.push(a);for(i.sort(e),s.sort(e),c.sort(e),u.sort(e),t=0;t<7;t++)s[t]=V(s[t]),c[t]=V(c[t]),u[t]=V(u[t]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+i.join("|")+")","i")}function fe(){return this.hours()%12||12}function he(e,t){U(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function me(e,t){return t._meridiemParse}function ye(e){return e?e.toLowerCase().replace("_","-"):e}function ve(e){for(var t,n,r,o,a=0;a<e.length;){for(t=(o=ye(e[a]).split("-")).length,n=(n=ye(e[a+1]))?n.split("-"):null;t>0;){if(r=ge(o.slice(0,t).join("-")))return r;if(n&&n.length>=t&&O(o,n,!0)>=t-1)break;t--}a++}return null}function ge(t){var r=null;if(!Nn[t]&&void 0!==e&&e&&e.exports)try{r=Tn._abbr,n("zeup")("./"+t),be(r)}catch(e){}return Nn[t]}function be(e,t){var n;return e&&(n=i(t)?_e(e):we(e,t))&&(Tn=n),Tn._abbr}function we(e,t){if(null!==t){var n=Pn;if(t.abbr=e,null!=Nn[e])E("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Nn[e]._config;else if(null!=t.parentLocale){if(null==Nn[t.parentLocale])return Dn[t.parentLocale]||(Dn[t.parentLocale]=[]),Dn[t.parentLocale].push({name:e,config:t}),null;n=Nn[t.parentLocale]._config}return Nn[e]=new T(x(n,t)),Dn[e]&&Dn[e].forEach(function(e){we(e.name,e.config)}),be(e),Nn[e]}return delete Nn[e],null}function _e(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Tn;if(!r(e)){if(t=ge(e))return t;e=[e]}return ve(e)}function Oe(e){var t,n=e._a;return n&&-2===h(e).overflow&&(t=n[an]<0||n[an]>11?an:n[sn]<1||n[sn]>J(n[on],n[an])?sn:n[cn]<0||n[cn]>24||24===n[cn]&&(0!==n[un]||0!==n[ln]||0!==n[dn])?cn:n[un]<0||n[un]>59?un:n[ln]<0||n[ln]>59?ln:n[dn]<0||n[dn]>999?dn:-1,h(e)._overflowDayOfYear&&(t<on||t>sn)&&(t=sn),h(e)._overflowWeeks&&-1===t&&(t=pn),h(e)._overflowWeekday&&-1===t&&(t=fn),h(e).overflow=t),e}function Se(e){var t,n,r,o,a,i,s=e._i,c=Ln.exec(s)||Rn.exec(s);if(c){for(h(e).iso=!0,t=0,n=An.length;t<n;t++)if(An[t][1].exec(c[1])){o=An[t][0],r=!1!==An[t][2];break}if(null==o)return void(e._isValid=!1);if(c[3]){for(t=0,n=Un.length;t<n;t++)if(Un[t][1].exec(c[3])){a=(c[2]||" ")+Un[t][0];break}if(null==a)return void(e._isValid=!1)}if(!r&&null!=a)return void(e._isValid=!1);if(c[4]){if(!In.exec(c[4]))return void(e._isValid=!1);i="Z"}e._f=o+(a||"")+(i||""),ke(e)}else e._isValid=!1}function Ce(e){var t,n,r,o,a,i,s,c,u={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"};if(t=e._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),n=Wn.exec(t)){if(r=n[1]?"ddd"+(5===n[1].length?", ":" "):"",o="D MMM "+(n[2].length>10?"YYYY ":"YY "),a="HH:mm"+(n[4]?":ss":""),n[1]){var l=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][new Date(n[2]).getDay()];if(n[1].substr(0,3)!==l)return h(e).weekdayMismatch=!0,void(e._isValid=!1)}switch(n[5].length){case 2:s=0===c?" +0000":((c="YXWVUTSRQPONZABCDEFGHIKLM".indexOf(n[5][1].toUpperCase())-12)<0?" -":" +")+(""+c).replace(/^-?/,"0").match(/..$/)[0]+"00";break;case 4:s=u[n[5]];break;default:s=u[" GMT"]}n[5]=s,e._i=n.splice(1).join(""),i=" ZZ",e._f=r+o+a+i,ke(e),h(e).rfc2822=!0}else e._isValid=!1}function Ee(e){var n=Yn.exec(e._i);null===n?(Se(e),!1===e._isValid&&(delete e._isValid,Ce(e),!1===e._isValid&&(delete e._isValid,t.createFromInputFallback(e)))):e._d=new Date(+n[1])}function je(e,t,n){return null!=e?e:null!=t?t:n}function xe(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function Te(e){var t,n,r,o,a=[];if(!e._d){for(r=xe(e),e._w&&null==e._a[sn]&&null==e._a[an]&&Me(e),null!=e._dayOfYear&&(o=je(e._a[on],r[on]),(e._dayOfYear>te(o)||0===e._dayOfYear)&&(h(e)._overflowDayOfYear=!0),n=oe(o,0,e._dayOfYear),e._a[an]=n.getUTCMonth(),e._a[sn]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[cn]&&0===e._a[un]&&0===e._a[ln]&&0===e._a[dn]&&(e._nextDay=!0,e._a[cn]=0),e._d=(e._useUTC?oe:re).apply(null,a),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[cn]=24)}}function Me(e){var t,n,r,o,a,i,s,c;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)a=1,i=4,n=je(t.GG,e._a[on],se(Ue(),1,4).year),r=je(t.W,1),((o=je(t.E,1))<1||o>7)&&(c=!0);else{a=e._locale._week.dow,i=e._locale._week.doy;var u=se(Ue(),a,i);n=je(t.gg,e._a[on],u.year),r=je(t.w,u.week),null!=t.d?((o=t.d)<0||o>6)&&(c=!0):null!=t.e?(o=t.e+a,(t.e<0||t.e>6)&&(c=!0)):o=a}r<1||r>ce(n,a,i)?h(e)._overflowWeeks=!0:null!=c?h(e)._overflowWeekday=!0:(s=ie(n,r,o,a,i),e._a[on]=s.year,e._dayOfYear=s.dayOfYear)}function ke(e){if(e._f!==t.ISO_8601)if(e._f!==t.RFC_2822){e._a=[],h(e).empty=!0;var n,r,o,a,i,s=""+e._i,c=s.length,u=0;for(o=B(e._f,e._locale).match(Rt)||[],n=0;n<o.length;n++)a=o[n],(r=(s.match(z(a,e))||[])[0])&&((i=s.substr(0,s.indexOf(r))).length>0&&h(e).unusedInput.push(i),s=s.slice(s.indexOf(r)+r.length),u+=r.length),Ut[a]?(r?h(e).empty=!1:h(e).unusedTokens.push(a),$(a,r,e)):e._strict&&!r&&h(e).unusedTokens.push(a);h(e).charsLeftOver=c-u,s.length>0&&h(e).unusedInput.push(s),e._a[cn]<=12&&!0===h(e).bigHour&&e._a[cn]>0&&(h(e).bigHour=void 0),h(e).parsedDateParts=e._a.slice(0),h(e).meridiem=e._meridiem,e._a[cn]=Pe(e._locale,e._a[cn],e._meridiem),Te(e),Oe(e)}else Ce(e);else Se(e)}function Pe(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function Ne(e){var t,n,r,o,a;if(0===e._f.length)return h(e).invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<e._f.length;o++)a=0,t=v({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],ke(t),m(t)&&(a+=h(t).charsLeftOver,a+=10*h(t).unusedTokens.length,h(t).score=a,(null==r||a<r)&&(r=a,n=t));d(e,n||t)}function De(e){if(!e._d){var t=P(e._i);e._a=u([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),Te(e)}}function Le(e){var t=new g(Oe(Re(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Re(e){var t=e._i,n=e._f;return e._locale=e._locale||_e(e._l),null===t||void 0===n&&""===t?y({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),b(t)?new g(Oe(t)):(c(t)?e._d=t:r(n)?Ne(e):n?ke(e):Ie(e),m(e)||(e._d=null),e))}function Ie(e){var n=e._i;i(n)?e._d=new Date(t.now()):c(n)?e._d=new Date(n.valueOf()):"string"==typeof n?Ee(e):r(n)?(e._a=u(n.slice(0),function(e){return parseInt(e,10)}),Te(e)):o(n)?De(e):s(n)?e._d=new Date(n):t.createFromInputFallback(e)}function Ae(e,t,n,i,s){var c={};return!0!==n&&!1!==n||(i=n,n=void 0),(o(e)&&a(e)||r(e)&&0===e.length)&&(e=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=s,c._l=n,c._i=e,c._f=t,c._strict=i,Le(c)}function Ue(e,t,n,r){return Ae(e,t,n,r,!1)}function Ye(e,t){var n,o;if(1===t.length&&r(t[0])&&(t=t[0]),!t.length)return Ue();for(n=t[0],o=1;o<t.length;++o)t[o].isValid()&&!t[o][e](n)||(n=t[o]);return n}function We(e){for(var t in e)if(-1===Hn.indexOf(t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<Hn.length;++r)if(e[Hn[r]]){if(n)return!1;parseFloat(e[Hn[r]])!==_(e[Hn[r]])&&(n=!0)}return!0}function Fe(e){var t=P(e),n=t.year||0,r=t.quarter||0,o=t.month||0,a=t.week||0,i=t.day||0,s=t.hour||0,c=t.minute||0,u=t.second||0,l=t.millisecond||0;this._isValid=We(t),this._milliseconds=+l+1e3*u+6e4*c+1e3*s*60*60,this._days=+i+7*a,this._months=+o+3*r+12*n,this._data={},this._locale=_e(),this._bubble()}function Be(e){return e instanceof Fe}function He(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function ze(e,t){U(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+A(~~(e/60),2)+t+A(~~e%60,2)})}function qe(e,t){var n=(t||"").match(e);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(zn)||["-",0,0],o=60*r[1]+_(r[2]);return 0===o?0:"+"===r[0]?o:-o}function Ve(e,n){var r,o;return n._isUTC?(r=n.clone(),o=(b(e)||c(e)?e.valueOf():Ue(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+o),t.updateOffset(r,!1),r):Ue(e).local()}function Ge(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ke(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function $e(e,t){var n,r,o,a=e,i=null;return Be(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:s(e)?(a={},t?a[t]=e:a.milliseconds=e):(i=qn.exec(e))?(n="-"===i[1]?-1:1,a={y:0,d:_(i[sn])*n,h:_(i[cn])*n,m:_(i[un])*n,s:_(i[ln])*n,ms:_(He(1e3*i[dn]))*n}):(i=Vn.exec(e))?(n="-"===i[1]?-1:1,a={y:Je(i[2],n),M:Je(i[3],n),w:Je(i[4],n),d:Je(i[5],n),h:Je(i[6],n),m:Je(i[7],n),s:Je(i[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(o=Xe(Ue(a.from),Ue(a.to)),(a={}).ms=o.milliseconds,a.M=o.months),r=new Fe(a),Be(e)&&l(e,"_locale")&&(r._locale=e._locale),r}function Je(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ze(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Xe(e,t){var n;return e.isValid()&&t.isValid()?(t=Ve(t,e),e.isBefore(t)?n=Ze(e,t):((n=Ze(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Qe(e,t){return function(n,r){var o,a;return null===r||isNaN(+r)||(E(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=n,n=r,r=a),n="string"==typeof n?+n:n,o=$e(n,r),et(this,o,e),this}}function et(e,n,r,o){var a=n._milliseconds,i=He(n._days),s=He(n._months);e.isValid()&&(o=null==o||o,a&&e._d.setTime(e._d.valueOf()+a*r),i&&I(e,"Date",R(e,"Date")+i*r),s&&X(e,R(e,"Month")+s*r),o&&t.updateOffset(e,i||s))}function tt(e,t){var n,r=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(r,"months");return n=t-o<0?(t-o)/(o-e.clone().add(r-1,"months")):(t-o)/(e.clone().add(r+1,"months")-o),-(r+n)||0}function nt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=_e(e))&&(this._locale=t),this)}function rt(){return this._locale}function ot(e,t){U(0,[e,e.length],0,t)}function at(e,t,n,r,o){var a;return null==e?se(this,r,o).year:(a=ce(e,r,o),t>a&&(t=a),it.call(this,e,t,n,r,o))}function it(e,t,n,r,o){var a=ie(e,t,n,r,o),i=oe(a.year,0,a.dayOfYear);return this.year(i.getUTCFullYear()),this.month(i.getUTCMonth()),this.date(i.getUTCDate()),this}function st(e){return e}function ct(e,t,n,r){var o=_e(),a=p().set(r,t);return o[n](a,e)}function ut(e,t,n){if(s(e)&&(t=e,e=void 0),e=e||"",null!=t)return ct(e,t,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=ct(e,r,n,"month");return o}function lt(e,t,n,r){"boolean"==typeof e?(s(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,s(t)&&(n=t,t=void 0),t=t||"");var o=_e(),a=e?o._week.dow:0;if(null!=n)return ct(t,(n+a)%7,r,"day");var i,c=[];for(i=0;i<7;i++)c[i]=ct(t,(i+a)%7,r,"day");return c}function dt(e,t,n,r){var o=$e(t,n);return e._milliseconds+=r*o._milliseconds,e._days+=r*o._days,e._months+=r*o._months,e._bubble()}function pt(e){return e<0?Math.floor(e):Math.ceil(e)}function ft(e){return 4800*e/146097}function ht(e){return 146097*e/4800}function mt(e){return function(){return this.as(e)}}function yt(e){return function(){return this.isValid()?this._data[e]:NaN}}function vt(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}function gt(e,t,n){var r=$e(e).abs(),o=br(r.as("s")),a=br(r.as("m")),i=br(r.as("h")),s=br(r.as("d")),c=br(r.as("M")),u=br(r.as("y")),l=o<=wr.ss&&["s",o]||o<wr.s&&["ss",o]||a<=1&&["m"]||a<wr.m&&["mm",a]||i<=1&&["h"]||i<wr.h&&["hh",i]||s<=1&&["d"]||s<wr.d&&["dd",s]||c<=1&&["M"]||c<wr.M&&["MM",c]||u<=1&&["y"]||["yy",u];return l[2]=t,l[3]=+e>0,l[4]=n,vt.apply(null,l)}function bt(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r=_r(this._milliseconds)/1e3,o=_r(this._days),a=_r(this._months);t=w((e=w(r/60))/60),r%=60,e%=60;var i=n=w(a/12),s=a%=12,c=o,u=t,l=e,d=r,p=this.asSeconds();return p?(p<0?"-":"")+"P"+(i?i+"Y":"")+(s?s+"M":"")+(c?c+"D":"")+(u||l||d?"T":"")+(u?u+"H":"")+(l?l+"M":"")+(d?d+"S":""):"P0D"}var wt,_t,Ot=_t=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1},St=t.momentProperties=[],Ct=!1,Et={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var jt,xt,Tt=jt=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)l(e,t)&&n.push(t);return n},Mt={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},kt={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Pt=/\d{1,2}/,Nt={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Dt={},Lt={},Rt=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,It=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,At={},Ut={},Yt=/\d/,Wt=/\d\d/,Ft=/\d{3}/,Bt=/\d{4}/,Ht=/[+-]?\d{6}/,zt=/\d\d?/,qt=/\d\d\d\d?/,Vt=/\d\d\d\d\d\d?/,Gt=/\d{1,3}/,Kt=/\d{1,4}/,$t=/[+-]?\d{1,6}/,Jt=/\d+/,Zt=/[+-]?\d+/,Xt=/Z|[+-]\d\d:?\d\d/gi,Qt=/Z|[+-]\d\d(?::?\d\d)?/gi,en=/[+-]?\d+(\.\d{1,3})?/,tn=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,nn={},rn={},on=0,an=1,sn=2,cn=3,un=4,ln=5,dn=6,pn=7,fn=8,hn=xt=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};U("M",["MM",2],"Mo",function(){return this.month()+1}),U("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),U("MMMM",0,0,function(e){return this.localeData().months(this,e)}),M("month","M"),N("month",8),H("M",zt),H("MM",zt,Wt),H("MMM",function(e,t){return t.monthsShortRegex(e)}),H("MMMM",function(e,t){return t.monthsRegex(e)}),G(["M","MM"],function(e,t){t[an]=_(e)-1}),G(["MMM","MMMM"],function(e,t,n,r){var o=n._locale.monthsParse(e,r,n._strict);null!=o?t[an]=o:h(n).invalidMonth=e});var mn=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,yn="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),vn="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),gn=tn,bn=tn;U("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),U(0,["YY",2],0,function(){return this.year()%100}),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),M("year","y"),N("year",1),H("Y",Zt),H("YY",zt,Wt),H("YYYY",Kt,Bt),H("YYYYY",$t,Ht),H("YYYYYY",$t,Ht),G(["YYYYY","YYYYYY"],on),G("YYYY",function(e,n){n[on]=2===e.length?t.parseTwoDigitYear(e):_(e)}),G("YY",function(e,n){n[on]=t.parseTwoDigitYear(e)}),G("Y",function(e,t){t[on]=parseInt(e,10)}),t.parseTwoDigitYear=function(e){return _(e)+(_(e)>68?1900:2e3)};var wn=L("FullYear",!0);U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),M("week","w"),M("isoWeek","W"),N("week",5),N("isoWeek",5),H("w",zt),H("ww",zt,Wt),H("W",zt),H("WW",zt,Wt),K(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=_(e)});var _n={dow:0,doy:6};U("d",0,"do","day"),U("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),U("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),U("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),M("day","d"),M("weekday","e"),M("isoWeekday","E"),N("day",11),N("weekday",11),N("isoWeekday",11),H("d",zt),H("e",zt),H("E",zt),H("dd",function(e,t){return t.weekdaysMinRegex(e)}),H("ddd",function(e,t){return t.weekdaysShortRegex(e)}),H("dddd",function(e,t){return t.weekdaysRegex(e)}),K(["dd","ddd","dddd"],function(e,t,n,r){var o=n._locale.weekdaysParse(e,r,n._strict);null!=o?t.d=o:h(n).invalidWeekday=e}),K(["d","e","E"],function(e,t,n,r){t[r]=_(e)});var On="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Sn="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Cn="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),En=tn,jn=tn,xn=tn;U("H",["HH",2],0,"hour"),U("h",["hh",2],0,fe),U("k",["kk",2],0,function(){return this.hours()||24}),U("hmm",0,0,function(){return""+fe.apply(this)+A(this.minutes(),2)}),U("hmmss",0,0,function(){return""+fe.apply(this)+A(this.minutes(),2)+A(this.seconds(),2)}),U("Hmm",0,0,function(){return""+this.hours()+A(this.minutes(),2)}),U("Hmmss",0,0,function(){return""+this.hours()+A(this.minutes(),2)+A(this.seconds(),2)}),he("a",!0),he("A",!1),M("hour","h"),N("hour",13),H("a",me),H("A",me),H("H",zt),H("h",zt),H("k",zt),H("HH",zt,Wt),H("hh",zt,Wt),H("kk",zt,Wt),H("hmm",qt),H("hmmss",Vt),H("Hmm",qt),H("Hmmss",Vt),G(["H","HH"],cn),G(["k","kk"],function(e,t,n){var r=_(e);t[cn]=24===r?0:r}),G(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),G(["h","hh"],function(e,t,n){t[cn]=_(e),h(n).bigHour=!0}),G("hmm",function(e,t,n){var r=e.length-2;t[cn]=_(e.substr(0,r)),t[un]=_(e.substr(r)),h(n).bigHour=!0}),G("hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[cn]=_(e.substr(0,r)),t[un]=_(e.substr(r,2)),t[ln]=_(e.substr(o)),h(n).bigHour=!0}),G("Hmm",function(e,t,n){var r=e.length-2;t[cn]=_(e.substr(0,r)),t[un]=_(e.substr(r))}),G("Hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[cn]=_(e.substr(0,r)),t[un]=_(e.substr(r,2)),t[ln]=_(e.substr(o))});var Tn,Mn=/[ap]\.?m?\.?/i,kn=L("Hours",!0),Pn={calendar:Mt,longDateFormat:kt,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:Pt,relativeTime:Nt,months:yn,monthsShort:vn,week:_n,weekdays:On,weekdaysMin:Cn,weekdaysShort:Sn,meridiemParse:Mn},Nn={},Dn={},Ln=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Rn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,In=/Z|[+-]\d\d(?::?\d\d)?/,An=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Un=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Yn=/^\/?Date\((\-?\d+)/i,Wn=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;t.createFromInputFallback=C("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),t.ISO_8601=function(){},t.RFC_2822=function(){};var Fn=C("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ue.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:y()}),Bn=C("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ue.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:y()}),Hn=["year","quarter","month","week","day","hour","minute","second","millisecond"];ze("Z",":"),ze("ZZ",""),H("Z",Qt),H("ZZ",Qt),G(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=qe(Qt,e)});var zn=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var qn=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Vn=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;$e.fn=Fe.prototype,$e.invalid=function(){return $e(NaN)};var Gn=Qe(1,"add"),Kn=Qe(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var $n=C("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});U(0,["gg",2],0,function(){return this.weekYear()%100}),U(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ot("gggg","weekYear"),ot("ggggg","weekYear"),ot("GGGG","isoWeekYear"),ot("GGGGG","isoWeekYear"),M("weekYear","gg"),M("isoWeekYear","GG"),N("weekYear",1),N("isoWeekYear",1),H("G",Zt),H("g",Zt),H("GG",zt,Wt),H("gg",zt,Wt),H("GGGG",Kt,Bt),H("gggg",Kt,Bt),H("GGGGG",$t,Ht),H("ggggg",$t,Ht),K(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=_(e)}),K(["gg","GG"],function(e,n,r,o){n[o]=t.parseTwoDigitYear(e)}),U("Q",0,"Qo","quarter"),M("quarter","Q"),N("quarter",7),H("Q",Yt),G("Q",function(e,t){t[an]=3*(_(e)-1)}),U("D",["DD",2],"Do","date"),M("date","D"),N("date",9),H("D",zt),H("DD",zt,Wt),H("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),G(["D","DD"],sn),G("Do",function(e,t){t[sn]=_(e.match(zt)[0],10)});var Jn=L("Date",!0);U("DDD",["DDDD",3],"DDDo","dayOfYear"),M("dayOfYear","DDD"),N("dayOfYear",4),H("DDD",Gt),H("DDDD",Ft),G(["DDD","DDDD"],function(e,t,n){n._dayOfYear=_(e)}),U("m",["mm",2],0,"minute"),M("minute","m"),N("minute",14),H("m",zt),H("mm",zt,Wt),G(["m","mm"],un);var Zn=L("Minutes",!1);U("s",["ss",2],0,"second"),M("second","s"),N("second",15),H("s",zt),H("ss",zt,Wt),G(["s","ss"],ln);var Xn=L("Seconds",!1);U("S",0,0,function(){return~~(this.millisecond()/100)}),U(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,function(){return 10*this.millisecond()}),U(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),U(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),U(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),U(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),U(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),M("millisecond","ms"),N("millisecond",16),H("S",Gt,Yt),H("SS",Gt,Wt),H("SSS",Gt,Ft);var Qn;for(Qn="SSSS";Qn.length<=9;Qn+="S")H(Qn,Jt);for(Qn="S";Qn.length<=9;Qn+="S")G(Qn,function(e,t){t[dn]=_(1e3*("0."+e))});var er=L("Milliseconds",!1);U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var tr=g.prototype;tr.add=Gn,tr.calendar=function(e,n){var r=e||Ue(),o=Ve(r,this).startOf("day"),a=t.calendarFormat(this,o)||"sameElse",i=n&&(j(n[a])?n[a].call(this,r):n[a]);return this.format(i||this.localeData().calendar(a,this,Ue(r)))},tr.clone=function(){return new g(this)},tr.diff=function(e,t,n){var r,o,a,i;return this.isValid()&&(r=Ve(e,this)).isValid()?(o=6e4*(r.utcOffset()-this.utcOffset()),"year"===(t=k(t))||"month"===t||"quarter"===t?(i=tt(this,r),"quarter"===t?i/=3:"year"===t&&(i/=12)):(a=this-r,i="second"===t?a/1e3:"minute"===t?a/6e4:"hour"===t?a/36e5:"day"===t?(a-o)/864e5:"week"===t?(a-o)/6048e5:a),n?i:w(i)):NaN},tr.endOf=function(e){return void 0===(e=k(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},tr.format=function(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=F(this,e);return this.localeData().postformat(n)},tr.from=function(e,t){return this.isValid()&&(b(e)&&e.isValid()||Ue(e).isValid())?$e({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},tr.fromNow=function(e){return this.from(Ue(),e)},tr.to=function(e,t){return this.isValid()&&(b(e)&&e.isValid()||Ue(e).isValid())?$e({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},tr.toNow=function(e){return this.to(Ue(),e)},tr.get=function(e){return e=k(e),j(this[e])?this[e]():this},tr.invalidAt=function(){return h(this).overflow},tr.isAfter=function(e,t){var n=b(e)?e:Ue(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=k(i(t)?"millisecond":t))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},tr.isBefore=function(e,t){var n=b(e)?e:Ue(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=k(i(t)?"millisecond":t))?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},tr.isBetween=function(e,t,n,r){return("("===(r=r||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))},tr.isSame=function(e,t){var n,r=b(e)?e:Ue(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=k(t||"millisecond"))?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},tr.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},tr.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},tr.isValid=function(){return m(this)},tr.lang=$n,tr.locale=nt,tr.localeData=rt,tr.max=Bn,tr.min=Fn,tr.parsingFlags=function(){return d({},h(this))},tr.set=function(e,t){if("object"==typeof e)for(var n=D(e=P(e)),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit]);else if(e=k(e),j(this[e]))return this[e](t);return this},tr.startOf=function(e){switch(e=k(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},tr.subtract=Kn,tr.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},tr.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},tr.toDate=function(){return new Date(this.valueOf())},tr.toISOString=function(){if(!this.isValid())return null;var e=this.clone().utc();return e.year()<0||e.year()>9999?F(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):j(Date.prototype.toISOString)?this.toDate().toISOString():F(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},tr.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+o)},tr.toJSON=function(){return this.isValid()?this.toISOString():null},tr.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},tr.unix=function(){return Math.floor(this.valueOf()/1e3)},tr.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},tr.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},tr.year=wn,tr.isLeapYear=function(){return ne(this.year())},tr.weekYear=function(e){return at.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},tr.isoWeekYear=function(e){return at.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},tr.quarter=tr.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},tr.month=Q,tr.daysInMonth=function(){return J(this.year(),this.month())},tr.week=tr.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},tr.isoWeek=tr.isoWeeks=function(e){var t=se(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},tr.weeksInYear=function(){var e=this.localeData()._week;return ce(this.year(),e.dow,e.doy)},tr.isoWeeksInYear=function(){return ce(this.year(),1,4)},tr.date=Jn,tr.day=tr.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=ue(e,this.localeData()),this.add(e-t,"d")):t},tr.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},tr.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=le(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},tr.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},tr.hour=tr.hours=kn,tr.minute=tr.minutes=Zn,tr.second=tr.seconds=Xn,tr.millisecond=tr.milliseconds=er,tr.utcOffset=function(e,n,r){var o,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=qe(Qt,e)))return this}else Math.abs(e)<16&&!r&&(e*=60);return!this._isUTC&&n&&(o=Ge(this)),this._offset=e,this._isUTC=!0,null!=o&&this.add(o,"m"),a!==e&&(!n||this._changeInProgress?et(this,$e(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:Ge(this)},tr.utc=function(e){return this.utcOffset(0,e)},tr.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ge(this),"m")),this},tr.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=qe(Xt,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},tr.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Ue(e).utcOffset():0,(this.utcOffset()-e)%60==0)},tr.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},tr.isLocal=function(){return!!this.isValid()&&!this._isUTC},tr.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},tr.isUtc=Ke,tr.isUTC=Ke,tr.zoneAbbr=function(){return this._isUTC?"UTC":""},tr.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},tr.dates=C("dates accessor is deprecated. Use date instead.",Jn),tr.months=C("months accessor is deprecated. Use month instead",Q),tr.years=C("years accessor is deprecated. Use year instead",wn),tr.zone=C("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),tr.isDSTShifted=C("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!i(this._isDSTShifted))return this._isDSTShifted;var e={};if(v(e,this),(e=Re(e))._a){var t=e._isUTC?p(e._a):Ue(e._a);this._isDSTShifted=this.isValid()&&O(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var nr=T.prototype;nr.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return j(r)?r.call(t,n):r},nr.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},nr.invalidDate=function(){return this._invalidDate},nr.ordinal=function(e){return this._ordinal.replace("%d",e)},nr.preparse=st,nr.postformat=st,nr.relativeTime=function(e,t,n,r){var o=this._relativeTime[n];return j(o)?o(e,t,n,r):o.replace(/%d/i,e)},nr.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return j(n)?n(t):n.replace(/%s/i,t)},nr.set=function(e){var t,n;for(n in e)j(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},nr.months=function(e,t){return e?r(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||mn).test(t)?"format":"standalone"][e.month()]:r(this._months)?this._months:this._months.standalone},nr.monthsShort=function(e,t){return e?r(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[mn.test(t)?"format":"standalone"][e.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},nr.monthsParse=function(e,t,n){var r,o,a;if(this._monthsParseExact)return Z.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},nr.monthsRegex=function(e){return this._monthsParseExact?(l(this,"_monthsRegex")||ee.call(this),e?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=bn),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},nr.monthsShortRegex=function(e){return this._monthsParseExact?(l(this,"_monthsRegex")||ee.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=gn),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},nr.week=function(e){return se(e,this._week.dow,this._week.doy).week},nr.firstDayOfYear=function(){return this._week.doy},nr.firstDayOfWeek=function(){return this._week.dow},nr.weekdays=function(e,t){return e?r(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:r(this._weekdays)?this._weekdays:this._weekdays.standalone},nr.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},nr.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},nr.weekdaysParse=function(e,t,n){var r,o,a;if(this._weekdaysParseExact)return de.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},nr.weekdaysRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||pe.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=En),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},nr.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||pe.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=jn),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},nr.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||pe.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=xn),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},nr.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},nr.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},be("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===_(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),t.lang=C("moment.lang is deprecated. Use moment.locale instead.",be),t.langData=C("moment.langData is deprecated. Use moment.localeData instead.",_e);var rr=Math.abs,or=mt("ms"),ar=mt("s"),ir=mt("m"),sr=mt("h"),cr=mt("d"),ur=mt("w"),lr=mt("M"),dr=mt("y"),pr=yt("milliseconds"),fr=yt("seconds"),hr=yt("minutes"),mr=yt("hours"),yr=yt("days"),vr=yt("months"),gr=yt("years"),br=Math.round,wr={ss:44,s:45,m:45,h:22,d:26,M:11},_r=Math.abs,Or=Fe.prototype;return Or.isValid=function(){return this._isValid},Or.abs=function(){var e=this._data;return this._milliseconds=rr(this._milliseconds),this._days=rr(this._days),this._months=rr(this._months),e.milliseconds=rr(e.milliseconds),e.seconds=rr(e.seconds),e.minutes=rr(e.minutes),e.hours=rr(e.hours),e.months=rr(e.months),e.years=rr(e.years),this},Or.add=function(e,t){return dt(this,e,t,1)},Or.subtract=function(e,t){return dt(this,e,t,-1)},Or.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=k(e))||"year"===e)return t=this._days+r/864e5,n=this._months+ft(t),"month"===e?n:n/12;switch(t=this._days+Math.round(ht(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},Or.asMilliseconds=or,Or.asSeconds=ar,Or.asMinutes=ir,Or.asHours=sr,Or.asDays=cr,Or.asWeeks=ur,Or.asMonths=lr,Or.asYears=dr,Or.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12):NaN},Or._bubble=function(){var e,t,n,r,o,a=this._milliseconds,i=this._days,s=this._months,c=this._data;return a>=0&&i>=0&&s>=0||a<=0&&i<=0&&s<=0||(a+=864e5*pt(ht(s)+i),i=0,s=0),c.milliseconds=a%1e3,e=w(a/1e3),c.seconds=e%60,t=w(e/60),c.minutes=t%60,n=w(t/60),c.hours=n%24,i+=w(n/24),o=w(ft(i)),s+=o,i-=pt(ht(o)),r=w(s/12),s%=12,c.days=i,c.months=s,c.years=r,this},Or.get=function(e){return e=k(e),this.isValid()?this[e+"s"]():NaN},Or.milliseconds=pr,Or.seconds=fr,Or.minutes=hr,Or.hours=mr,Or.days=yr,Or.weeks=function(){return w(this.days()/7)},Or.months=vr,Or.years=gr,Or.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=gt(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},Or.toISOString=bt,Or.toString=bt,Or.toJSON=bt,Or.locale=nt,Or.localeData=rt,Or.toIsoString=C("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",bt),Or.lang=$n,U("X",0,0,"unix"),U("x",0,0,"valueOf"),H("x",Zt),H("X",en),G("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),G("x",function(e,t,n){n._d=new Date(_(e))}),t.version="2.18.1",function(e){wt=e}(Ue),t.fn=tr,t.min=function(){return Ye("isBefore",[].slice.call(arguments,0))},t.max=function(){return Ye("isAfter",[].slice.call(arguments,0))},t.now=function(){return Date.now?Date.now():+new Date},t.utc=p,t.unix=function(e){return Ue(1e3*e)},t.months=function(e,t){return ut(e,t,"months")},t.isDate=c,t.locale=be,t.invalid=y,t.duration=$e,t.isMoment=b,t.weekdays=function(e,t,n){return lt(e,t,n,"weekdays")},t.parseZone=function(){return Ue.apply(null,arguments).parseZone()},t.localeData=_e,t.isDuration=Be,t.monthsShort=function(e,t){return ut(e,t,"monthsShort")},t.weekdaysMin=function(e,t,n){return lt(e,t,n,"weekdaysMin")},t.defineLocale=we,t.updateLocale=function(e,t){if(null!=t){var n,r=Pn;null!=Nn[e]&&(r=Nn[e]._config),(n=new T(t=x(r,t))).parentLocale=Nn[e],Nn[e]=n,be(e)}else null!=Nn[e]&&(null!=Nn[e].parentLocale?Nn[e]=Nn[e].parentLocale:null!=Nn[e]&&delete Nn[e]);return Nn[e]},t.locales=function(){return Tt(Nn)},t.weekdaysShort=function(e,t,n){return lt(e,t,n,"weekdaysShort")},t.normalizeUnits=k,t.relativeTimeRounding=function(e){return void 0===e?br:"function"==typeof e&&(br=e,!0)},t.relativeTimeThreshold=function(e,t){return void 0!==wr[e]&&(void 0===t?wr[e]:(wr[e]=t,"s"===e&&(wr.ss=t-1),!0))},t.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},t.prototype=tr,t})}).call(t,n("3IRH")(e))},PPhe:function(e,t,n){"use strict";(function(t){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t,n,r){return!e.addEventListener&&(t="on"+t),(e.addEventListener||e.attachEvent).call(e,t,n,r),n}function s(e,t,n,r){return!e.removeEventListener&&(t="on"+t),(e.removeEventListener||e.detachEvent).call(e,t,n,r),n}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n("GiK3"),l=(n("KSGD"),function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,u.Component),c(t,[{key:"componentDidMount",value:function(){this.props.enabled&&this.bindHandlers()}},{key:"componentWillUnmount",value:function(){this.unbindHandlers()}},{key:"componentWillReceiveProps",value:function(e){this.props.enabled&&!e.enabled?this.unbindHandlers():!this.props.enabled&&e.enabled&&this.bindHandlers()}},{key:"getKeys",value:function(){this.props.target,window;return Object.keys(this.props).filter(function(e){return"on"===e.slice(0,2)}).map(function(e){return[e,e.slice(2).toLowerCase()]})}},{key:"bindHandlers",value:function(){this._adjustHandlers(i)}},{key:"unbindHandlers",value:function(){this._adjustHandlers(s)}},{key:"_adjustHandlers",value:function(e){var t=this.props,n="function"==typeof t.target?t.target():t.target;if(n){var r=d?{passive:t.passive,capture:t.capture}:t.capture;this.getKeys().forEach(function(o){e(n,o[1],t[o[0]],r)})}}},{key:"render",value:function(){return null}}]),t}());l.displayName="DocumentEvents",l.defaultProps={capture:!1,enabled:!0,passive:!1,target:t.browser?document:null};var d=function(){try{var e=!1;return document.createElement("div").addEventListener("test",function(){},{get passive(){e=!0}}),e}catch(e){return!1}}();e.exports=l}).call(t,n("W2nU"))},Pa9K:function(e,t,n){"use strict";var r=n("6+wF");n.n(r)},PfJA:function(e,t){e.exports=function(e){return e.split("")}},Q2wK:function(e,t,n){var r=n("8AZL"),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var a=arguments,i=-1,s=o(a.length-t,0),c=Array(s);++i<s;)c[i]=a[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=a[i];return u[t]=n(c),r(e,this,u)}}},Q4WQ:function(e,t,n){"use strict";var r=n("e6+Q"),o=n("cxPT"),a=n("gt/O");e.exports=function(){function e(e,t,n,r,i,s){s!==a&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},Q7hp:function(e,t,n){var r=n("uCi2");e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},QPja:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("Wme4");Object.defineProperty(t,"Operation",{enumerable:!0,get:function(){return r.Operation}});var o=n("w2Dv");Object.defineProperty(t,"Scheme",{enumerable:!0,get:function(){return o.Scheme}}),Object.defineProperty(t,"ObjectScheme",{enumerable:!0,get:function(){return o.ObjectScheme}}),Object.defineProperty(t,"ArrayScheme",{enumerable:!0,get:function(){return o.ArrayScheme}});var a=n("dMLf");Object.defineProperty(t,"ObjectAs",{enumerable:!0,get:function(){return a.ObjectAs}}),Object.defineProperty(t,"ArrayOf",{enumerable:!0,get:function(){return a.ArrayOf}}),Object.defineProperty(t,"objectActMap",{enumerable:!0,get:function(){return a.objectActMap}}),Object.defineProperty(t,"arrayActMap",{enumerable:!0,get:function(){return a.arrayActMap}})},RH2O:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",n=arguments[1]||t+"Subscription",i=function(e){function i(n,a){r(this,i);var s=o(this,e.call(this,n,a));return s[t]=n.store,s}return a(i,e),i.prototype.getChildContext=function(){var e;return e={},e[t]=this[t],e[n]=null,e},i.prototype.render=function(){return k.Children.only(this.props.children)},i}(k.Component);return i.propTypes={store:L.isRequired,children:N.a.element.isRequired},i.childContextTypes=(e={},e[t]=L.isRequired,e[n]=D,e),i}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(){var e=[],t=[];return{clear:function(){t=W,e=W},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},get:function(){return t},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&e!==W&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function p(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function f(){}function h(e,t){var n={run:function(r){try{var o=e(t.getState(),r);(o!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=o,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n}function m(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.getDisplayName,a=void 0===o?function(e){return"ConnectAdvanced("+e+")"}:o,i=r.methodName,s=void 0===i?"connectAdvanced":i,c=r.renderCountProp,m=void 0===c?void 0:c,y=r.shouldHandleStateChanges,v=void 0===y||y,g=r.storeKey,b=void 0===g?"store":g,w=r.withRef,_=void 0!==w&&w,O=p(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),S=b+"Subscription",C=z++,E=(t={},t[b]=L,t[S]=D,t),j=(n={},n[S]=D,n);return function(t){Y()("function"==typeof t,"You must pass a component to the function returned by connect. Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",r=a(n),o=H({},O,{getDisplayName:a,methodName:s,renderCountProp:m,shouldHandleStateChanges:v,storeKey:b,withRef:_,displayName:r,wrappedComponentName:n,WrappedComponent:t}),i=function(n){function a(e,t){u(this,a);var o=l(this,n.call(this,e,t));return o.version=C,o.state={},o.renderCount=0,o.store=e[b]||t[b],o.propsMode=Boolean(e[b]),o.setWrappedInstance=o.setWrappedInstance.bind(o),Y()(o.store,'Could not find "'+b+'" in either the context or props of "'+r+'". Either wrap the root component in a <Provider>, or explicitly pass "'+b+'" as a prop to "'+r+'".'),o.initSelector(),o.initSubscription(),o}return d(a,n),a.prototype.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return e={},e[S]=t||this.context[S],e},a.prototype.componentDidMount=function(){v&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},a.prototype.componentWillReceiveProps=function(e){this.selector.run(e)},a.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},a.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=f,this.store=null,this.selector.run=f,this.selector.shouldComponentUpdate=!1},a.prototype.getWrappedInstance=function(){return Y()(_,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+s+"() call."),this.wrappedInstance},a.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},a.prototype.initSelector=function(){var t=e(this.store.dispatch,o);this.selector=h(t,this.store),this.selector.run(this.props)},a.prototype.initSubscription=function(){if(v){var e=(this.propsMode?this.props:this.context)[S];this.subscription=new B(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},a.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(q)):this.notifyNestedSubs()},a.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},a.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},a.prototype.addExtraProps=function(e){if(!(_||m||this.propsMode&&this.subscription))return e;var t=H({},e);return _&&(t.ref=this.setWrappedInstance),m&&(t[m]=this.renderCount++),this.propsMode&&this.subscription&&(t[S]=this.subscription),t},a.prototype.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(k.createElement)(t,this.addExtraProps(e.props))},a}(k.Component);return i.WrappedComponent=t,i.displayName=r,i.childContextTypes=j,i.contextTypes=E,i.propTypes=E,A()(i,t)}}function y(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function v(e,t){if(y(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!V.call(t,n[o])||!y(e[n[o]],t[n[o]]))return!1;return!0}function g(e){return function(t,n){function r(){return o}var o=e(t,n);return r.dependsOnOwnProps=!1,r}}function b(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function w(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=b(e);var o=r(t,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=b(o),o=r(t,n)),o},r}}function _(e,t,n){return J({},n,e,t)}function O(e){return function(t,n){n.displayName;var r=n.pure,o=n.areMergedPropsEqual,a=!1,i=void 0;return function(t,n,s){var c=e(t,n,s);return a?r&&o(c,i)||(i=c):(a=!0,i=c),i}}}function S(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function C(e,t,n,r){return function(o,a){return n(e(o,a),t(r,a),a)}}function E(e,t,n,r,o){function a(o,a){return h=o,m=a,y=e(h,m),v=t(r,m),g=n(y,v,m),f=!0,g}function i(){return y=e(h,m),t.dependsOnOwnProps&&(v=t(r,m)),g=n(y,v,m)}function s(){return e.dependsOnOwnProps&&(y=e(h,m)),t.dependsOnOwnProps&&(v=t(r,m)),g=n(y,v,m)}function c(){var t=e(h,m),r=!p(t,y);return y=t,r&&(g=n(y,v,m)),g}function u(e,t){var n=!d(t,m),r=!l(e,h);return h=e,m=t,n&&r?i():n?s():r?c():g}var l=o.areStatesEqual,d=o.areOwnPropsEqual,p=o.areStatePropsEqual,f=!1,h=void 0,m=void 0,y=void 0,v=void 0,g=void 0;return function(e,t){return f?u(e,t):a(e,t)}}function j(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,o=t.initMergeProps,a=S(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),i=n(e,a),s=r(e,a),c=o(e,a);return(a.pure?E:C)(i,s,c,e,a)}function x(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function T(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function M(e,t){return e===t}Object.defineProperty(t,"__esModule",{value:!0});var k=n("GiK3"),P=n("KSGD"),N=n.n(P),D=N.a.shape({trySubscribe:N.a.func.isRequired,tryUnsubscribe:N.a.func.isRequired,notifyNestedSubs:N.a.func.isRequired,isSubscribed:N.a.func.isRequired}),L=N.a.shape({subscribe:N.a.func.isRequired,dispatch:N.a.func.isRequired,getState:N.a.func.isRequired}),R=i(),I=n("hYij"),A=n.n(I),U=n("crWv"),Y=n.n(U),W=null,F={notify:function(){}},B=function(){function e(t,n,r){s(this,e),this.store=t,this.parentSub=n,this.onStateChange=r,this.unsubscribe=null,this.listeners=F}return e.prototype.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},e.prototype.notifyNestedSubs=function(){this.listeners.notify()},e.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},e.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=c())},e.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=F)},e}(),H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z=0,q={},V=Object.prototype.hasOwnProperty,G=n("2KeS"),K=(n("sMP3"),[function(e){return"function"==typeof e?w(e,"mapDispatchToProps"):void 0},function(e){return e?void 0:g(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?g(function(t){return Object(G.bindActionCreators)(e,t)}):void 0}]),$=[function(e){return"function"==typeof e?w(e,"mapStateToProps"):void 0},function(e){return e?void 0:g(function(){return{}})}],J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z=[function(e){return"function"==typeof e?O(e):void 0},function(e){return e?void 0:function(){return _}}],X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.connectHOC,n=void 0===t?m:t,r=e.mapStateToPropsFactories,o=void 0===r?$:r,a=e.mapDispatchToPropsFactories,i=void 0===a?K:a,s=e.mergePropsFactories,c=void 0===s?Z:s,u=e.selectorFactory,l=void 0===u?j:u;return function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=a.pure,u=void 0===s||s,d=a.areStatesEqual,p=void 0===d?M:d,f=a.areOwnPropsEqual,h=void 0===f?v:f,m=a.areStatePropsEqual,y=void 0===m?v:m,g=a.areMergedPropsEqual,b=void 0===g?v:g,w=x(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),_=T(e,o,"mapStateToProps"),O=T(t,i,"mapDispatchToProps"),S=T(r,c,"mergeProps");return n(l,X({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:_,initMapDispatchToProps:O,initMergeProps:S,pure:u,areStatesEqual:p,areOwnPropsEqual:h,areStatePropsEqual:y,areMergedPropsEqual:b},w))}}();n.d(t,"Provider",function(){return R}),n.d(t,"createProvider",function(){return i}),n.d(t,"connectAdvanced",function(){return m}),n.d(t,"connect",function(){return Q})},RUXH:function(e,t){e.exports={"global-layer":"_117M7z6nl08dIXffp8wSF",header:"_3jioi4K2B2yOsbmLPodNyM","layer-name":"lHQ2gR47fywCXPyoNOQt-",panel:"YjFkC1l7Pq0gsLgl2dq1C",container:"_3_XaUvUOzD1MeTPSGbtmJY",copyBtn:"M4cHnCN2XUVYXQ2Ez48Vk _2TAID7TnzAXoGA-jTBc04W","layer-load":"_3f1x0LwZiq_7c8_TaXvySo",spinner:"xKsPnP6rU53wBVIz85ai_","rotate-infinite":"_2ch38-nvB58TUdWQkKGJJo"}},RVGU:function(e,t){},RVHk:function(e,t,n){var r=n("TQ3y");e.exports=function(){return r.Date.now()}},RWTD:function(e,t){},RfZv:function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},Rh28:function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},RjDc:function(e,t,n){var r=n("3rZI"),o=n("lAob"),a=n("IPGu"),i=RegExp("['’]","g");e.exports=function(e){return function(t){return r(a(o(t).replace(i,"")),e,"")}}},SHWz:function(e,t,n){var r=n("MoMe"),o=1,a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,s,c){var u=n&o,l=r(e),d=l.length;if(d!=r(t).length&&!u)return!1;for(var p=d;p--;){var f=l[p];if(!(u?f in t:a.call(t,f)))return!1}var h=c.get(e);if(h&&c.get(t))return h==t;var m=!0;c.set(e,t),c.set(t,e);for(var y=u;++p<d;){var v=e[f=l[p]],g=t[f];if(i)var b=u?i(g,v,f,t,e,c):i(v,g,f,e,t,c);if(!(void 0===b?v===g||s(v,g,n,i,c):b)){m=!1;break}y||(y="constructor"==f)}if(m&&!y){var w=e.constructor,_=t.constructor;w!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _)&&(m=!1)}return c.delete(e),c.delete(t),m}},SPM9:function(e,t){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var r=window.getSelection(),o=document.createRange();o.selectNodeContents(e),r.removeAllRanges(),r.addRange(o),t=r.toString()}return t}},SayF:function(e,t){var n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(n)||[]}},SdsR:function(e,t,n){"use strict";var r=n("RWTD");n.n(r)},SjWj:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n("GiK3"),s=n.n(i),c=n("KSGD"),u=n.n(c),l=n("WCZ4"),d=n("HKUm"),p=(n.n(d),function(e){function t(){var n,a,i;r(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=a=o(this,e.call.apply(e,[this].concat(c))),a.handleClick=function(){if(!a.props.host.team_cid){var e=a.props,t=e.host;(0,e.dispatch)({type:"modal:update:state",payload:{collaboratorModal:{open:!0,host:t,userRole:t.owner_id===MB.user.id?"owner":t.roleByUid(MB.user.id)}}})}},i=n,o(a,i)}return a(t,e),t.prototype.render=function(){var e=this.props,t=e.host,n=e.children;return s.a.createElement("div",{className:"collaborators",onClick:this.handleClick},n,!n&&s.a.createElement(l.b,{name:"user"}),!n&&t.collaborators().length)},t}(i.PureComponent));t.a=p,p.propTypes={children:u.a.oneOfType([u.a.element,u.a.array]),dispatch:u.a.func,host:u.a.object}},Sjoy:function(e,t,n){!function(e,t){t(n("PJh5"))}(0,function(e){"use strict";return e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})},SlD4:function(e,t){e.exports={previewPanelLayer:"_1440VIJ3r2SoiW8WAZ21xI",layerInfo:"_1auiNpZenxIHtuOt85xZWs"}},T2Un:function(e,t,n){var r,o;!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(this&&this[r]||r);else if(Array.isArray(r))e.push(n.apply(this,r));else if("object"===o)for(var i in r)a.call(r,i)&&r[i]&&e.push(this&&this[i]||i)}}return e.join(" ")}var a={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=n:(r=[],void 0!==(o=function(){return n}.apply(t,r))&&(e.exports=o))}()},TQ3y:function(e,t,n){var r=n("blYT"),o="object"==typeof self&&self&&self.Object===Object&&self,a=r||o||Function("return this")();e.exports=a},TlPD:function(e,t,n){var r=n("tv3T"),o=n("t8rQ");e.exports=function(e){return r(e,o(e))}},Tqun:function(e,t,n){!function(e,t){t(n("PJh5"))}(0,function(e){"use strict";return e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})})},Tvex:function(e,t,n){var r=n("7YkW"),o=n("JUs9"),a=n("s96k"),i=n("dmQx"),s=n("V3Yo"),c=n("octw"),u=200;e.exports=function(e,t,n){var l=-1,d=o,p=e.length,f=!0,h=[],m=h;if(n)f=!1,d=a;else if(p>=u){var y=t?null:s(e);if(y)return c(y);f=!1,d=i,m=new r}else m=t?[]:h;e:for(;++l<p;){var v=e[l],g=t?t(v):v;if(v=n||0!==v?v:0,f&&g===g){for(var b=m.length;b--;)if(m[b]===g)continue e;t&&m.push(g),h.push(v)}else d(m,g,n)||(m!==h&&m.push(g),h.push(v))}return h}},U4Qx:function(e,t){e.exports={"adjust-container":"_2mXIR548xnkexSLnXz1eeg","is-offline-mode":"_2jWPdyZBP5mzw5-JTB3Tt"}},UJYK:function(e,t){},Ubhr:function(e,t){e.exports=function(e){return e}},UnEC:function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},Uz1a:function(e,t,n){var r=n("bJWQ"),o=n("FhcP"),a=n("EHRO"),i=n("SHWz"),s=n("gHOb"),c=n("NGEn"),u=n("ggOT"),l=n("YsVG"),d=1,p="[object Arguments]",f="[object Array]",h="[object Object]",m=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,y,v,g){var b=c(e),w=c(t),_=b?f:s(e),O=w?f:s(t),S=(_=_==p?h:_)==h,C=(O=O==p?h:O)==h,E=_==O;if(E&&u(e)){if(!u(t))return!1;b=!0,S=!1}if(E&&!S)return g||(g=new r),b||l(e)?o(e,t,n,y,v,g):a(e,t,_,n,y,v,g);if(!(n&d)){var j=S&&m.call(e,"__wrapped__"),x=C&&m.call(t,"__wrapped__");if(j||x){var T=j?e.value():e,M=x?t.value():t;return g||(g=new r),v(T,M,n,y,g)}}return!!E&&(g||(g=new r),i(e,t,n,y,v,g))}},V33R:function(e,t,n){var r,o,a;!function(i,s){o=[e,n("LF/X"),n("WreF"),n("Bj/7")],void 0!==(a="function"==typeof(r=s)?r.apply(t,o):r)&&(e.exports=a)}(0,function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}var u=o(t),l=o(n),d=o(r),p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(e){function t(e,n){a(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.resolveOptions(n),r.listenClick(e),r}return s(t,l.default),f(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===p(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,d.default)(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new u.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return c("action",e)}},{key:"defaultTarget",value:function(e){var t=c("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return c("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach(function(e){n=n&&!!document.queryCommandSupported(e)}),n}}]),t}();e.exports=h})},V3Yo:function(e,t){e.exports=function(){}},V9Vg:function(e,t,n){"use strict";function r(e,t){if(!e||e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function o(e){var t=void 0,n=void 0;return function(){return r(n,arguments)||(t=e.apply(null,arguments),n=arguments),t}}n.d(t,"h",function(){return o}),n.d(t,"j",function(){return a}),n.d(t,"p",function(){return c}),n.d(t,"k",function(){return u}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return d}),n.d(t,"f",function(){return f}),n.d(t,"m",function(){return h}),n.d(t,"l",function(){return y}),n.d(t,"o",function(){return v}),n.d(t,"e",function(){return g}),n.d(t,"i",function(){return b}),n.d(t,"a",function(){return m}),n.d(t,"g",function(){return w}),n.d(t,"n",function(){return _}),n.d(t,"d",function(){return O});var a=function(e){return function(t){return t&&t.preventDefault(),t&&t.stopPropagation(),e&&e(t)}},i={"&amp;":"&","&lt;":"<","&gt;":">"},s=function(e){return i[e]||e},c=function(e){return e&&e.replace(/(&amp;|&lt;|&gt;)/g,s)},u=function(e,t,n){return Math.min(Math.max(e,t),n)},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Number(parseFloat((1/t*e).toFixed(2)))+n},d=function(e){var t=e.image,n=e.adjust;t.naturalWidth>=t.naturalHeight?t.style.maxWidth=n+"px":t.style.maxHeight=n+"px"},p=function(e){if(e){var t=/\s|<|>|《|》|:|：|？|\?|\\|\/|"|”|\||\./g;return e.replace(t,"_")}},f=function(e){var t=e.url,n=e.name,r=e.type,o=document.createElement("a"),a=p(n)||"未命名",i=""+encodeURIComponent(a);r?o.href=t+"?attname="+i+"."+r:(o.setAttribute("download",i),o.href=""+t),o.click()},h=function(e){return Number(e.toFixed(2))},m={preview:"打开了预览界面",inspect:"切换到标注页面",comment:"切换到评论页面"},y=function(e){var t=e.width,n=e.height,r=e.left,o=e.top,a=e.rotate,i=void 0===a?0:a;if(0===i)return[o,r,t,n];var s=MB.atan2(t,n),c=s-i,u=c-2*s,l=c+180,d=u+180,p=r+t/2,f=o+n/2,h=MB.hypotenuse(t/2,n/2),m=1/0,y=1/0,v=-1/0,g=-1/0;return[c,u,l,d].forEach(function(e){var t=Math.round(p+h*MB.cos(e)),n=Math.round(f+h*MB.sin(e));t<m&&(m=t),n<y&&(y=n),t>v&&(v=t),n>g&&(g=n)}),[y,m,v-m,g-y]},v=function(e){return new Promise(function(t){return setTimeout(t,e)})},g=function(){return console.error("下载失败")},b=function(e){var t=(""+e).charCodeAt(0);return t>=19968&&t<=40869},w=function(){try{var e=MB.localStorageDelegate.getItem("user_pick_color");return JSON.parse(e||"[]")}catch(e){return[]}},_=function(e){var t=w();return t.includes(e)||(t.unshift(e),t.length>40&&t.pop(),MB.localStorageDelegate.setItem("user_pick_color",JSON.stringify(t))),t},O=function(e){var t=w(),n=t.indexOf(e);return t.splice(n,1),MB.localStorageDelegate.setItem("user_pick_color",JSON.stringify(t)),t}},VORN:function(e,t,n){var r=n("yCNF"),o=Object.create,a=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=a},Vr3j:function(e,t,n){"use strict";function r(e,t){return w.notUndef(e)&&b.call(e,t)}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i({},e),n=new Promise(function(e,n){t.resolve=e,t.reject=n});return t.promise=n,t}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";"undefined"==typeof window?console.log("redux-saga "+e+": "+t+"\n"+(n&&n.stack||n)):console[e](t,n)}n.d(t,"u",function(){return c}),n.d(t,"e",function(){return u}),n.d(t,"b",function(){return d}),n.d(t,"a",function(){return p}),n.d(t,"c",function(){return f}),n.d(t,"d",function(){return h}),n.d(t,"o",function(){return y}),n.d(t,"r",function(){return v}),n.d(t,"l",function(){return g}),t.g=function(e,t,n){if(!t(e))throw a("error","uncaught at check",n),new Error(n)},n.d(t,"n",function(){return w}),n.d(t,"s",function(){return _}),t.t=function(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)},n.d(t,"f",function(){return O}),t.i=o,t.j=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=void 0,r=new Promise(function(r){n=setTimeout(function(){return r(t)},e)});return r[p]=function(){return clearTimeout(n)},r},n.d(t,"v",function(){return S}),t.q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments[3],o={name:n,next:e,throw:t,return:E};return r&&(o[l]=!0),"undefined"!=typeof Symbol&&(o[Symbol.iterator]=function(){return o}),o},t.p=a,t.k=function(e,t){return function(){return e.apply(void 0,arguments)}},n.d(t,"w",function(){return j}),n.d(t,"m",function(){return x}),n.d(t,"h",function(){return T}),n.d(t,"x",function(){return M});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(e){return"@@redux-saga/"+e},u=c("TASK"),l=c("HELPER"),d=c("MATCH"),p=c("CANCEL_PROMISE"),f=c("SAGA_ACTION"),h=c("SELF_CANCELLATION"),m=function(e){return function(){return e}},y=m(!0),v=(m(!1),function(){}),g=function(e){return e},b=Object.prototype.hasOwnProperty,w={undef:function(e){return null===e||void 0===e},notUndef:function(e){return null!==e&&void 0!==e},func:function(e){return"function"==typeof e},number:function(e){return"number"==typeof e},string:function(e){return"string"==typeof e},array:Array.isArray,object:function(e){return e&&!w.array(e)&&"object"===(void 0===e?"undefined":s(e))},promise:function(e){return e&&w.func(e.then)},iterator:function(e){return e&&w.func(e.next)&&w.func(e.throw)},iterable:function(e){return e&&w.func(Symbol)?w.func(e[Symbol.iterator]):w.array(e)},task:function(e){return e&&e[u]},observable:function(e){return e&&w.func(e.subscribe)},buffer:function(e){return e&&w.func(e.isEmpty)&&w.func(e.take)&&w.func(e.put)},pattern:function(e){return e&&(w.string(e)||"symbol"===(void 0===e?"undefined":s(e))||w.func(e)||w.array(e))},channel:function(e){return e&&w.func(e.take)&&w.func(e.close)},helper:function(e){return e&&e[l]},stringableFunc:function(e){return w.func(e)&&r(e,"toString")}},_={assign:function(e,t){for(var n in t)r(t,n)&&(e[n]=t[n])}},O={from:function(e){var t=Array(e.length);for(var n in e)r(e,n)&&(t[n]=e[n]);return t}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(){return++e}}(),C=function(e){throw e},E=function(e){return{value:e,done:!0}},j=function(e,t){return e+" has been deprecated in favor of "+t+", please update your code"},x=function(e){return new Error("\n  redux-saga: Error checking hooks detected an inconsistent state. This is likely a bug\n  in redux-saga code and not yours. Thanks for reporting this in the project's github repo.\n  Error: "+e+"\n")},T=function(e,t){return(e?e+".":"")+"setContext(props): argument "+t+" is not a plain object"},M=function(e){return function(t){return e(Object.defineProperty(t,f,{value:!0}))}}},Vy9P:function(e,t){e.exports={imageList:"_3ficRHuvBnw8OpmrNQhWx2","image-item":"bAb8vOu-aZtn1Y-6uUVYK","opacity-0":"_2HO0IDXv1rZt1QRmvrC5JB","opacity-1":"I2CG014sVtCTkxi-kF0by","image-wrap":"_1utFJlUiQEYi0SQneiT6Af","comment-count":"_2c1WzxIpT8o5B2Ol-zS0Rf","image-title":"_1gio49aYGcJE3bFQogMark",active:"_38c-sH3yvaLWSfdG2i6FOf"}},Vz2w:function(e,t,n){!function(e,t){t(n("PJh5"))}(0,function(e){"use strict";return e.defineLocale("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY年MMMD日",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日Ah点mm分",LLLL:"YYYY年MMMD日ddddAh点mm分",l:"YYYY年MMMD日",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日 HH:mm",llll:"YYYY年MMMD日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"下午"===t||"晚上"===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?"凌晨":r<900?"早上":r<1130?"上午":r<1230?"中午":r<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|周)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"周";default:return e}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},week:{dow:1,doy:4}})})},W2nU:function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function a(e){if(d===clearTimeout)return clearTimeout(e);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function i(){m&&f&&(m=!1,f.length?h=f.concat(h):y=-1,h.length&&s())}function s(){if(!m){var e=o(i);m=!0;for(var t=h.length;t;){for(f=h,h=[];++y<t;)f&&f[y].run();y=-1,t=h.length}f=null,m=!1,a(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var l,d,p=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(e){d=r}}();var f,h=[],m=!1,y=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new c(e,t)),1!==h.length||m||o(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.prependListener=u,p.prependOnceListener=u,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},WCZ4:function(e,t,n){"use strict";var r=n("9aC9");n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return r.b})},WHce:function(e,t){e.exports=function(e){return e}},WIDu:function(e,t,n){var r=n("Tvex");e.exports=function(e){return e&&e.length?r(e):[]}},WQFf:function(e,t,n){var r=n("VORN"),o=n("vi0E"),a=n("HT7L");e.exports=function(e){return"function"!=typeof e.constructor||a(e)?{}:r(o(e))}},Wh6c:function(e,t,n){var r=n("M1c9");e.exports=function(e,t,n){var o=e.length;return n=void 0===n?o:n,!t&&n>=o?e:r(e,t,n)}},Wme4:function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i={objectSet:function(e,t,n){return e[t]!==n?a({},e,o({},t,n)):e},objectDelete:function(e,t){if(!(t in e))return e;var n=a({},e);return delete n[t],n},objectMerge:function(e,t){for(var n in t){var r=t[n];if(e[n]!==r)return a({},e,t)}return e},arraySet:function(e,t,n){if(e[t]===n)return e;var o=[].concat(r(e));return o[t]=n,o},arrayDelete:function(e,t){return t>=0&&t<=e.length-1?[].concat(r(e.slice(0,t)),r(e.slice(t+1))):e},arrayInsert:function(e,t,n){return t=Math.min(Math.max(t,0),e.length),[].concat(r(e.slice(0,t)),[n],r(e.slice(t)))},arrayPush:function(e,t){return[].concat(r(e),[t])},arrayUnshift:function(e,t){return[t].concat(r(e))},arrayPop:function(e){if(0===e.length)return e;var t=[].concat(r(e));return t.pop(),t},arrayShift:function(e){if(0===e.length)return e;var t=[].concat(r(e));return t.shift(),t},arrayConcat:function(e,t){return t&&t.length?[].concat(r(e),r(t)):e},arrayMatchPush:function(e,t){return e.includes(t)?e:[].concat(r(e),[t])},arrayMatchDelete:function(e,t){var n=e.indexOf(t);return~n?[].concat(r(e.slice(0,n)),r(e.slice(n+1))):e},arrayMatchMove:function(e,t,n){t=Math.min(Math.max(t,0),e.length-1);var o=e.indexOf(n);return~o&&o!==t?o<t?[].concat(r(e.slice(0,o)),r(e.slice(o+1,t+1)),[n],r(e.slice(t+1))):[].concat(r(e.slice(0,t)),[n],r(e.slice(t,o)),r(e.slice(o+1))):e},arrayFindPush:function(e,t,n){return void 0===e.find(t)?[].concat(r(e),[n]):e},arrayFindDelete:function(e,t){var n=e.findIndex(t);return~n?[].concat(r(e.slice(0,n)),r(e.slice(n+1))):e},arrayFindMove:function(e,t,n){var o=e.findIndex(t),a=e[o];return~o&&o!==n?o<n?[].concat(r(e.slice(0,o)),r(e.slice(o+1,n+1)),[a],r(e.slice(n+1))):[].concat(r(e.slice(0,n)),[a],r(e.slice(n,o)),r(e.slice(o+1))):e},arrayFindSet:function(e,t,n){var o=e.findIndex(t);if(!~o||e[o]===n)return e;var a=[].concat(r(e));return a[o]=n,a}};t.Operation=i},WreF:function(e,t){function n(){}n.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function r(){o.off(e,r),t.apply(n,arguments)}var o=this;return r._=t,this.on(e,r,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,o=n.length;for(r;r<o;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],o=[];if(r&&t)for(var a=0,i=r.length;a<i;a++)r[a].fn!==t&&r[a].fn._!==t&&o.push(r[a]);return o.length?n[e]=o:delete n[e],this}},e.exports=n},WxI4:function(e,t){e.exports=function(){this.__data__=[],this.size=0}},YDHx:function(e,t,n){function r(e,t,n,i,s){return e===t||(null==e||null==t||!a(e)&&!a(t)?e!==e&&t!==t:o(e,t,n,i,r,s))}var o=n("Uz1a"),a=n("UnEC");e.exports=r},YkxI:function(e,t,n){var r=n("wSKX"),o=n("Q2wK"),a=n("WHce");e.exports=function(e,t){return a(o(e,t,r),e+"")}},YsVG:function(e,t){e.exports=function(){return!1}},ZE5A:function(e,t,n){function r(e,t,n,r){return function(n){n.delegateTarget=o(n.target,t),n.delegateTarget&&r.call(e,n)}}var o=n("Jssu");e.exports=function(e,t,n,o,a){var i=r.apply(this,arguments);return e.addEventListener(n,i,a),{destroy:function(){e.removeEventListener(n,i,a)}}}},ZT2e:function(e,t){e.exports=function(e){return e}},Zb5Q:function(e,t,n){"use strict";var r=n("GiK3"),o=n.n(r),a=n("KSGD"),i=n.n(a),s=n("9aC9"),c=n("5/ex"),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},f=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t},h=function(e){function t(e){l(this,t);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggle=function(e){var t=e.target,r=n.props,o=r.isDisabled,a=r.onChange,i=n.state.isChecked;return t.blur(),!o&&n.setState({isChecked:!i},function(){return a(n.state.isChecked)})},n.state={isChecked:e.isChecked},n}return p(t,e),d(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.isChecked;t!==this.props.isChecked&&this.setState({isChecked:t})}},{key:"render",value:function(){var e=this.props,t=e.icon,n=e.isDisabled,r=e.children,a=this.state.isChecked;return o.a.createElement("label",{className:Object(c.f)(["Switch",a?"is-checked":"isnt-checked",n&&"is-disabled"])},o.a.createElement("button",{type:"button",disabled:n,onClick:this.toggle},t?o.a.createElement(s.b,{name:t}):r))}}]),t}(r.PureComponent);h.propTypes={isChecked:i.a.bool,isDisabled:i.a.bool,onChange:i.a.func,className:i.a.string,icon:i.a.string},h.defaultProps={isChecked:!1,isDisabled:!1,className:"",onChange:function(){return null},icon:""},t.a=h},aCM0:function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},"aTD+":function(e,t){},bBrr:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=!1},bFAv:function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0});var o,a=function(e){return e&&e.__esModule?e:{default:e}}(n("zzRL"));o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var i=(0,a.default)(o);t.default=i}).call(t,n("DuR2"),n("3IRH")(e))},bGc4:function(e,t,n){var r=n("gGqR"),o=n("Rh28");e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},bJWQ:function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var o=n("WxI4"),a=n("dFpP"),i=n("JBvZ"),s=n("2Hvv"),c=n("deUO");r.prototype.clear=o,r.prototype.delete=a,r.prototype.get=i,r.prototype.has=s,r.prototype.set=c,e.exports=r},bjzn:function(e,t){},blYT:function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,n("DuR2"))},br6V:function(e,t){e.exports={nav:"xnJdrPjsJoJrp1VupFyUM","nav-item":"_3UspVqDrjxaWG9BSMdj9jf"}},cF0m:function(e,t,n){"use strict";var r=n("GiK3"),o=n.n(r),a=n("KSGD"),i=n.n(a),s=n("9aC9"),c=n("5/ex"),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},h=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},m=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t},y={primary:"PrimaryButton",regular:"RegularButton",text:"TextButton"},v=function(e){function t(){return l(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),d(t,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.size,r=e.isDisabled,a=e.icon,i=e.iconType,u=e.className,l=e.children,d=e.html,f=h(e,["type","size","isDisabled","icon","iconType","className","children","html"]),m=d?{dangerouslySetInnerHTML:{__html:d}}:{children:[!!a&&o.a.createElement(s.b,{key:"icon",type:i,name:a}),l]};return o.a.createElement("button",p({className:Object(c.f)([y[t],"regular"!==n&&n,u]),disabled:r},f,m))}}]),t}(r.PureComponent);v.propTypes={type:i.a.oneOf(["primary","regular","text"]),size:i.a.oneOf(["regular","small"]),iconType:i.a.oneOf(["dora","mb","icon","fa","md"]),icon:i.a.string,className:i.a.string,isDisabled:i.a.bool,children:i.a.any,html:i.a.string},v.defaultProps={type:"regular",size:"regular",icon:"",className:"",isDisabled:!1},t.a=v},cXw4:function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments[1],n=new Array(e),r=0,o=0,u=0,l=function(t){n[o]=t,o=(o+1)%e,r++},d=function(){if(0!=r){var t=n[u];return n[u]=null,r--,u=(u+1)%e,t}},p=function(){for(var e=[];r;)e.push(d());return e};return{isEmpty:function(){return 0==r},put:function(d){if(r<e)l(d);else{var f=void 0;switch(t){case i:throw new Error(a);case s:n[o]=d,u=o=(o+1)%e;break;case c:f=2*e,n=p(),r=n.length,o=n.length,u=0,n.length=f,e=f,l(d)}}},take:d,flush:p}}n.d(t,"a",function(){return l});var o=n("Vr3j"),a="Channel's Buffer overflow!",i=1,s=3,c=4,u={isEmpty:o.o,put:o.r,take:o.r},l={none:function(){return u},fixed:function(e){return r(e,i)},dropping:function(e){return r(e,2)},sliding:function(e){return r(e,s)},expanding:function(e){return r(e,c)}}},cbHe:function(e,t,n){"use strict";(function(e){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function o(e,t){return t={exports:{}},e(t,t.exports),t.exports}function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function i(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function s(e){var t=this.__data__=new O(e);this.size=t.size}function c(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new me;++t<n;)this.add(e[t])}function u(e,t,n,r,o){return e===t||(null==e||null==t||!Xe(e)&&!Xe(t)?e!==e&&t!==t:Vt(e,t,n,r,u,o))}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hover";return"string"==typeof e||Array.isArray(e)||Object(p.isValidElement)(e)?e:rn.includes(t)?e[t]||e.hover:null}function d(e){var t=e.name,n=tn(e,["name"]);return f.a.createElement(un,Qt({type:"widget"},n),t)}n.d(t,"b",function(){return sn}),n.d(t,"a",function(){return un}),n.d(t,"c",function(){return d});var p=n("GiK3"),f=n.n(p),h=n("KSGD"),m=n.n(h),y=n("5/ex"),v=n("O27J"),g=(n.n(v),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}),b=function(e,t){return e===t||e!==e&&t!==t},w=function(e,t){for(var n=e.length;n--;)if(b(e[n][0],t))return n;return-1},_=Array.prototype.splice;r.prototype.clear=function(){this.__data__=[],this.size=0},r.prototype.delete=function(e){var t=this.__data__,n=w(t,e);return!(n<0||(n==t.length-1?t.pop():_.call(t,n,1),--this.size,0))},r.prototype.get=function(e){var t=this.__data__,n=w(t,e);return n<0?void 0:t[n][1]},r.prototype.has=function(e){return w(this.__data__,e)>-1},r.prototype.set=function(e,t){var n=this.__data__,r=w(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var O=r,S="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},C="object"==(void 0===S?"undefined":g(S))&&S&&S.Object===Object&&S,E="object"==("undefined"==typeof self?"undefined":g(self))&&self&&self.Object===Object&&self,j=C||E||Function("return this")(),x=j.Symbol,T=Object.prototype,M=T.hasOwnProperty,k=T.toString,P=x?x.toStringTag:void 0,N=function(e){var t=M.call(e,P),n=e[P];try{e[P]=void 0;var r=!0}catch(e){}var o=k.call(e);return r&&(t?e[P]=n:delete e[P]),o},D=Object.prototype.toString,L=function(e){return D.call(e)},R="[object Null]",I="[object Undefined]",A=x?x.toStringTag:void 0,U=function(e){return null==e?void 0===e?I:R:A&&A in Object(e)?N(e):L(e)},Y=function(e){var t=void 0===e?"undefined":g(e);return null!=e&&("object"==t||"function"==t)},W="[object AsyncFunction]",F="[object Function]",B="[object GeneratorFunction]",H="[object Proxy]",z=function(e){if(!Y(e))return!1;var t=U(e);return t==F||t==B||t==W||t==H},q=j["__core-js_shared__"],V=function(){var e=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),G=function(e){return!!V&&V in e},K=Function.prototype.toString,$=function(e){if(null!=e){try{return K.call(e)}catch(e){}try{return e+""}catch(e){}}return""},J=/[\\^$.*+?()[\]{}|]/g,Z=/^\[object .+?Constructor\]$/,X=Function.prototype,Q=Object.prototype,ee=X.toString,te=Q.hasOwnProperty,ne=RegExp("^"+ee.call(te).replace(J,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),re=function(e){return!(!Y(e)||G(e))&&(z(e)?ne:Z).test($(e))},oe=function(e,t){return null==e?void 0:e[t]},ae=function(e,t){var n=oe(e,t);return re(n)?n:void 0},ie=ae(j,"Map"),se=ae(Object,"create"),ce="__lodash_hash_undefined__",ue=Object.prototype.hasOwnProperty,le=Object.prototype.hasOwnProperty,de="__lodash_hash_undefined__";a.prototype.clear=function(){this.__data__=se?se(null):{},this.size=0},a.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},a.prototype.get=function(e){var t=this.__data__;if(se){var n=t[e];return n===ce?void 0:n}return ue.call(t,e)?t[e]:void 0},a.prototype.has=function(e){var t=this.__data__;return se?void 0!==t[e]:le.call(t,e)},a.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=se&&void 0===t?de:t,this};var pe=a,fe=function(e){var t=void 0===e?"undefined":g(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},he=function(e,t){var n=e.__data__;return fe(t)?n["string"==typeof t?"string":"hash"]:n.map};i.prototype.clear=function(){this.size=0,this.__data__={hash:new pe,map:new(ie||O),string:new pe}},i.prototype.delete=function(e){var t=he(this,e).delete(e);return this.size-=t?1:0,t},i.prototype.get=function(e){return he(this,e).get(e)},i.prototype.has=function(e){return he(this,e).has(e)},i.prototype.set=function(e,t){var n=he(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var me=i,ye=200;s.prototype.clear=function(){this.__data__=new O,this.size=0},s.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},s.prototype.get=function(e){return this.__data__.get(e)},s.prototype.has=function(e){return this.__data__.has(e)},s.prototype.set=function(e,t){var n=this.__data__;if(n instanceof O){var r=n.__data__;if(!ie||r.length<ye-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new me(r)}return n.set(e,t),this.size=n.size,this};var ve=s,ge="__lodash_hash_undefined__";c.prototype.add=c.prototype.push=function(e){return this.__data__.set(e,ge),this},c.prototype.has=function(e){return this.__data__.has(e)};var be=c,we=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},_e=function(e,t){return e.has(t)},Oe=1,Se=2,Ce=function(e,t,n,r,o,a){var i=n&Oe,s=e.length,c=t.length;if(s!=c&&!(i&&c>s))return!1;var u=a.get(e);if(u&&a.get(t))return u==t;var l=-1,d=!0,p=n&Se?new be:void 0;for(a.set(e,t),a.set(t,e);++l<s;){var f=e[l],h=t[l];if(r)var m=i?r(h,f,l,t,e,a):r(f,h,l,e,t,a);if(void 0!==m){if(m)continue;d=!1;break}if(p){if(!we(t,function(e,t){if(!_e(p,t)&&(f===e||o(f,e,n,r,a)))return p.push(t)})){d=!1;break}}else if(f!==h&&!o(f,h,n,r,a)){d=!1;break}}return a.delete(e),a.delete(t),d},Ee=j.Uint8Array,je=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n},xe=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n},Te=1,Me=2,ke="[object Boolean]",Pe="[object Date]",Ne="[object Error]",De="[object Map]",Le="[object Number]",Re="[object RegExp]",Ie="[object Set]",Ae="[object String]",Ue="[object Symbol]",Ye="[object ArrayBuffer]",We="[object DataView]",Fe=x?x.prototype:void 0,Be=Fe?Fe.valueOf:void 0,He=function(e,t,n,r,o,a,i){switch(n){case We:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ye:return!(e.byteLength!=t.byteLength||!a(new Ee(e),new Ee(t)));case ke:case Pe:case Le:return b(+e,+t);case Ne:return e.name==t.name&&e.message==t.message;case Re:case Ae:return e==t+"";case De:var s=je;case Ie:var c=r&Te;if(s||(s=xe),e.size!=t.size&&!c)return!1;var u=i.get(e);if(u)return u==t;r|=Me,i.set(e,t);var l=Ce(s(e),s(t),r,o,a,i);return i.delete(e),l;case Ue:if(Be)return Be.call(e)==Be.call(t)}return!1},ze=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e},qe=Array.isArray,Ve=function(e,t,n){var r=t(e);return qe(e)?r:ze(r,n(e))},Ge=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,a=[];++n<r;){var i=e[n];t(i,n,e)&&(a[o++]=i)}return a},Ke=Object.prototype.propertyIsEnumerable,$e=Object.getOwnPropertySymbols,Je=$e?function(e){return null==e?[]:(e=Object(e),Ge($e(e),function(t){return Ke.call(e,t)}))}:function(){return[]},Ze=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},Xe=function(e){return null!=e&&"object"==(void 0===e?"undefined":g(e))},Qe="[object Arguments]",et=function(e){return Xe(e)&&U(e)==Qe},tt=Object.prototype,nt=tt.hasOwnProperty,rt=tt.propertyIsEnumerable,ot=et(function(){return arguments}())?et:function(e){return Xe(e)&&nt.call(e,"callee")&&!rt.call(e,"callee")},at=function(){return!1},it=o(function(e,t){var n=t&&!t.nodeType&&t,r=n&&!0&&e&&!e.nodeType&&e,o=r&&r.exports===n?j.Buffer:void 0,a=(o?o.isBuffer:void 0)||at;e.exports=a}),st=9007199254740991,ct=/^(?:0|[1-9]\d*)$/,ut=function(e,t){return!!(t=null==t?st:t)&&("number"==typeof e||ct.test(e))&&e>-1&&e%1==0&&e<t},lt=9007199254740991,dt=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=lt},pt={};pt["[object Float32Array]"]=pt["[object Float64Array]"]=pt["[object Int8Array]"]=pt["[object Int16Array]"]=pt["[object Int32Array]"]=pt["[object Uint8Array]"]=pt["[object Uint8ClampedArray]"]=pt["[object Uint16Array]"]=pt["[object Uint32Array]"]=!0,pt["[object Arguments]"]=pt["[object Array]"]=pt["[object ArrayBuffer]"]=pt["[object Boolean]"]=pt["[object DataView]"]=pt["[object Date]"]=pt["[object Error]"]=pt["[object Function]"]=pt["[object Map]"]=pt["[object Number]"]=pt["[object Object]"]=pt["[object RegExp]"]=pt["[object Set]"]=pt["[object String]"]=pt["[object WeakMap]"]=!1;var ft=function(e){return function(t){return e(t)}},ht=o(function(e,t){var n=t&&!t.nodeType&&t,r=n&&!0&&e&&!e.nodeType&&e,o=r&&r.exports===n&&C.process,a=function(){try{return o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=a}),mt=ht&&ht.isTypedArray,yt=mt?ft(mt):function(e){return Xe(e)&&dt(e.length)&&!!pt[U(e)]},vt=Object.prototype.hasOwnProperty,gt=function(e,t){var n=qe(e),r=!n&&ot(e),o=!n&&!r&&it(e),a=!n&&!r&&!o&&yt(e),i=n||r||o||a,s=i?Ze(e.length,String):[],c=s.length;for(var u in e)!t&&!vt.call(e,u)||i&&("length"==u||o&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ut(u,c))||s.push(u);return s},bt=Object.prototype,wt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||bt)},_t=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),Ot=Object.prototype.hasOwnProperty,St=function(e){if(!wt(e))return _t(e);var t=[];for(var n in Object(e))Ot.call(e,n)&&"constructor"!=n&&t.push(n);return t},Ct=function(e){return null!=e&&dt(e.length)&&!z(e)},Et=function(e){return Ct(e)?gt(e):St(e)},jt=function(e){return Ve(e,Et,Je)},xt=1,Tt=Object.prototype.hasOwnProperty,Mt=function(e,t,n,r,o,a){var i=n&xt,s=jt(e),c=s.length;if(c!=jt(t).length&&!i)return!1;for(var u=c;u--;){var l=s[u];if(!(i?l in t:Tt.call(t,l)))return!1}var d=a.get(e);if(d&&a.get(t))return d==t;var p=!0;a.set(e,t),a.set(t,e);for(var f=i;++u<c;){var h=e[l=s[u]],m=t[l];if(r)var y=i?r(m,h,l,t,e,a):r(h,m,l,e,t,a);if(!(void 0===y?h===m||o(h,m,n,r,a):y)){p=!1;break}f||(f="constructor"==l)}if(p&&!f){var v=e.constructor,g=t.constructor;v!=g&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof g&&g instanceof g)&&(p=!1)}return a.delete(e),a.delete(t),p},kt=ae(j,"DataView"),Pt=ae(j,"Promise"),Nt=ae(j,"Set"),Dt=ae(j,"WeakMap"),Lt=$(kt),Rt=$(ie),It=$(Pt),At=$(Nt),Ut=$(Dt),Yt=U;(kt&&"[object DataView]"!=Yt(new kt(new ArrayBuffer(1)))||ie&&"[object Map]"!=Yt(new ie)||Pt&&"[object Promise]"!=Yt(Pt.resolve())||Nt&&"[object Set]"!=Yt(new Nt)||Dt&&"[object WeakMap]"!=Yt(new Dt))&&(Yt=function(e){var t=U(e),n="[object Object]"==t?e.constructor:void 0,r=n?$(n):"";if(r)switch(r){case Lt:return"[object DataView]";case Rt:return"[object Map]";case It:return"[object Promise]";case At:return"[object Set]";case Ut:return"[object WeakMap]"}return t});var Wt=Yt,Ft=1,Bt="[object Arguments]",Ht="[object Array]",zt="[object Object]",qt=Object.prototype.hasOwnProperty,Vt=function(e,t,n,r,o,a){var i=qe(e),s=qe(t),c=i?Ht:Wt(e),u=s?Ht:Wt(t),l=(c=c==Bt?zt:c)==zt,d=(u=u==Bt?zt:u)==zt,p=c==u;if(p&&it(e)){if(!it(t))return!1;i=!0,l=!1}if(p&&!l)return a||(a=new ve),i||yt(e)?Ce(e,t,n,r,o,a):He(e,t,c,n,r,o,a);if(!(n&Ft)){var f=l&&qt.call(e,"__wrapped__"),h=d&&qt.call(t,"__wrapped__");if(f||h){var m=f?e.value():e,y=h?t.value():t;return a||(a=new ve),o(m,y,n,r,a)}}return!!p&&(a||(a=new ve),Mt(e,t,n,r,o,a))},Gt=u,Kt=function(e,t){return Gt(e,t)},$t={inline:"span",link:"a",block:"div"},Jt=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Zt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Xt=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},en=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":g(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},tn=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},nn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":g(t))&&"function"!=typeof t?e:t},rn=["hover","click"],on=document.getElementById("MB_TOOLTIP_ROOT")||Object.assign(document.createElement("div"),{id:"MB_TOOLTIP_ROOT"}),an=document.body;an.contains(on)||an.appendChild(on);var sn=function(e){function t(e){Jt(this,t);var n=nn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.set$text=function(e){return n.setState({$text:e})},n.onClick=function(){return n.setState({isOpen:!!l(n.props.content,"click"),isClicked:!0},n.props.onClick)},n.onMouseEnter=function(){return Object.assign(n,{hoverTimeout:setTimeout(function(){return n.setState({isOpen:!!l(n.props.content,"hover")},n.props.onMouseEnter)},n.props.delay)})},n.onMouseLeave=function(){clearTimeout(n.hoverTimeout),n.setState({isOpen:!1,isClicked:!1},n.props.onMouseLeave)},n.state={isOpen:!1,isClicked:!1,$text:null},n}return en(t,e),Zt(t,[{key:"componentWillUpdate",value:function(e,t){var n=this,r=t.isOpen,o=this.props.duration,a=this.state.isOpen;o&&!a&&r&&setTimeout(function(){return n.setState({isOpen:!1})},o)}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.position,r=e.inflexible,o=e.arrowed,a=e.className,i=e.tipClassName,s=e.content,c=e.children,u=this.state,d=u.isOpen,p=u.isClicked,h=u.$text,m=Object(y.f)(["Tooltip",a,d?"is-open":"",p?"is-clicked":""]),v=p?"click":"hover";return f.a.createElement($t[t],Qt({ref:this.set$text,className:m,onMouseEnter:this.onMouseEnter,onClick:this.onClick,onMouseLeave:this.onMouseLeave},Object(y.e)(this.constructor,this.props)),[c,f.a.createElement(cn,{key:"tip",$text:h,isOpen:d,className:i,eventName:v,position:n,inflexible:r,arrowed:o,children:l(s,v)})])}}]),t}(p.PureComponent);sn.propTypes={type:m.a.oneOf(Object.keys($t)).isRequired,position:m.a.oneOf(["top","right","bottom","left"]).isRequired,arrowed:m.a.bool,inflexible:m.a.bool,className:m.a.string,tipClassName:m.a.string,content:m.a.oneOfType([m.a.node,m.a.shape(rn.reduce(function(e,t){return Object.assign(e,Xt({},t,m.a.node))},{}))]),onMouseEnter:m.a.func,onClick:m.a.func,onMouseLeave:m.a.func,delay:m.a.oneOfType([m.a.number,m.a.string]),duration:m.a.oneOfType([m.a.number,m.a.string]),children:m.a.node},sn.defaultProps={type:"inline",position:"right",arrowed:!0,inflexible:!1,delay:200,className:"",tipClassName:""};var cn=function(e){function t(e){Jt(this,t);var n=nn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.set$tip=function(e){return Object.assign(n,{$tip:e})},n.set$tipStyle=function(e){return Object.assign(n.$tip.style,e)},n.position=function(){var e=n.$tip,t=n.props,r=t.$text,o=t.position,a=!t.inflexible;if(r&&e){var i=e.offsetWidth,s=e.offsetHeight,c=r.offsetWidth,u=r.offsetHeight,l=r.getBoundingClientRect(),d=l.top,p=l.right,f=l.bottom,h=l.left,m=h+c/2,y=d+u/2,v=window.innerWidth-10,g=window.innerHeight-10,b={},w={},_=function(e){return Object.assign(b,e)},O=function(e){return Object.assign(w,e)};if("top"===o?a&&d-s<10?(_({top:f+"px"}),n.setState({position:"bottom"})):_({top:d+"px"}):"bottom"===o&&(a&&f+s>g?(_({top:d+"px"}),n.setState({position:"top"})):_({top:f+"px"})),["top","bottom"].includes(o)){_({left:m+"px"});var S=(i-18)/2+6,C=m-i/2<10?Math.min(i/2-m-6,S):m+i/2>v?Math.max(6-(i/2-(v+10-m)),-S):0;0!==C&&O({transform:"translateX("+C+"px)"})}if("left"===o?a&&h-i<10?(_({left:p+"px"}),n.setState({position:"right"})):_({left:h+"px"}):"right"===o&&(a&&p+i>v?(_({left:h+"px"}),n.setState({position:"left"})):_({left:p+"px"})),["left","right"].includes(o)){_({top:y+"px"});var E=(s-18)/2-6,j=s>50&&(y-5<=g/2&&y-s/2<10?Math.min(s/2-y-6,E):y-5>g/2&&y+s/2>g?Math.max(-(s/2-(g+10-y)),-E):0);0!==j&&O({transform:"translateY("+j+"px)"})}Object.assign(e.style,b),Object.assign(e.querySelector(".content").style,w),n.$tip.classList.add("is-open")}},n.onTransitionEnd=function(){n.props.isOpen?n.$tip.classList.add("is-open"):n.setState({isOpen:!1})},n.state={isOpen:e.isOpen,position:e.position},n}return en(t,e),Zt(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.isOpen,n=e.position,r=this.state,o=r.isOpen,a=r.position;!o&&t?this.setState({isOpen:t}):o&&!t&&this.$tip.classList.remove("is-open"),!o&&t&&a!==n&&this.setState({position:n})}},{key:"componentDidUpdate",value:function(e){var t=e.isOpen,n=this.state.isOpen;!t&&n&&this.position()}},{key:"render",value:function(){return Object(v.createPortal)(this.renderTip(),on)}},{key:"renderTip",value:function(){var e=this.props,t=e.className,n=e.inflexible,r=e.arrowed,o=e.children,a=this.state,i=a.isOpen,s=a.position,c=Object(y.f)(["Tip",t,"on-"+s,n&&"inflexible",r&&"arrowed"]);return i&&f.a.createElement("div",{ref:this.set$tip,className:c,onTransitionEnd:this.onTransitionEnd},r&&f.a.createElement("div",{className:"arrow",dangerouslySetInnerHTML:{__html:y.d.DROPDOWN_ARROW}}),f.a.createElement("div",{className:"content",children:o}))}}]),t}(p.PureComponent);cn.propTypes={isOpen:m.a.bool,className:m.a.string,eventName:m.a.oneOf(rn),$text:m.a.instanceOf(Element),position:m.a.oneOf(["top","right","bottom","left"]),inflexible:m.a.bool,arrowed:m.a.bool,children:m.a.node};var un=function(e){function t(e){Jt(this,t);var n=nn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.set$ellipsis=function(e){return Object.assign(n,{$ellipsis:e})},n.detectTruncation=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.$ellipsis;return e.offsetWidth<e.scrollWidth},n.state={isTruncated:!1},n}return en(t,e),Zt(t,[{key:"componentDidMount",value:function(){this.detectTruncation()&&this.setState({isTruncated:!0})}},{key:"componentWillReceiveProps",value:function(e){var t=e.children,n=this.props.children;Kt(n,t)||this.setState({isTruncated:!1})}},{key:"componentDidUpdate",value:function(e){var t=e.children,n=this.props.children;Kt(t,n)||this.setState({isTruncated:this.detectTruncation()})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.to,r=e.type,o=e.max,a=e.display,i=e.noTooltip,s=e.withTooltip,c=e.children,u=tn(e,["className","to","type","max","display","noTooltip","withTooltip","children"]),l=this.state.isTruncated,d=n?"link":"inline",p=Qt({ref:this.set$ellipsis,className:Object(y.f)(["EllipsisSpan",t,l&&"is-truncated"]),href:n,"data-type":r,"data-max":o,style:{display:a,maxWidth:isFinite(o)?o+"em":o}},u,{children:c});return s||l&&!i?f.a.createElement(sn,Qt({type:d,content:c},p)):f.a.createElement($t[d],p)}}]),t}(p.PureComponent);un.propTypes={className:m.a.string,to:m.a.string,type:m.a.oneOf(["user","id","email","team","app","widget"]),max:m.a.oneOfType([m.a.string,m.a.number]),display:m.a.oneOf(["inline-block","block"]),children:m.a.node,noTooltip:m.a.bool,withTooltip:m.a.bool}}).call(t,n("DuR2"))},cdq7:function(e,t){e.exports=function(e,t,n,r){for(var o=e.length,a=n+(r?1:-1);r?a--:++a<o;)if(t(e[a],a,e))return a;return-1}},"d+aQ":function(e,t,n){var r=n("hbAh"),o=n("16tV"),a=n("sJvV");e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},dAKm:function(e,t,n){var r=n("vxJQ")("round");e.exports=r},dFpP:function(e,t,n){var r=n("imBK"),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},dMLf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayActMap=t.objectActMap=t.ArrayOf=t.ObjectAs=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n("Wme4"),a=n("w2Dv"),i=o.Operation.objectSet,s=o.Operation.objectDelete,c=o.Operation.objectMerge,u=o.Operation.arraySet,l=o.Operation.arrayDelete,d=o.Operation.arrayInsert,p=o.Operation.arrayPush,f=o.Operation.arrayUnshift,h=o.Operation.arrayPop,m=o.Operation.arrayShift,y=o.Operation.arrayConcat,v=o.Operation.arrayMatchPush,g=o.Operation.arrayMatchDelete,b=o.Operation.arrayMatchMove,w=o.Operation.arrayFindPush,_=o.Operation.arrayFindDelete,O=o.Operation.arrayFindMove,S=o.Operation.arrayFindSet,C={set:function(e,t){var n=t.key,r=t.value;return i(e,n,r)},delete:function(e,t){var n=t.key;return s(e,n)},merge:function(e,t){var n=t.merge;return c(e,n)}},E={set:function(e,t){var n=t.index,r=t.value;return u(e,n,r)},delete:function(e,t){var n=t.index;return l(e,n)},insert:function(e,t){var n=t.index,r=t.value;return d(e,n,r)},push:function(e,t){var n=t.value;return p(e,n)},pop:function(e,t){return h(e)},shift:function(e,t){return m(e)},unshift:function(e,t){var n=t.value;return f(e,n)},concat:function(e,t){var n=t.concat;return y(e,n)},matchPush:function(e,t){var n=t.value;return v(e,n)},matchDelete:function(e,t){var n=t.value;return g(e,n)},matchMove:function(e,t){var n=t.index,r=t.value;return b(e,n,r)},findPush:function(e,t){var n=t.find,r=t.value;return w(e,n,r)},findDelete:function(e,t){var n=t.find;return _(e,n)},findMove:function(e,t){var n=t.find,r=t.index;return O(e,n,r)},findSet:function(e,t){var n=t.find,r=t.value;return S(e,n,r)}};t.ObjectAs=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new a.ObjectScheme(e,r({},t),r({},C,n))},t.ArrayOf=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new a.ArrayScheme(e,[t],r({},E,n))},t.objectActMap=C,t.arrayActMap=E},deUO:function(e,t,n){var r=n("imBK");e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},dmQx:function(e,t,n){var r=n("G8ar");e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},dyB6:function(e,t,n){!function(e,t){t(n("PJh5"))}(0,function(e){"use strict";return e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})},eHwr:function(e,t,n){var r=n("JyYQ"),o=n("bGc4"),a=n("ktak");e.exports=function(e){return function(t,n,i){var s=Object(t);if(!o(t)){var c=r(n,3);t=a(t),n=function(e){return c(s[e],e,s)}}var u=e(t,n,i);return u>-1?s[c?t[u]:u]:void 0}}},eKBv:function(e,t,n){var r=n("YDHx"),o=n("Q7hp"),a=n("RfZv"),i=n("hIPy"),s=n("tO4o"),c=n("sJvV"),u=n("Ubhr"),l=1,d=2;e.exports=function(e,t){return i(e)&&s(t)?c(u(e),t):function(n){var i=o(n,e);return void 0===i&&i===t?a(n,e):r(t,i,l|d)}}},egdi:function(e,t,n){"use strict";var r=n("JJnU");n.d(t,"f",function(){return r.i}),n.d(t,"d",function(){return r.g}),n.d(t,"a",function(){return r.b}),n.d(t,"b",function(){return r.d}),n.d(t,"c",function(){return r.f}),n.d(t,"e",function(){return r.h}),n.d(t,"g",function(){return r.j})},f931:function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},gGqR:function(e,t,n){var r=n("aCM0"),o=n("yCNF"),a="[object AsyncFunction]",i="[object Function]",s="[object GeneratorFunction]",c="[object Proxy]";e.exports=function(e){if(!o(e))return!1;var t=r(e);return t==i||t==s||t==a||t==c}},gHOb:function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},ggOT:function(e,t){e.exports=function(){return!1}},"gt/O":function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},hIPy:function(e,t){e.exports=function(e){return e}},hPuz:function(e,t,n){!function(e,t){t(n("PJh5"))}(0,function(e){"use strict";return e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})},hYij:function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a=Object.defineProperty,i=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,u=Object.getPrototypeOf,l=u&&u(Object);e.exports=function e(t,n,d){if("string"!=typeof n){if(l){var p=u(n);p&&p!==l&&e(t,p,d)}var f=i(n);s&&(f=f.concat(s(n)));for(var h=0;h<f.length;++h){var m=f[h];if(!(r[m]||o[m]||d&&d[m])){var y=c(n,m);try{a(t,m,y)}catch(e){}}}return t}return t}},hbAh:function(e,t,n){var r=n("bJWQ"),o=n("YDHx"),a=1,i=2;e.exports=function(e,t,n,s){var c=n.length,u=c,l=!s;if(null==e)return!u;for(e=Object(e);c--;){var d=n[c];if(l&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++c<u;){var p=(d=n[c])[0],f=e[p],h=d[1];if(l&&d[2]){if(void 0===f&&!(p in e))return!1}else{var m=new r;if(s)var y=s(f,h,p,e,t,m);if(!(void 0===y?o(h,f,a|i,s,m):y))return!1}}return!0}},hrPF:function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},hygk:function(e,t,n){var r=n("YDHx");e.exports=function(e,t){return r(e,t)}},i4Cv:function(e,t,n){"use strict";function r(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),o=e.slice(t);return Array.prototype.concat.call([],r(n),r(o))}function o(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(i),n=1;n<t.length;n++)t=(e=r(t,n).join("")).match(i);return e}}function a(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=s.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=o(n[0]);r!==n[0]&&(t[n[0]]=r)}n=s.exec(e)}t["%C2"]="�";for(var a=Object.keys(t),i=0;i<a.length;i++){var c=a[i];e=e.replace(new RegExp(c,"g"),t[c])}return e}var i=new RegExp("%[a-f0-9]{2}","gi"),s=new RegExp("(%[a-f0-9]{2})+","gi");e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return a(e)}}},i4ON:function(e,t,n){var r=n("nw3t"),o=n("22B7"),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var i=e[t];a.call(e,t)&&o(i,n)&&(void 0!==n||t in e)||r(e,t,n)}},iDEd:function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},iL3P:function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},iNpB:function(e,t,n){"use strict";n.d(t,"b",function(){return f}),n.d(t,"a",function(){return m}),n.d(t,"c",function(){return y});var r=n("GiK3"),o=n.n(r),a=n("KSGD"),i=n.n(a),s=n("/MvA"),c=n("n7Jj"),u=n("s7Y4"),l=(n.n(u),window),d=l.MB,p=l.I18N,f=function(){return location.assign("/pricing?next="+location.href)},h=function(e){var t=e.reason,n=e.data,r=e.shouldShowConfirm,a=e.onClose;return o.a.createElement(s.a,{isOpen:!0,className:"renew-modal",title:p.renew_prompt.title,onConfirm:r?f:null,confirmText:r?p.renew_now:null,onClose:a},o.a.createElement("p",null,m(t,n)))};h.propTypes={reason:i.a.string,data:i.a.object,shouldShowConfirm:i.a.bool,onClose:i.a.func};var m=function(e,t){var n=t.role,r=t.plan,o=t.storage,a=void 0===o?"":o,i=t.format,s=void 0===i?"":i,c=t.collaborators,u=void 0===c?"":c;return(p.renew_prompt[n+"_plan"]+p.renew_prompt[e]+p.renew_prompt[n+"_upgrade"]).replace("{plan}",p[r||d.currentProject.owner_plan]).replace("{storage}",a).replace("{format}",s).replace("{collaborators}",u)},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.ga&&window.ga("ec:setAction","checkout",{step:1,option:e}),window.ga&&window.ga("send","event","goal","弹出了续费提示"),Object(c.a)(h,{reason:e,data:t,shouldShowConfirm:"user"===t.role})}},iYj9:function(e,t){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return n.test(e)}},ieXk:function(e,t){},igqX:function(e,t,n){"use strict";function r(e,t){for(var n in t){var r=t[n];r.configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n,r)}return e}function o(e){return("*"===e?_.wildcard:d.n.array(e)?_.array:d.n.stringableFunc(e)?_.default:d.n.func(e)?_.predicate:_.default)(e)}function a(e,t,n){function r(e){a(),n(e,!0)}function o(e){i.push(e),e.cont=function(o,a){c||(Object(d.t)(i,e),e.cont=d.r,a?r(o):(e===t&&(s=o),i.length||(c=!0,n(s))))}}function a(){c||(c=!0,i.forEach(function(e){e.cont=d.r,e.cancel()}),i=[])}var i=[],s=void 0,c=!1;return o(t),{addTask:o,cancelAll:a,abort:r,getTasks:function(){return i},taskNames:function(){return i.map(function(e){return e.name})}}}function i(e){var t=e.context,n=e.fn,r=e.args;if(d.n.iterator(n))return n;var o=void 0,a=void 0;try{o=n.apply(t,r)}catch(e){a=e}return d.n.iterator(o)?o:a?Object(d.q)(function(){throw a}):Object(d.q)(function(){var e=void 0,t={done:!1,value:o},n=function(e){return{done:!0,value:e}};return function(r){return e?n(r):(e=!0,t)}}())}function s(e){function t(){e._isRunning&&!e._isCancelled&&(e._isCancelled=!0,ee.cancelAll(),c(w))}function n(t,r){if(!Q.isRunning)throw new Error("Trying to resume an already finished generator");try{var o=void 0;r?o=e.throw(t):t===w?(Q.isCancelled=!0,n.cancel(),o=d.n.func(e.return)?e.return(w):{done:!0,value:w}):o=t===b?d.n.func(e.return)?e.return():{done:!0}:e.next(t),o.done?(Q.isMainRunning=!1,Q.cont&&Q.cont(o.value)):u(o.value,B,"",n)}catch(e){Q.isCancelled&&$("error","uncaught at "+H,e.message),Q.isMainRunning=!1,Q.cont(e,!0)}}function c(t,n){e._isRunning=!1,J.close(),n?(t instanceof Error&&(t.sagaStack="at "+H+" \n "+(t.sagaStack||t.stack)),X.cont||($("error","uncaught",t.sagaStack||t.stack),t instanceof Error&&K&&K(t)),e._error=t,e._isAborted=!0,e._deferredEnd&&e._deferredEnd.reject(t)):(e._result=t,e._deferredEnd&&e._deferredEnd.resolve(t)),X.cont&&X.cont(t,n),X.joiners.forEach(function(e){return e.cb(t,n)}),X.joiners=null}function u(e,t){function n(e,t){i||(i=!0,o.cancel=d.r,V&&(t?V.effectRejected(a,e):V.effectResolved(a,e)),o(e,t))}var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments[3],a=Object(d.v)();V&&V.effectTriggered({effectId:a,parentEffectId:t,label:r,effect:e});var i=void 0;n.cancel=d.r,o.cancel=function(){if(!i){i=!0;try{n.cancel()}catch(e){$("error","uncaught at "+H,e.message)}n.cancel=d.r,V&&V.effectCancelled(a)}};var s=void 0;return d.n.promise(e)?l(e,n):d.n.helper(e)?j(O(e),a,n):d.n.iterator(e)?v(e,a,H,n):d.n.array(e)?q(e,a,n):(s=h.c.take(e))?_(s,n):(s=h.c.put(e))?S(s,n):(s=h.c.all(e))?M(s,a,n):(s=h.c.race(e))?k(s,a,n):(s=h.c.call(e))?C(s,a,n):(s=h.c.cps(e))?E(s,n):(s=h.c.fork(e))?j(s,a,n):(s=h.c.join(e))?x(s,n):(s=h.c.cancel(e))?T(s,n):(s=h.c.select(e))?P(s,n):(s=h.c.actionChannel(e))?N(s,n):(s=h.c.flush(e))?L(s,n):(s=h.c.cancelled(e))?D(s,n):(s=h.c.getContext(e))?R(s,n):(s=h.c.setContext(e))?I(s,n):n(e)}function l(e,t){var n=e[d.a];d.n.func(n)?t.cancel=n:d.n.func(e.abort)&&(t.cancel=function(){return e.abort()}),e.then(t,function(e){return t(e,!0)})}function v(e,t,n,r){s(e,A,U,Y,Z,F,t,n,r)}function _(e,t){var n=e.channel,r=e.pattern,a=e.maybe;n=n||J;var i=function(e){return e instanceof Error?t(e,!0):t(Object(p.d)(e)&&!a?b:e)};try{n.take(i,o(r))}catch(e){return t(e,!0)}t.cancel=i.cancel}function S(e,t){var n=e.channel,r=e.action,o=e.resolve;Object(f.a)(function(){var e=void 0;try{e=(n?n.put:U)(r)}catch(e){if(n||o)return t(e,!0);$("error","uncaught at "+H,e.stack||e.message||e)}if(!o||!d.n.promise(e))return t(e);l(e,t)})}function C(e,t,n){var r=e.context,o=e.fn,a=e.args,i=void 0;try{i=o.apply(r,a)}catch(e){return n(e,!0)}return d.n.promise(i)?l(i,n):d.n.iterator(i)?v(i,t,o.name,n):n(i)}function E(e,t){var n=e.context,r=e.fn,o=e.args;try{var a=function(e,n){return d.n.undef(e)?t(n):t(e,!0)};r.apply(n,o.concat(a)),a.cancel&&(t.cancel=function(){return a.cancel()})}catch(e){return t(e,!0)}}function j(e,t,n){var r=e.context,o=e.fn,a=e.args,c=e.detached,u=i({context:r,fn:o,args:a});try{Object(f.c)();var l=s(u,A,U,Y,Z,F,t,o.name,c?null:d.r);c?n(l):u._isRunning?(ee.addTask(l),n(l)):u._error?ee.abort(u._error):n(l)}finally{Object(f.b)()}}function x(e,t){if(e.isRunning()){var n={task:X,cb:t};t.cancel=function(){return Object(d.t)(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())}function T(e,t){e===d.d&&(e=X),e.isRunning()&&e.cancel(),t()}function M(e,t,n){function r(){a===o.length&&(i=!0,n(d.n.array(e)?d.f.from(y({},s,{length:o.length})):s))}var o=Object.keys(e);if(!o.length)return n(d.n.array(e)?[]:{});var a=0,i=void 0,s={},c={};o.forEach(function(e){var t=function(t,o){i||(o||Object(p.d)(t)||t===b||t===w?(n.cancel(),n(t,o)):(s[e]=t,a++,r()))};t.cancel=d.r,c[e]=t}),n.cancel=function(){i||(i=!0,o.forEach(function(e){return c[e].cancel()}))},o.forEach(function(n){return u(e[n],t,n,c[n])})}function k(e,t,n){var r=void 0,o=Object.keys(e),a={};o.forEach(function(e){var t=function(t,o){if(!r)if(o)n.cancel(),n(t,!0);else if(!Object(p.d)(t)&&t!==b&&t!==w){var a;n.cancel(),r=!0,n((a={},a[e]=t,a))}};t.cancel=d.r,a[e]=t}),n.cancel=function(){r||(r=!0,o.forEach(function(e){return a[e].cancel()}))},o.forEach(function(n){r||u(e[n],t,n,a[n])})}function P(e,t){var n=e.selector,r=e.args;try{t(n.apply(void 0,[Y()].concat(r)))}catch(e){t(e,!0)}}function N(e,t){var n=e.pattern,r=e.buffer,a=o(n);a.pattern=n,t(Object(p.c)(A,r||m.a.fixed(),a))}function D(e,t){t(!!Q.isCancelled)}function L(e,t){e.flush(t)}function R(e,t){t(Z[e])}function I(e,t){d.s.assign(Z,e),t()}var A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return d.r},U=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.r,Y=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d.r,W=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},F=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},B=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,H=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"anonymous",z=arguments[8];Object(d.g)(e,d.n.iterator,g);var q=Object(d.k)(M,Object(d.w)("[...effects]","all([...effects])")),V=F.sagaMonitor,G=F.logger,K=F.onError,$=G||d.p,J=Object(p.e)(A),Z=Object.create(W);n.cancel=d.r;var X=function(e,n,o,a){var i,s;return o._deferredEnd=null,i={},i[d.e]=!0,i.id=e,i.name=n,s={},s.done=s.done||{},s.done.get=function(){if(o._deferredEnd)return o._deferredEnd.promise;var e=Object(d.i)();return o._deferredEnd=e,o._isRunning||(o._error?e.reject(o._error):e.resolve(o._result)),e.promise},i.cont=a,i.joiners=[],i.cancel=t,i.isRunning=function(){return o._isRunning},i.isCancelled=function(){return o._isCancelled},i.isAborted=function(){return o._isAborted},i.result=function(){return o._result},i.error=function(){return o._error},i.setContext=function(e){Object(d.g)(e,d.n.object,Object(d.h)("task",e)),d.s.assign(Z,e)},r(i,s),i}(B,H,e,z),Q={name:H,cancel:function(){Q.isRunning&&!Q.isCancelled&&(Q.isCancelled=!0,n(w))},isRunning:!0},ee=a(H,Q,c);return z&&(z.cancel=t),e._isRunning=!0,n(),X}function c(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var a=void 0;d.n.iterator(e)?(a=e,e=t):(Object(d.g)(t,d.n.func,C),a=t.apply(void 0,r),Object(d.g)(a,d.n.iterator,C));var i=e,c=i.subscribe,u=i.dispatch,l=i.getState,p=i.context,f=i.sagaMonitor,h=i.logger,m=i.onError,y=Object(d.v)();f&&(f.effectTriggered=f.effectTriggered||d.r,f.effectResolved=f.effectResolved||d.r,f.effectRejected=f.effectRejected||d.r,f.effectCancelled=f.effectCancelled||d.r,f.actionDispatched=f.actionDispatched||d.r,f.effectTriggered({effectId:y,root:!0,parentEffectId:0,effect:{root:!0,saga:t,args:r}}));var v=s(a,c,Object(d.x)(u),l,p,{sagaMonitor:f,logger:h,onError:m},y,t.name);return f&&f.effectResolved(y,v),v}function u(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var l={};n.d(l,"TASK",function(){return d.e}),n.d(l,"SAGA_ACTION",function(){return d.c}),n.d(l,"noop",function(){return d.r}),n.d(l,"is",function(){return d.n}),n.d(l,"deferred",function(){return d.i}),n.d(l,"arrayOfDeffered",function(){}),n.d(l,"createMockTask",function(){}),n.d(l,"cloneableGenerator",function(){}),n.d(l,"asEffect",function(){return h.c}),n.d(l,"CHANNEL_END",function(){return b});var d=n("Vr3j"),p=n("xJpq"),f=n("2Bk7"),h=n("JJnU"),m=n("cXw4"),y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g="proc first argument (Saga function result) must be an iterator",b={toString:function(){return"@@redux-saga/CHANNEL_END"}},w={toString:function(){return"@@redux-saga/TASK_CANCEL"}},_={wildcard:function(){return d.o},default:function(e){return"symbol"===(void 0===e?"undefined":v(e))?function(t){return t.type===e}:function(t){return t.type===String(e)}},array:function(e){return function(t){return e.some(function(e){return o(e)(t)})}},predicate:function(e){return function(t){return e(t)}}},O=function(e){return{fn:e}},S="runSaga(storeInterface, saga, ...args)",C=S+": saga argument must be a Generator function!",E=(n("2iFZ"),n("egdi"));n.d(t,!1,function(){return c}),n.d(t,!1,function(){return p.a}),n.d(t,!1,function(){return p.c}),n.d(t,!1,function(){}),n.d(t,!1,function(){return m.a}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){return d.j}),n.d(t,!1,function(){return d.a}),n.d(t,!1,function(){return E}),n.d(t,!1,function(){return l});t.a=function(){function e(t){var n=t.getState,u=t.dispatch,l=Object(p.b)();return l.emit=(o.emitter||d.l)(l.emit),e.run=c.bind(null,{context:r,subscribe:l.subscribe,dispatch:u,getState:n,sagaMonitor:a,logger:i,onError:s}),function(e){return function(t){a&&a.actionDispatched&&a.actionDispatched(t);var n=e(t);return l.emit(t),n}}}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.context,r=void 0===n?{}:n,o=u(t,["context"]),a=o.sagaMonitor,i=o.logger,s=o.onError;if(d.n.func(o))throw new Error("Saga middleware no longer accept Generator functions. Use sagaMiddleware.run instead");if(i&&!d.n.func(i))throw new Error("`options.logger` passed to the Saga middleware is not a function!");if(s&&!d.n.func(s))throw new Error("`options.onError` passed to the Saga middleware is not a function!");if(o.emitter&&!d.n.func(o.emitter))throw new Error("`options.emitter` passed to the Saga middleware is not a function!");return e.run=function(){throw new Error("Before running a Saga, you must mount the Saga middleware on the Store using applyMiddleware")},e.setContext=function(e){Object(d.g)(e,d.n.object,Object(d.h)("sagaMiddleware",e)),d.s.assign(r,e)},e}},imBK:function(e,t,n){var r=n("22B7");e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},jBIO:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,layers:[],error:""},t=arguments[1];switch(t.type){case Bt:return Object.assign({},e,{isFetching:!1,layers:t.payload.layers,error:void 0,artboard:t.payload.artboard,documentColor:t.payload.document_colors,globalColor:t.payload.global_colors,globalText:t.payload.text_styles});case zt:return Object.assign({},e,{isFetching:!1,layers:[],error:t.payload.error});default:return e}}function l(e){var t,n,r,o,a,i,s,c,u,l,d,p,f,h,m,y,v,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(tn.e)();case 2:if(t=e.sent,n=t.container.layers,r=n.resourceByScreen,o=n.visibilityScreenID,a=t.model,i=a.current,s=i.screenCid,c=i.projectCid,u=a.screens,l=a.widgets,d=a.projects,p=u.find(function(e){return e.cid===s}),f=En(d,c),h=f.device,m=Mn(s),y=l.concat(m),r[o]&&!r[o].error){e.next=40;break}if(gn.includes(o)){e.next=40;break}if(gn.push(o),e.prev=11,v=void 0,!p.artboard_id){e.next=26;break}if(!window.MBArtboards){e.next=20;break}return e.next=17,Object(tn.b)(rn,p.cid);case 17:v=e.sent,e.next=24;break;case 20:return e.next=22,Object(tn.b)(on,p.artboard_id);case 22:v=e.sent,Cn(v);case 24:e.next=27;break;case 26:v={artboard:{width:p.width,height:p.height},layers:[],document:{document_colors:[],text_styles:[],global_colors:kn()}};case 27:return g=0,v.layers=[{type:"screen",id:p.cid,name:p.name,top:0,left:0,width:p.width,height:p.height,src_left:0,src_top:0,src_width:v.artboard.width,src_height:v.artboard.height,bg_colors:[{value:wn(p.bgcolor)}]}].concat(y.filter(function(e){return g||e.screen_cid!==p.cid||"status_bar"!==e.name||(g=e.height),e.screen_cid===p.cid&&!["pg","lr","sticky"].includes(e.name)&&e.v&&!("image_view"===e.name&&e.width===p.width&&e.height===p.height)}).map(function(e){var t=void 0;switch(e.name){case"status_bar":t=0;break;case"keyboard":case"tab_bar":t=p.height-e.height;break;case"navigation_bar":t=g;break;default:t=e.top}return e.top=t,sn(e.name)&&(e.width=p.width),On(e,h)}).concat(v.layers).reduce(function(e,t){var n=t.id,r=t.top,o=t.left,a=t.width,i=t.height,s=Sn(n)?1:p.width/v.artboard.width,c=o*s,u=r*s,l=a*s,d=i*s,f=Math.min(Math.max(c,0),p.width),h=Math.min(Math.max(c+l,0),p.width),m=Math.min(Math.max(u,0),p.height),y=Math.min(Math.max(u+d,0),p.height);return h-f!=0&&y-m!=0?e.concat([Object.assign({},t,{left:f,top:m,width:h-f,height:y-m,src_top:Number(parseFloat(Math.max(r,0)).toFixed(2)),src_left:Number(parseFloat(Math.max(o,0)).toFixed(2)),src_width:Number(parseFloat(Math.min(o+a,v.artboard.width)-Math.max(o,0)).toFixed(2)),src_height:Number(parseFloat(Math.min(r+i,v.artboard.height)-Math.max(r,0)).toFixed(2))})]):e.concat([])},[])),gn.splice(gn.indexOf(o),1),e.next=32,Object(tn.d)(Ht(o,v));case 32:e.next=40;break;case 34:return e.prev=34,e.t0=e.catch(11),console.log(e.t0.stack),gn.splice(gn.indexOf(o),1),e.next=40,Object(tn.d)(qt(o,e.t0.message));case 40:case"end":return e.stop()}},pn,this,[[11,34]])}function d(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(tn.g)(Ft,l);case 2:case"end":return e.stop()}},fn,this)}function p(e){var t,n,r,o,a,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload.layerID,s.next=3,Object(tn.e)();case 3:return n=s.sent,r=n.container.layers,o=r.resourceByScreen,a=r.visibilityScreenID,i=Tn(o[a].layers,t),xn&&console.log("[makeSureWithSliceId]",i),s.next=9,Object(tn.d)(_t(i));case 9:return s.next=11,Object(tn.d)(St(i));case 11:case"end":return s.stop()}},hn,this)}function f(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(tn.g)(gt,p);case 2:case"end":return e.stop()}},mn,this)}function h(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[d(),f()];case 2:case"end":return e.stop()}},yn,this)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function g(e,t,n){var r=e-n.left,o=t-n.top;return r*r+o*o>=Kn}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function I(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function A(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function W(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function H(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function V(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function J(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Q(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ee(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,a){try{var i=t[o](a),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ne(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function re(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ae(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ie(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ue(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function le(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,a){try{var i=t[o](a),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function de(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function fe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function me(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ye(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ve(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(tn.a)([ge()]);case 2:case"end":return e.stop()}},mi,this)}function ge(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(tn.g)("reducer:slice:init",be);case 2:case"end":return e.stop()}},yi,this)}function be(e){var t,n,r,o,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(tn.e)();case 2:if(t=e.sent,n=t.model.current.projectCid,e.prev=4,r=void 0,!n){e.next=15;break}return e.next=9,Object(tn.b)(pi,n);case 9:r=e.sent,a=(o=r).slices,i=a.filter(gi),r.slices=i,e.next=16;break;case 15:r={slices:[{id:1,name:"test",screen_cid:"sssss1232",image:"/uploads/images/14/149316/artboard_1506665060.png",src:"ssss",image_set:[{size:1,src:"src"}],image_set_zip:"src"},{id:2,name:"test",screen_cid:"sssss1232",image:"/uploads/images/14/149316/artboard_1506665060.png",image_set:[{size:1,src:"src"}],image_set_zip:"src"},{id:3,name:"test",screen_cid:"sssss1232",image:"/uploads/images/14/149316/artboard_1506665060.png",image_set:[{size:1,src:"src"}],image_set_zip:"src"}]};case 16:return e.next=18,Object(tn.d)({type:"reducer:slice:success",payload:hi({},r)});case 18:e.next=25;break;case 20:return e.prev=20,e.t0=e.catch(4),console.log(e.t0.stack),e.next=25,Object(tn.d)({type:"reducer:slice:fail"});case 25:case"end":return e.stop()}},vi,this,[[4,20]])}function we(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function _e(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,a){try{var i=t[o](a),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function Oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Se(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Ce(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Ee(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,a){try{var i=t[o](a),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Te(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ke(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Pe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Ne(e,t){t.style.width=e?0:Qi}function De(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(tn.a)([Le()]);case 2:case"end":return e.stop()}},os,this)}function Le(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(tn.g)("reducer:artboards:init",Re);case 2:case"end":return e.stop()}},as,this)}function Re(e){var t,n,r,o,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(tn.e)();case 2:if(t=e.sent,n=t.model,r=n.current.projectCid,o=n.screens,e.prev=4,a={},o.forEach(function(e){var t=e.width,n=e.height,r=e.cid;a[r]={width:t,height:n}}),!r){e.next=13;break}return e.next=10,Object(tn.b)(ns,r);case 10:i=e.sent,(s=i.artboards).length>0&&s.forEach(function(e){var t=e.width,n=e.height,r=e.screen_cid;a[r]={width:t,height:n}});case 13:return a={artboards:a},e.next=16,Object(tn.d)({type:"reducer:artboards:success",payload:rs({},a)});case 16:e.next=23;break;case 18:return e.prev=18,e.t0=e.catch(4),console.log(e.t0.stack),e.next=23,Object(tn.d)({type:"reducer:artboards:fail"});case 23:case"end":return e.stop()}},is,this,[[4,18]])}function Ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ae(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Ue(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Ye(e,t,n){switch(e){case"device":var r=MB.currentProject,o=r.deviceShell()||r.defaultShell();if(!o.bg)return null;var a=n?o.bg+"_land":o.bg,i=n?[-o.left,-o.top,o.height,o.width]:[-o.top,-o.left,o.width,o.height],s=i[0],c=i[1],u=i[2],l=i[3],d=MB.isOffline();return{top:s,left:c,width:u,height:l,transform:"scale("+t.scale/100+")",transformOrigin:-c+"px "+-s+"px",backgroundImage:"url("+(d?".":"")+"/images/devices/"+a+".png)"};case"default":case"none":return null}}function We(e,t,n,r,o,a){var i=void 0;if(o){var s=Math.min(n.width,n.height),c=Math.max(n.width,n.height),u=Math.min(t.width,t.height),l=Math.max(t.width,t.height),d=e.width!==u,p=d!==n.width>n.height,f=void 0;d?(f=c/l,i={width:l,height:Math.min(u,s/f),transform:(p?"translate(-100%) rotate(-90deg)":"")+" scale("+f+")",transformOrigin:p?"top right":"top left"}):(f=s/u,i={width:u,height:Math.min(l,c/f),transform:(p?"translate(-100%) rotate(-90deg)":"")+" scale("+f+")",transformOrigin:p?"top right":"top left"})}else if(a)i={width:e.width,height:e.height,transform:hs(r)};else{var h="landscape"===e.orientation,m=t.width,y=t.height,v=h?[y,m]:[m,y];i={width:v[0],height:v[1],transform:hs(r)}}return i}function Fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Be(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function He(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Ve(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ke(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function $e(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ze(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Xe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Qe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function et(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function tt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var nt=n("RH2O"),rt=n("V9Vg"),ot="inspect",at="preview",it=[at,ot,"comment"],st=[{label:I18N.preview.preview,icon:at},{label:I18N.preview_panel.developer_mode,icon:ot},{label:I18N.preview_panel.comment,icon:"comment"}],ct=st.slice(0,2),ut=n("2KeS"),lt=n("KSGD"),dt=n.n(lt),pt=n("GiK3"),ft=n.n(pt),ht=n("IQUt"),mt=n.n(ht),yt=n("HW6M"),vt=n.n(yt),gt="REQUEST_SELECT_LAYER",bt=function(e){!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:gt,payload:{layerID:e}}},wt="SELECT_LAYER",_t=function(e){return{type:wt,payload:{layerID:e}}},Ot="ACTIVATE_LAYER",St=function(e){return MB.event("点击了 Layer 元素","运行页"),{type:Ot,payload:{layerID:e}}},Ct="ENTER_LAYER",Et=function(e){return{type:Ct,payload:{layerID:e}}},jt=n("kbi+"),xt=n.n(jt),Tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mt=function(e){var t=e.layer,n=t.top,r=t.left,o=t.width,a=t.height,i=t.rotation,s=void 0===i?0:i,c=e.currentScreen,u=Object(rt.l)({width:o,height:a,left:r,top:n,rotate:s}),l=u[0],d=u[1],p=u[2],f=u[3],h=c.width,m=c.height,y={top:l/m*100+"%"},v={left:"calc("+(d+p)/h*100+"% - 1px)"},g={top:"calc("+(l+f)/m*100+"% - 1px)"},b={left:d/h*100+"%"};return ft.a.createElement("ul",{className:"LayerBoundings"},ft.a.createElement("li",{className:"LayerBounding LayerBounding--top",style:y}),ft.a.createElement("li",{className:"LayerBounding LayerBounding--right",style:v}),ft.a.createElement("li",{className:"LayerBounding LayerBounding--bottom",style:g}),ft.a.createElement("li",{className:"LayerBounding LayerBounding--left",style:b}))};Mt.propTypes={layer:dt.a.object,currentScreen:dt.a.object};var kt=function(e,t,n){return n>e&&n<t},Pt=function(e){var t=e.activeLayer,n=e.enteredLayer,r=e.currentScreen,o=e.unit,a=e.ratio;if(!t||!n||t.id===n.id)return null;var i=Object(rt.l)({width:t.width,height:t.height,top:t.top,left:t.left,rotate:t.rotation||0}),s=i[0],c=i[1],u=i[2],l=i[3],d=Object(rt.l)({width:n.width,height:n.height,left:n.left,top:n.top,rotate:n.rotation||0}),p=d[0],f=d[1],h=d[2],m=d[3],y={horizontal:{line1:[{display:c,src:t.src_left},{display:c+u,src:t.src_left+t.src_width}],line2:[{display:f,src:n.src_left},{display:f+h,src:n.src_left+n.src_width}]},vertical:{line1:[{display:s,src:t.src_top},{display:s+l,src:t.src_top+t.src_height}],line2:[{display:p,src:n.src_top},{display:p+m,src:n.src_top+n.src_height}]}},v={horizontal:[],vertical:[]},g={horizontal:{},vertical:{}};for(var b in y)for(var w=y[b].line1,_=y[b].line2,O=0;O<w.length;O++)for(var S=0;S<_.length;S++){var C=w[O].display>_[S].display?{start:_[S],end:w[O]}:{start:w[O],end:_[S]},E=C.start,j=C.end;kt(E.display,j.display,w[1-O].display)||kt(E.display,j.display,_[1-S].display)||!(j.display-E.display>0)||E.display===w[0].display&&j.display===w[1].display||E.display===_[0].display&&j.display===_[1].display||g[b][E.display]||(g[b][j.display]=!0,v[b].push({start:E,end:j}))}var x=[],T=r.width,M=r.height,k=function(e,t){var n=Object(rt.l)({width:e.width,height:e.height,top:e.top,left:e.left,rotate:e.ro}),r=n[0],o=n[1],a=n[2],i=n[3],s=t.width,c=t.left,u=t.top,l=o+a,d=c+s,p=r+i,f=u+t.height,h=!1,m=!1,y=!1;return(o<=c&&l>=d&&r<=u&&p>=f||o>=c&&o<=d&&r>=u&&p<=f)&&(y=!0),(o>=c&&o<=d||c>=o&&c<=l)&&(h=!0),(r<=u&&p>=u||r>=u&&f>=r)&&(m=!0),{ifHorizontal:h,ifVertical:m,ifAllWraped:y}}(t,n),P=k.ifHorizontal,N=k.ifVertical,D=k.ifAllWraped,L=function(e){switch(e){case"horizontal":case"vertical":return delete v[e];case"all":return delete v.horizontal,void delete v.vertical;default:return}};!D&&P&&!N&&L("horizontal"),!D&&N&&!P&&L("vertical"),!D&&P&&N&&L("all");for(var R in v)!function(e){x.push(v[e].map(function(t,n){var r=void 0;r="horizontal"===e?{left:t.start.display/T*100+"%",width:(t.end.display-t.start.display)/T*100+"%",top:(l/2+s)/M*100+"%"}:{top:t.start.display/M*100+"%",height:(t.end.display-t.start.display)/M*100+"%",left:(u/2+c)/T*100+"%"},Object.assign(r,{zIndex:Math.pow(2,31)});var i=Object(rt.b)(t.end.src-t.start.src,a);return ft.a.createElement("li",{key:""+e+n,className:"LayerDistance LayerDistance--"+e,"data-length":t.end.src-t.start.src,style:r},ft.a.createElement("span",null,""+i+o))}))}(R);return ft.a.createElement("ul",{className:"LayerDistances"},Array.prototype.concat.apply([],x))};Pt.propTypes={activeLayer:dt.a.object,enteredLayer:dt.a.object,currentScreen:dt.a.object,unit:dt.a.string,ratio:dt.a.number};var Nt=function(e){var t=e.activeLayer,n=e.enteredLayer,r=e.currentScreen,o=e.unit,a=e.ratio;return ft.a.createElement("div",{className:"MeasuresContainer"},n&&n!=t&&ft.a.createElement(Mt,{layer:n,currentScreen:r,unit:o,ratio:a}),ft.a.createElement(Pt,{activeLayer:t,enteredLayer:n,currentScreen:r,unit:o,ratio:a}))};Nt.propTypes={activeLayer:dt.a.object,enteredLayer:dt.a.object,currentScreen:dt.a.object,unit:dt.a.string,ratio:dt.a.number};var Dt=function(e){var t=e.container,n=t.layers,r=n.resourceByScreen,o=n.visibilityScreenID,a=n.activeLayerID,i=n.enteredLayerID,s=t.previewSetting,c=s.ratio,u=s.unit,l=e.model,d=l.current.screenCid,p=l.screens,f=r[o];return f?{activeLayer:xt()(f.layers,function(e){return e.id===a}),enteredLayer:xt()(f.layers,function(e){return e.id===i}),currentScreen:p.find(function(e){return e.cid===d}),ratio:c,unit:u}:{activeLayer:{},enteredLayer:{},currentScreen:{}}},Lt=Object(nt.connect)(function(e){return Tt({},Dt(e))})(Nt),Rt=function(e){function t(){r(this,t);var n=o(this,e.call(this));return n.handleClick=function(){var e=n.props,t=e.requestSelectLayer,r=e.layer.id,o=e.handleShowlayerInfo;t(r),o(!0)},n.onMouseEnter=n.onMouseEnter.bind(n),n.onMouseLeave=n.onMouseLeave.bind(n),n}return a(t,e),t.prototype.onMouseEnter=function(e){-1!==this.props.activeLayerID&&this.props.enterLayer(this.props.layer.id)},t.prototype.onMouseLeave=function(e){-1!==this.props.activeLayerID&&this.props.enterLayer(-1)},t.prototype.render=function(){var e=this.props,t=e.layer,n=e.activeLayerID,r=e.enteredLayerID,o=e.currentScreen,a=e.unit,i=e.ratio,s=t.id,c=t.kind,u=t.width,l=t.height,d=t.top,p=t.left,f=t.src_width,h=t.src_height,m=t.z,y=o.width,v=o.height,g=Math.pow(2,30)+m,b=t.rotation||0,w=Object(rt.l)({width:u,height:l,rotate:b,top:d,left:p}),_=w[0],O=w[1],S={width:w[2]/y*100+"%",height:w[3]/v*100+"%",top:_/v*100+"%",left:O/y*100+"%",zIndex:"group"===c?g-1:g||0},C=s===n,E=s===r||-1===r,j=vt()("Layer",{"is-active":C,"is-focus":E}),x=Object(rt.b)(f,i),T=Object(rt.b)(h,i);return ft.a.createElement("div",{className:j,style:S,"data-width":""+x+a,"data-height":""+T+a,"data-lid":s,onClick:this.handleClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},C&&ft.a.createElement("span",{className:"LayerCorner left top"}),C&&ft.a.createElement("span",{className:"LayerCorner left bottom"}),C&&ft.a.createElement("span",{className:"LayerCorner right top"}),C&&ft.a.createElement("span",{className:"LayerCorner right bottom"}))},t}(pt.Component);Rt.propTypes={layer:dt.a.object,artboard:dt.a.object,requestSelectLayer:dt.a.func,enterLayer:dt.a.func,currentScreen:dt.a.object,handleShowlayerInfo:dt.a.func,activeLayerID:dt.a.oneOfType([dt.a.number,dt.a.string]),enteredLayerID:dt.a.oneOfType([dt.a.number,dt.a.string]),unit:dt.a.string,ratio:dt.a.number,scale:dt.a.number};var It=function(e){function t(){var n,a,i;r(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=a=o(this,e.call.apply(e,[this].concat(c))),a.state={ifHideLayer:!1},a.onMouseLeave=function(){a.props.enterLayer(a.props.currentScreen.cid)},a.checkIfNeedHideLayer=function(e){e.target.contains(document.getElementById("simulator-wrapper"))&&(a.props.requestSelectLayer(-1),a.props.handleShowlayerInfo(!1))},i=n,o(a,i)}return a(t,e),t.prototype.componentWillReceiveProps=function(e){var t=e.currentScreen,n=e.activeLayerID,r=this.props,o=r.currentScreen,a=r.enterLayer;t!=o&&a(-1),-1!==n&&n?this.setState({ifHideLayer:!1}):this.setState({ifHideLayer:!0})},t.prototype.render=function(){var e=this.props,t=e.layers,n=e.project.scale,r=e.requestSelectLayer,o=e.enterLayer,a=e.activeLayerID,i=e.enteredLayerID,s=e.currentScreen,c=e.unit,u=e.ratio,l=e.handleShowlayerInfo,d=e.isShowLayerList,p=e.isSelectLayer,f=this.state.ifHideLayer,h=vt()({hiddenLayer:f&&d}),m=At({ifHideLayer:f,activeLayerID:a,isShowLayerList:d});return ft.a.createElement("div",{className:h},ft.a.createElement("ul",{className:"LayerList checkIfClickLayer",onMouseLeave:this.onMouseLeave},t.map(function(e){return ft.a.createElement("li",{key:e.id},ft.a.createElement(Rt,{layer:e,requestSelectLayer:r,enterLayer:o,activeLayerID:a,enteredLayerID:i,currentScreen:s,handleShowlayerInfo:l,scale:n,unit:c,ratio:u}))})),m&&ft.a.createElement(Lt,null),p&&ft.a.createElement(mt.a,{onClick:this.checkIfNeedHideLayer}))},t}(pt.Component);It.propTypes={project:dt.a.object,layers:dt.a.array,requestSelectLayer:dt.a.func,resetLayer:dt.a.func,enterLayer:dt.a.func,handleShowlayerInfo:dt.a.func,isSelectLayer:dt.a.bool,currentScreen:dt.a.object,activeLayerID:dt.a.oneOfType([dt.a.number,dt.a.string]),enteredLayerID:dt.a.oneOfType([dt.a.number,dt.a.string]),isShowLayerList:dt.a.bool,unit:dt.a.string,ratio:dt.a.number,dispatch:dt.a.func};var At=function(e){var t=e.ifHideLayer,n=e.activeLayerID,r=e.isShowLayerList;return-1!==n&&r&&!t},Ut=Object(rt.h)(function(e,t){return e.find(function(e){return e.cid===t})}),Yt=Object(nt.connect)(function(e){var t=e.container,n=t.layers,r=n.resourceByScreen,o=n.visibilityScreenID,a=n.activeLayerID,i=n.enteredLayerID,s=t.previewSetting,c=s.unit,u=s.ratio,l=s.isShowColorPicker,d=s.isSelectLayer,p=e.model,f=p.current,h=f.screenCid,m=f.projectCid,y=p.screens,v=p.projects,g=y.find(function(e){return e.cid===h}),b=Ut(v,m);return{layers:r[o]&&r[o].layers||[],currentScreen:g,activeLayerID:a,enteredLayerID:i,isShowLayerList:!l,isSelectLayer:d,project:b,unit:c,ratio:u}},function(e){return{requestSelectLayer:function(t){e(bt(t))},enterLayer:function(t){e(Et(t))},handleShowlayerInfo:function(t){e({type:"reducer:preview-toolbar:update",payload:{isSelectLayer:t}})}}})(It),Wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ft="SET_VISIBILITY_SCREEN",Bt="RECEIVE_RESOURCE_SUCCESS",Ht=function(e,t){var n=t.document,r=t.layers,o=t.artboard;return{type:Bt,payload:Wt({screenID:e},n,{layers:r,artboard:o})}},zt="RECEIVE_RESOURCE_ERROR",qt=function(e,t){return{type:zt,payload:{screenID:e,error:t}}},Vt={selectedLayerID:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments[1];switch(t.type){case wt:return t.payload.layerID===e?-1:t.payload.layerID;case Ft:return-1;default:return e}},activeLayerID:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments[1];switch(t.type){case Ot:return t.payload.layerID;case Ft:return-1;default:return e}},enteredLayerID:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments[1];switch(t.type){case Ct:return t.payload.layerID;default:return e}}},Gt=(n("nvBK"),{actions:{activateLayer:St},container:Yt,reducer:Vt}),Kt=function(e){var t=e.children;return ft.a.createElement("div",null,t)};Kt.propTypes={children:dt.a.element};var $t=Kt,Jt=function(e){function t(){return i(this,t),s(this,e.call(this))}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.isFetching,n=e.error;return e.isActive?t?null:n?null:ft.a.createElement($t,null,ft.a.createElement(Gt.container,null)):null},t}(ft.a.Component);Jt.propTypes={isFetching:dt.a.bool,error:dt.a.string,isActive:dt.a.bool};var Zt=Jt,Xt=Object(nt.connect)(function(e){var t=e.container,n=t.previewSetting.toolbarActiveItem,r=t.layers,o=r.resourceByScreen[r.visibilityScreenID]||{},a=o.isFetching,i=void 0===a||a,s=o.screen,c=void 0===s?{}:s,u=o.error;return{isFetching:i,screen:c,error:void 0===u?"":u,isActive:"inspect"==n}})(Zt),Qt={"-1":{isFetching:!1,layers:[],error:""}},en={visibilityScreenID:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"-1",t=arguments[1];switch(t.type){case Ft:return t.payload.screenID;default:return e}},resourceByScreen:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt,n=arguments[1];switch(n.type){case Bt:case zt:return Object.assign({},t,(e={},e[n.payload.screenID]=u(t[n.payload],n),e));case"container:layers:clear":return Qt;default:return t}}},tn=(n("RVGU"),n("egdi")),nn=n("vLgD"),rn=function(e){return window.MBArtboards[e]},on=function(e){return Object(nn.a)("/apis/sketch/artboards/"+e+".json")},an=n("p/Rx"),sn=function(e){return["navigation_bar","status_bar","tab_bar","keyboard"].includes(e)},cn=/<[^>]+>/gi,un=function(e){return!!e&&e.replace(cn,"")},ln=n("oXES"),dn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pn=regeneratorRuntime.mark(l),fn=regeneratorRuntime.mark(d),hn=regeneratorRuntime.mark(p),mn=regeneratorRuntime.mark(f),yn=regeneratorRuntime.mark(h),vn=function(e,t){var n=e+"_"+MB.currentProject.device,r=e,o=ln.a[n]||ln.a[r];return o&&o[t]?o[t]:ln.a[t]},gn=[],bn=/\\\w+/gi,wn=function(e){return e?e.replace(bn,"").trim():ln.a},_n=function(e,t){var n=Object(rt.i)(e)?"chinese":"english",r="iphone"===t||"ipad"===t?"ios":t,o=jn()?"mac":"windows";return Pn[o][r][n]},On=function(e,t){var n={},r=e.name,o=e.ro,a=e.br,i=e.bs,s=e.ha,c=e.va,u=e.lh,l=e.sc,d=e.ds,p=e.text,f=void 0;return p&&(f=un(p),n.text_styles=[{font_size:e.fs,color:wn(e.tc||vn(r,"tc")),length:f.length,font_face:_n(p,t)}],n.text=f),s&&(n.alignment=s),c&&(n.vertical_alignment=c),u&&(n.line_height=u),a&&(n.bd_radius=a),o&&(n.rotation=o),n.bc=wn(e.bc||vn(r,"bc")),i&&(n.borders=[{thickness:i,color:wn(n.bc)}]),e.bg&&(n.bg_colors=[{value:wn(e.bg)}]),"triangleb"!==r&&"triangletl"!==r&&"icon_button"!==r||(n.bg_colors=[{value:wn(e.tc||vn(r,"tc"))}]),l&&d&&(n.shadows=[{color:wn(l.replace(bn,"")),blur_radius:d}]),e.ts&&(n.textShadows=[{color:wn(e.tsc.replace(bn,"")),blur_radius:e.ts}]),"label"!==r&&"text_view"!==r||(n.hiddSpacing=!0),Object.assign({},e,n)},Sn=function(e){return e&&"w"===e[0]},Cn=function(e){if(!e.layers.some(function(e){return e.z})){var t=Math.pow(2,30);e.layers.forEach(function(e){e.z=t-Math.round(parseInt(e.width)*parseInt(e.height))})}},En=Object(rt.h)(function(e,t){return e.find(function(e){return e.cid===t})}),jn=function(){return/Mac|iPod|iPhone|iPad/.test(window.navigator.platform)},xn=!1,Tn=function(e,t){var n=xt()(e,{id:t});if(!n||!n.parent||n.image_set_zip)return t;for(;n;){var r=xt()(e,{id:n.parent});if(!r||!r.image_set_zip||!r.parent)return t;if(r.image_set_zip)return n.parent;n=r.parent}},Mn=function(e){var t=window.Screen;return t?t.find(e).cpanels().reduce(function(t,n){var r=n.top,o=n.left,a=n.mainState().cwidgets();return t.concat(a.map(function(t){var n=t.__proto__;return dn({},n,{top:t.top+r,left:t.left+o,screen_cid:e})}))},[]):[]},kn=function(){return xn?["rgba(0.816203773021698,0.007513228338211775,0.1066960170865059,1)","rgba(0.9617109894752502,0.6503673195838928,0.1385422945022583,0.2)"]:[]},Pn={mac:{ios:{chinese:"PingFang SC",english:"-apple-system"},android:{chinese:"PingFang SC",english:"Roboto"},web:{chinese:"PingFang SC",english:"Roboto"}},windows:{ios:{chinese:"Microsoft Yahei",english:"Arial"},android:{chinese:"Microsoft Yahei",english:"Roboto"},web:{chinese:"Microsoft Yahei",english:"Roboto"}}},Nn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dn=Object(ut.combineReducers)(Nn({},en,Gt.reducer)),Ln=[0,1,2,3,4,5,6,7].map(function(e){return{create:!!(1&e),update:!!(2&e),delete:!!(4&e)}}),Rn={owner:!0,admin:!0,editor:!0,viewer:!0},In={owner:!0,admin:!0},An={allowComment:!1,denyMessage:""},Un=function(){return An},Yn=function(e){var t=e.allowComment,n=e.denyMessage;return Object.assign(An,{allowComment:t,denyMessage:n})},Wn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"INVALID_ID_0",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"INVALID_ID_1",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments[4],a=An.allowComment,i=o&&"owner"===o.role,s=n===t,c="owner"===e,u="admin"===e,l=a&&Rn[e]||!1,d=a&&l&&s,p=void 0;return p=null===r?a&&(d||In[e]||!1)||s:a&&(i?c:u)||s||c,Ln[(l?1:0)+(d?2:0)+(p?4:0)]},Fn=n("6JlN"),Bn=n.n(Fn),Hn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zn=Bn.a["comment-marker"],qn=function(e){function t(n){m(this,t);var r=y(this,e.call(this,n)),o={isDragging:!1,position:{left:0,top:0}},a=Hn({},Gn,{mousemove:Object(rt.j)(function(e){var t=r.props,n=t.offsetLeft,o=t.offsetTop,a=(0,t.markerOperations.getMarkerPosition)(e);(r.state.isDragging||g(n,o,a))&&r.setState({isDragging:!0,position:a})}),mouseup:Object(rt.j)(function(e){if(s(),r.state.isDragging){var t=r.props,n=t.commentThreadCid,a=t.markerOperations,i=a.doUpdateCommentThread,c=(0,a.getMarkerPosition)(e);i({cid:n,left:c.left,top:c.top})}else setTimeout(function(){var e=r.props,t=e.isSelect,n=e.commentThreadCid;(0,e.markerOperations.setSelectCommentThreadCid)(t?null:n)},0);r.setState(o)}),mouseleave:function(){s(),r.props.markerOperations.setFocusCommentThreadCid(null),r.setState(o)}}),i=Hn({},Gn,{mouseup:a.mouseup}),s=function(){return r.props.markerOperations.removeContainerEventListener(r.props.isEditable?a:i)};return r.markerListenerMap={onMouseDown:Object(rt.j)(function(){return r.props.markerOperations.addContainerEventListener(r.props.isEditable?a:i)}),onMouseEnter:Object(rt.j)(function(){return r.props.markerOperations.setFocusCommentThreadCid(r.props.commentThreadCid)}),onMouseLeave:Object(rt.j)(function(){return r.props.markerOperations.setFocusCommentThreadCid(null)}),onMouseUp:Vn,onDoubleClick:Vn,onClick:Vn},r.isFocused=!1,r.setElementRef=function(e){return r.elementRef=e},r.elementRef=null,r.state=o,r}return v(t,e),t.prototype.componentDidUpdate=function(){var e=this.props,t=e.isFocus,n=e.markerOperations.doFocusAtElement;t&&!this.isFocused&&n(this.elementRef),this.isFocused=t},t.prototype.render=function(){var e=this.props,t=e.offsetLeft,n=e.offsetTop,r=e.isFocus,o=e.isFade,a=e.commentMarkerIndex,i=this.state,s=i.isDragging,c=i.position,u=r?"focus":!r&&o?"fade":"",l=s?c:{left:t+"px",top:n+"px"};return ft.a.createElement("div",{className:zn+" "+u,style:l},ft.a.createElement("span",Hn({ref:this.setElementRef,tabIndex:a},this.markerListenerMap),a))},t}(pt.PureComponent);qn.propTypes={commentMarkerIndex:dt.a.number,commentThreadCid:dt.a.string,offsetLeft:dt.a.number,offsetTop:dt.a.number,isEditable:dt.a.bool,isSelect:dt.a.bool,isFocus:dt.a.bool,isFade:dt.a.bool,markerOperations:dt.a.object};var Vn=Object(rt.j)(),Gn={mouseup:Vn,mousedown:Vn,mousemove:Vn,mouseleave:Vn,mouseout:Vn,click:Vn,dblclick:Vn},Kn=225,$n=20,Jn=function(e){function t(n){b(this,t);var r=w(this,e.call(this,n));return r.addCommentThreadListener=Object(rt.j)(function(e){var t=r.props,n=t.getContentElement,o=t.isActive,a=t.currentUserRole,i=t.dispatch;o&&Wn(a).create&&Zn(e,n().getBoundingClientRect())&&i({type:"entry:comment-threads:add",payload:r.markerOperations.getMarkerPosition(e)})}),r.markerOperations={addContainerEventListener:function(e){for(var t in e)r.props.getContentElement().addEventListener(t,e[t])},removeContainerEventListener:function(e){for(var t in e)r.props.getContentElement().removeEventListener(t,e[t])},setFocusCommentThreadCid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return r.props.dispatch({type:"container:comment:focus",payload:{focus:e,from:"mask"}})},setSelectCommentThreadCid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return r.props.dispatch({type:"container:comment:select",payload:{select:e,from:"mask"}})},doUpdateCommentThread:function(e){var t=e.cid,n=e.top,o=e.left;return r.props.dispatch({type:"entry:comment-threads:update",payload:{cid:t,top:n,left:o}})},doFocusAtElement:function(e){return r.props.dispatch({type:"entry:focus-element",payload:{focusType:"external",element:e}})},getMarkerPosition:function(e){var t=r.props.queryCurrentScreenContainerElement().getBoundingClientRect(),n=r.props.getContentElement().getBoundingClientRect();return{left:Object(rt.k)(e.clientX,n.left+$n,n.right-$n)-t.left,top:Object(rt.k)(e.clientY,n.top+$n,n.bottom-$n)-t.top}}},r}return _(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.isActive,r=t.getContentElement;n!==e.isActive&&r()&&(n?r().addEventListener("dblclick",this.addCommentThreadListener):r().removeEventListener("dblclick",this.addCommentThreadListener))},t.prototype.componentWillUnmount=function(){var e=this.props.getContentElement;e()&&e().removeEventListener("dblclick",this.addCommentThreadListener)},t.prototype.render=function(){var e=this;if(!this.props.isActive)return null;var t=this.props,n=t.commentContainer,r=n.select,o=n.focus,a=t.scale,i=t.commentThreadList,s=t.userId,c=t.currentUserRole;return ft.a.createElement("div",null,i.map(function(t,n){var i=t.cid,u=t.left,l=t.top,d=t.user_id,p=r===i,f=p||o===i,h=r&&!p||o&&!f;return ft.a.createElement(qn,{key:i,commentMarkerIndex:n+1,commentThreadCid:i,offsetLeft:u*a,offsetTop:l*a,isEditable:Wn(c,s,d).update,isSelect:p,isFocus:f,isFade:h,markerOperations:e.markerOperations})}))},t}(pt.PureComponent);Jn.propTypes={getContentElement:dt.a.func.isRequired,scale:dt.a.number,queryCurrentScreenContainerElement:dt.a.func.isRequired,isActive:dt.a.bool,commentContainer:dt.a.object,commentThreadList:dt.a.array,userId:dt.a.number,currentUserRole:dt.a.string,dispatch:dt.a.func};var Zn=function(e,t){var n=t.left,r=t.top,o=t.width,a=t.height;return n<=e.clientX&&r<=e.clientY&&n+o>=e.clientX&&r+a>=e.clientY},Xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qn={focus:null,select:null,from:null},er=n("AxSz"),tr=n("0L5u"),nr=n.n(tr),rr=nr.a["editable-span"],or=nr.a["reply-textarea"],ar=function(e){function t(n){O(this,t);var r=S(this,e.call(this,n));return r.toggleEditing=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];r.setState({isEditing:e,editingValue:r.props.getValue()}),e&&setTimeout(r.focusTextarea,0)},r.startEditing=function(){return r.toggleEditing(!0)},r.onEditUpdate=function(e){return r.setState({editingValue:e.target.value})},r.onEditKeyPress=function(e){return sr(e)&&(!r.props.isMultiLine||!e.shiftKey)&&r.onEditFinish()},r.onEditFinish=function(){var e=r.state.editingValue.trim();e!==(r.props.getValue()||"")&&r.props.onValueChange(e),r.props.toggleEdit()},r.focusTextarea=function(){if(r.elementRef){r.elementRef.focus&&r.elementRef.focus();var e=r.elementRef.value.length;r.elementRef.setSelectionRange(e,e)}},r.setElementRef=function(e){r.elementRef=e},r.elementRef=null,r.state={isEditing:n.isEditing,editingValue:""},n.initEditing&&setTimeout(r.startEditing,50),r}return C(t,e),t.prototype.render=function(){var e=this.props,t=e.placeholder,n=e.isEditLocked,r=e.getValue,o=e.toggleEdit,a=this.state,i=a.isEditing,s=a.editingValue,c=r()||"",u=nr.a["btn-sure"]+" "+(s.length&&nr.a.active);return n?ft.a.createElement("span",{className:rr+" span"},c):i?ft.a.createElement("div",{className:nr.a.container},ft.a.createElement("textarea",{ref:this.setElementRef,className:rr+" textarea",value:s,placeholder:t||"",onChange:this.onEditUpdate,onKeyDown:this.onEditKeyPress}),ft.a.createElement("div",{className:nr.a["btn-sort"]},ft.a.createElement("button",{className:nr.a["btn-cancel"],onClick:o},er.a.I18N.preview.comment.cancelEdit),ft.a.createElement("button",{className:u,onClick:this.onEditFinish},er.a.I18N.preview.comment.updateEdit))):ft.a.createElement("span",{className:rr+" span"},c)},t}(pt.PureComponent);ar.propTypes={onValueChange:dt.a.func,getValue:dt.a.func,placeholder:dt.a.string,isMultiLine:dt.a.bool,initEditing:dt.a.bool,isEditLocked:dt.a.bool,isEditing:dt.a.bool,toggleEdit:dt.a.func};var ir=function(e){function t(n){O(this,t);var r=S(this,e.call(this,n));return r.onEditUpdate=function(e){var t=e.target.value,n=r.props.handleActive;n(t.length?!0:!1),!r.props.isEditLocked&&r.setState({editingValue:t})},r.onEditKeyPress=function(e){return sr(e)&&(!r.props.isMultiLine||!e.shiftKey)&&r.onEditFinish(e)},r.onEditFinish=Object(rt.j)(function(){var e=r.getEditingValue();e&&r.props.onValueChange(e),r.setState(function(){return{editingValue:""}},function(){r.props.handleActive(!1)}),setTimeout(function(){return r.setState({editingValue:""})})}),r.getEditingValue=function(){return(r.state.editingValue||"").trim()},r.focus=function(){r.setState({disabled:!1}),r.elementRef&&r.elementRef.focus()},r.disabledEdit=function(){return r.setState({disabled:!0})},r.setElementRef=function(e){r.elementRef=e},r.elementRef=null,r.state={editingValue:"",disabled:!1},r}return C(t,e),t.prototype.componentDidUpdate=function(){if(this.props.isAutoHeight&&this.elementRef){this.elementRef.style.height="auto";var e=Math.max(this.elementRef.scrollHeight+2,this.elementRef.offsetHeight,this.props.minHeight);this.elementRef.style.height=e+"px"}},t.prototype.render=function(){var e=this.props.placeholder,t=void 0===e?"":e,n=this.state,r=n.editingValue,o=n.disabled;return ft.a.createElement("textarea",{disabled:o,ref:this.setElementRef,className:or,value:r,placeholder:t,rows:1,onChange:this.onEditUpdate,onKeyDown:this.onEditKeyPress})},t}(pt.PureComponent);ir.propTypes={onValueChange:dt.a.func,placeholder:dt.a.string,handleActive:dt.a.func,isMultiLine:dt.a.bool,isEditLocked:dt.a.bool,isAutoHeight:dt.a.bool,minHeight:dt.a.number};var sr=function(e){return"Enter"===e.key||13===e.which||13===e.keyCode},cr=function(e){var t=e.avatar,n=e.width,r=e.height,o=e.name,a=e.index;e.isDot;return ft.a.createElement("div",{className:nr.a.avatarInform},ft.a.createElement("img",{className:nr.a.avatar,src:t,width:n,height:r}),ft.a.createElement("div",{className:nr.a["avatar-slide"]},a&&ft.a.createElement("span",{className:nr.a.index},"#"+a+" "),ft.a.createElement("span",{className:"name"},o)))};cr.propTypes={avatar:dt.a.string.isRequired,width:dt.a.number,height:dt.a.number,name:dt.a.string,index:dt.a.number,isDot:dt.a.bool},cr.defaultProps={width:24,height:24};var ur=n("WCZ4"),lr=(n("SdsR"),n("/EHJ")),dr=n("cbHe"),pr=n("wI9h"),fr=n.n(pr),hr=n("T2Un"),mr=n.n(hr),yr=mr.a.bind(fr.a),vr=function(e){var t=e.onDelete;return ft.a.createElement(dr.b,{content:{hover:I18N.preview.comment.modify_delete},duration:1e3},ft.a.createElement(lr.a,{opener:ft.a.createElement(ur.b,{type:"dora",name:"trash",className:fr.a.modify}),menuList:[I18N.preview.comment.modify_delete],unfold:"right",menuClassName:"comment-delete",arrowed:!0,onSelect:t}))};vr.propTypes={onDelete:dt.a.func.isRequired};var gr=function(e){var t=e.onSelect;return ft.a.createElement(dr.b,{content:{hover:I18N.preview.setting},duration:1e3},ft.a.createElement(lr.a,{opener:ft.a.createElement(ur.b,{name:"cog",type:"dora",className:fr.a.edit}),menuList:[I18N.preview.comment.modify_edit],unfold:"right",arrowed:!0,menuClassName:"comment-setting",onSelect:t}))};gr.propTypes={onSelect:dt.a.func.isRequired};var br=function(e){var t=e.hasUser,n=e.hasSelectCommentThread;return ft.a.createElement("div",{className:yr("content-empty")},ft.a.createElement("img",{src:"/images/preview/no-comment@2x.png"}),ft.a.createElement("h3",{className:yr("add-comment")},I18N.preview.comment.add_comment),ft.a.createElement("span",null,Un().allowComment?t?er.a.I18N.preview.comment.thread_none_tip_signin:n?er.a.I18N.preview.comment.reply_none_tip:er.a.I18N.preview.comment.thread_none_tip:Un().denyMessage))};br.propTypes={hasUser:dt.a.bool,hasSelectCommentThread:dt.a.bool};var wr="#8D9EA7",_r="#5B6B73",Or=function(e){function t(){E(this,t);var n=j(this,e.call(this));return n.unMountShow=function(){n.setState({animate:!1})},n.handleAnimateEnd=function(){n.props.isReply||n.setState({show:!1})},n.state={backgroundColor:wr,disabled:!0,show:!1,animate:!1},n.handleActive=function(e){n.setState({backgroundColor:e?_r:wr,disabled:!e})},n}return x(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this;if(!e.isReply)return this.unMountShow();this.setState({show:!0}),setTimeout(function(){t.setState({animate:!0})},0)},t.prototype.componentDidUpdate=function(e,t){this.props.isReply&&t.show===this.state.show&&Mr(this.containerRef)},t.prototype.render=function(){var e=this,t=this.props,n=t.setReplyTextareaRef,r=t.onValueChange,o=t.doReply,a=this.state,i=a.backgroundColor,s=a.disabled,c=a.show,u=a.animate,l=yr("dropdown-reply",{"dropdown-on":u,"dropdown-off":!u});return c?ft.a.createElement("div",{className:l,onTransitionEnd:this.handleAnimateEnd,ref:function(t){return e.containerRef=t}},ft.a.createElement(ir,{ref:n,onValueChange:r,handleActive:this.handleActive,placeholder:er.a.I18N.preview.comment.comment_placeholder,minHeight:60,isMultiLine:!0,isAutoHeight:!0}),ft.a.createElement("button",{onClick:o,style:{backgroundColor:i,cursor:s?"not-allowed":"pointer"},disabled:s},er.a.I18N.preview.comment.comment_create)):null},t}(pt.PureComponent);Or.propTypes={setReplyTextareaRef:dt.a.func.isRequired,onValueChange:dt.a.func.isRequired,doReply:dt.a.func.isRequired,isReply:dt.a.bool.isRequired};var Sr=function(e){var t=e.permission,n=(e.comment,e.isFolded),r=e.setEditableSpanComponent,o=e.onValueChange,a=e.getValue,i=e.isEdit,s=e.toggleEdit;return ft.a.createElement("div",{className:yr("comment-content")+" "+n+" ?'folded' : ''}"},ft.a.createElement(ar,{ref:r,onValueChange:o,getValue:a,placeholder:er.a.I18N.preview.comment.comment_placeholder,isEditLocked:!t.update,isEditing:i,toggleEdit:s,isMultiLine:!0}))};Sr.propTypes={permission:dt.a.object,comment:dt.a.object,isFolded:dt.a.bool,isEdit:dt.a.bool,setEditableSpanComponent:dt.a.func,onValueChange:dt.a.func,getValue:dt.a.func,toggleEdit:dt.a.func,handleActive:dt.a.func};var Cr=function(e){var t=e.markIndex,n=e.information,r=e.onSelect,o=e.onDelete,a=e.permission,i=e.ifShowBtn,s=e.className,c=void 0===s?"":s,u=e.showByEnter,l=n.avatar,d=n.name;return ft.a.createElement("div",{className:yr("header-container")+" "+c},ft.a.createElement("div",{className:yr("header-info")},ft.a.createElement(cr,{avatar:l,name:d,index:t})),(a.update||a.delete)&&i&&u&&ft.a.createElement("div",{className:yr("header-tool")},a.update&&ft.a.createElement(gr,{onSelect:r}),a.delete&&ft.a.createElement(vr,{onDelete:o})))};Cr.propTypes={markIndex:dt.a.number,information:dt.a.object,permission:dt.a.object,onSelect:dt.a.func,onDelete:dt.a.func,ifShowBtn:dt.a.bool,className:dt.a.string,showByEnter:dt.a.bool};var Er="collaborator",jr=function(e,t){return e?"guest"===t.userRole?"not_collaborator":Er:"not_signin"},xr=function(e){var t=e.userId,n=e.currentState,r=e.permission;return jr(t,n)===Er&&r.create},Tr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:120;return e.length>t},Mr=function(e){if(e){var t=e.getBoundingClientRect().bottom+kr,n=document.getElementById("comment-thread"),r=n.scrollTop,o=n.scrollHeight;t+r>o?setTimeout(function(){return n.scrollTop=r+kr},300):t>Pr&&(n.scrollTop=r+kr)}},kr=120,Pr=window.innerHeight,Nr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dr=mr.a.bind(fr.a),Lr=function(e){var t=e.replyList,n=e.commentOperations,r=(e.current,e.currentState),o=e.doCreateComment;return t.map(function(e,t){var a=e.user_id,i=e.cid,s=n.getCollaborator(a),c=s.name,u=s.avatar;return ft.a.createElement(Rr,{key:i,name:c,avatar:u,comment:e,permission:n.getPermission(a),currentState:r,commentOperations:n,doCreateComment:o})})};Lr.propTypes={replyList:dt.a.array,commentOperations:dt.a.object,permission:dt.a.object,current:dt.a.object,currentState:dt.a.object,doCreateComment:dt.a.func};var Rr=function(e){function t(n){T(this,t);var r=M(this,e.call(this,n));r.doCreateComment=function(e){r.props.doCreateComment(e,!0),r.state.isReply&&r.toggleReply()},r.getCommentMessage=function(){return r.props.comment&&r.props.comment.message},r.handleSetting=function(e){0===Number(e)&&(r.toggleEditing(),MB.event("二次编辑","运行页"))},r.toggleEditing=function(){r.toggleEditState(),r.editableSpanComponent&&r.editableSpanComponent.toggleEditing(!r.state.isEdit)};var o=n.commentOperations,a=n.comment;return r.editableSpanComponent=null,r.setEditableSpanComponent=function(e){return r.editableSpanComponent=e},r.setReplyTextareaRef=function(e){return r.replyTextareaRef=e},r.doReply=function(e){r.replyTextareaRef&&r.replyTextareaRef.onEditFinish(e)},r.doUpdateComment=function(e){return o.doUpdateComment(Nr({},a,{message:e}))},r.doDeleteComment=function(){return o.doDeleteComment(a)},r.toggleReply=function(){return r.setState(function(e){return{isReply:!e.isReply}})},r.toggleFolded=function(){return r.setState(function(e){return{isFolded:!e.isFolded}})},r.toggleEditState=function(){return r.setState(function(e){return{isEdit:!e.isEdit}})},r.state={isReply:!1,isFolded:!1,isEdit:!1,showByEnter:!0},r}return k(t,e),t.prototype.componentWillReceiveProps=function(e){var t=e.nextComment,n=t&&Tr(t.message);n!=this.state.isFolded&&this.setState({isFolded:n})},t.prototype.componentDidUpdate=function(){var e=this.state,t=e.isReply;e.isFolded&&this.replyTextareaRef.focus(),t&&this.replyTextareaRef.focus()},t.prototype.render=function(){var e=this.props,t=e.comment,n=e.name,r=e.avatar,o=e.permission,a=e.currentState,i=t.message,s=t.updated_at,c=t.user_id,u=this.state,l=u.isReply,d=u.isFolded,p=u.isEdit,f=u.showByEnter,h=xr({userId:c,currentState:a,permission:o});return ft.a.createElement("div",{className:Dr("container-reply")+"  "+(p&&Dr("remove-background"))},ft.a.createElement(Cr,{onDelete:this.doDeleteComment,onSelect:this.handleSetting,permission:o,information:{avatar:r,name:n},className:Dr("reply-header"),ifShowBtn:!p,showByEnter:f}),ft.a.createElement("div",{className:Dr("container-main")+" "+Dr("reply-content")},i&&ft.a.createElement(Sr,{permission:o,onValueChange:this.doUpdateComment,getValue:this.getCommentMessage,setEditableSpanComponent:this.setEditableSpanComponent,isEdit:p,toggleEdit:this.toggleEditing,comment:t,isFolded:d})),!this.state.isEdit&&ft.a.createElement("div",{className:Dr("container-bottom")},ft.a.createElement("div",{className:fr.a.time},er.a.L10N.parseTimeAgo(1e3*s)),h&&ft.a.createElement("div",{className:Dr("reply-sort"),onClick:this.toggleReply},ft.a.createElement(ur.b,{type:"dora",name:"reply",className:Dr("btn-reply")}),l?er.a.I18N.preview.comment.cancel_reply:er.a.I18N.preview.comment.comment_create)),ft.a.createElement(Or,{isReply:l,setReplyTextareaRef:this.setReplyTextareaRef,onValueChange:this.doCreateComment,doReply:this.doReply}))},t}(pt.PureComponent);Rr.propTypes={comment:dt.a.object,commentOperations:dt.a.object,currentState:dt.a.object,name:dt.a.string,avatar:dt.a.string,permission:dt.a.object,doCreateComment:dt.a.func};var Ir=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ar=mr.a.bind(fr.a),Ur=function(e){function t(n){P(this,t);var r=N(this,e.call(this,n));Yr.call(r);var o=r.props,a=o.commentOperations,i=o.commentThreadCid,s=o.commentList[0];return r.setReplyTextareaRef=function(e){return r.replyTextareaRef=e},r.setCommentRef=function(e){return r.commentRef=e},r.doReply=function(e){r.replyTextareaRef&&r.replyTextareaRef.onEditFinish(e)},r.doDeleteThread=function(){return a.doDeleteCommentThread(i)},r.toggleEditing=function(){r.toggleEditState(),r.editableSpanComponent&&r.editableSpanComponent.toggleEditing(!r.state.isEdit)},r.setEditableSpanComponent=function(e){return r.editableSpanComponent=e},r.editableSpanComponent=null,r.toggleFolded=function(){return r.setState(function(e){return{isFolded:!e.isFolded}})},r.toggleReply=function(){return r.setState(function(e){return{isReply:!e.isReply}})},r.toggleEditState=function(){return r.setState(function(e){return{isEdit:!e.isEdit}})},r.toggleRenderMore=function(){return r.setState(function(e){return{renderMore:!e.renderMore}})},r.state={isFolded:s&&Tr(s.message)||!1,isReply:!1,renderMore:!1,isEdit:!1,showByEnter:!0},r}return D(t,e),t.prototype.componentWillReceiveProps=function(e){var t=e.commentList,n=t[0]&&Tr(t[0].message);n!=this.state.isFolded&&this.setState({isFolded:n})},t.prototype.componentDidUpdate=function(){var e=this.props,t=e.focusCid===e.commentThreadCid;this.state.isReply&&this.replyTextareaRef.focus(),!this.props.fromComment&&t&&this.commentRef&&this.commentRef.scrollIntoView()},t.prototype.render=function(){var e=this.props,t=e.commentList,n=e.userId,r=e.currentState,o=e.commentThreadCid,a=e.permission,i=e.commentMarkerIndex,s=e.commentOperations,c=e.focusCid,u=e.fromComment,l=this.state,d=l.isReply,p=l.renderMore,f=l.isFolded,h=l.isEdit,m=l.showByEnter,y=c===o,v=t[0]||null,g=v&&s.getCollaborator(v.user_id),b=t.slice(1)||[],w=b.length>2,_=t.length,O=fr.a.comment+" thread-initial entry "+(u?"":null==c?"":Ar(y?"comment-focus":"comment-noFocus")),S=xr({userId:n,currentState:r,permission:a});return 0==_?null:ft.a.createElement("div",{ref:this.setCommentRef,className:O,onMouseEnter:this.toggleSelect,onMouseLeave:this.cancelSelect},ft.a.createElement("div",null,ft.a.createElement(Cr,{markIndex:i,onSelect:this.handleSetting,onDelete:this.doDeleteThread,permission:a,information:g,ifShowBtn:!h,showByEnter:m}),ft.a.createElement("div",{className:Ar("container-main")},v&&ft.a.createElement(Sr,{permission:a,comment:v,isFolded:f,isEdit:h,toggleEdit:this.toggleEditing,getValue:this.getCommentMessage,setEditableSpanComponent:this.setEditableSpanComponent,onValueChange:this.doUpdateComment}),!this.state.isEdit&&ft.a.createElement("div",{className:""+Ar("container-bottom")},v&&ft.a.createElement("div",{className:fr.a.time},er.a.L10N.parseTimeAgo(1e3*v.updated_at)),S&&ft.a.createElement("div",{className:Ar("reply-sort"),onClick:this.toggleReply},ft.a.createElement(ur.b,{type:"dora",name:"reply",className:Ar("btn-reply")}),d?er.a.I18N.preview.comment.cancel_reply:er.a.I18N.preview.comment.comment_create)))),ft.a.createElement(Or,{isReply:d,doReply:this.doReply,onValueChange:this.doCreateComment,setReplyTextareaRef:this.setReplyTextareaRef}),w?ft.a.createElement(Lr,Ir({doCreateComment:this.doCreateComment,replyList:b.slice(0,2)},this.props)):ft.a.createElement(Lr,Ir({doCreateComment:this.doCreateComment,replyList:b},this.props)),p&&ft.a.createElement(Lr,Ir({doCreateComment:this.doCreateComment,replyList:b.slice(2)},this.props)),w&&ft.a.createElement("div",{className:fr.a.expand,onClick:this.handleRenderMoreComments},p?I18N.preview.comment.fold:I18N.preview.comment.unfold))},t}(pt.PureComponent);Ur.propTypes={focusCid:dt.a.oneOfType([dt.a.string,dt.a.object]),selectCid:dt.a.oneOfType([dt.a.string,dt.a.object]),permission:dt.a.object,fromComment:dt.a.bool,commentList:dt.a.array,commentMarkerIndex:dt.a.number,commentThreadCid:dt.a.string,commentOperations:dt.a.object,userId:dt.a.number,scrollRef:dt.a.object,commentThreadList:dt.a.array,currentState:dt.a.object};var Yr=function(){var e=this;this.handleSetting=function(t){0==Number(t)&&(e.toggleEditing(),MB.event("二次编辑","运行页"))},this.toggleSelect=function(){var t=e.props,n=t.selectCid,r=t.commentOperations,o=t.commentThreadCid;n||r.setFocusCommentThreadCid(o)},this.cancelSelect=function(){var t=e.props,n=t.selectCid,r=t.commentOperations;n||e.state.isEdit||r.cancelSelect()},this.doUpdateComment=function(t){var n=e.props,r=n.commentOperations,o=n.commentList[0];o&&r.doUpdateComment(Ir({},o,{message:t}))},this.doCreateComment=function(t,n){var r=e.props,o=r.commentThreadCid;r.commentOperations.doCreateComment(t,o),!n&&e.toggleReply()},this.getCommentMessage=function(){return e.props.commentList[0]&&e.props.commentList[0].message},this.handleRenderMoreComments=function(t){t.stopPropagation(),e.toggleRenderMore(),MB.event("展开评论","运行页")}},Wr=Ur,Fr=mr.a.bind(fr.a),Br=function(e){function t(n){L(this,t);var r=R(this,e.call(this,n));r.autoTextareaFocus=function(){return setTimeout(function(){return r.replyTextareaRef&&r.replyTextareaRef.focus()},200)},r.checkIsNewCreateComment=function(){var e=r.props;return!e.commentListMap[e.commentContainer.select]},r.doReply=function(e){r.replyTextareaRef&&r.replyTextareaRef.onEditFinish(e),r.scrollRef&&Gr(r.scrollRef)},r.doCreateCommentThread=function(e){e&&(r.props.dispatch({type:"entry:comment-threads:add",payload:{top:0,left:0,message:e,cancelSelect:!0}}),Gr(r.scrollRef))},r.doCreateComment=function(e){r.commentOperations.doCreateComment(e),Gr(r.scrollRef)},r.renderContentReply=function(e){if(!Un().allowComment)return null;var t=r.checkIsNewCreateComment(),n=r.props,o=n.userId,a=n.currentState,i=r.state,s=i.backgroundColor,c=i.disabled,u=jr(o,a);return ft.a.createElement("div",{className:Fr("content-reply")},u===Er&&ft.a.createElement(ir,{ref:r.setReplyTextareaRef,onValueChange:e&&t?r.doCreateComment:r.doCreateCommentThread,placeholder:er.a.I18N.preview.comment.comment_placeholder,handleActive:r.handleActive,minHeight:20,isMultiLine:!0,isAutoHeight:!0}),u===Er&&ft.a.createElement("button",{onClick:r.doReply,style:{backgroundColor:s,cursor:c?"not-allowed":"pointer"},disabled:c},er.a.I18N.preview.comment.thread_create),"not_signin"===u&&ft.a.createElement("button",{className:fr.a.login,onClick:zr},er.a.I18N.preview.comment.tip_signin),"not_collaborator"===u&&ft.a.createElement("span",null,er.a.I18N.preview.comment.tip_not_collaborator))};var o=r.props,a=o.currentState.screenCid;return(0,o.dispatch)({type:"unread-comment:set-read",payload:{screenCid:a}}),r.commentOperations={cancelSelect:function(){r.props.dispatch({type:"container:comment:select",payload:{select:null}})},getPermission:function(e){var t=r.commentOperations.getCollaborator(e);return Wn(r.props.currentState.userRole,r.props.userId,e,r.props.currentState.teamCid,t)},getCollaborator:function(e){var t=r.props,n=t.collaboratorsState,o=t.currentState,a=o.projectCid,i=o.teamCid;return Kr(n,a,i)[e]||{name:qr,avatar:Vr}},setFocusCommentThreadCid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return r.props.dispatch({type:"container:comment:focus",payload:{focus:e,from:"comment"}})},toggleSelectCommentThread:function(e){(0,r.props.dispatch)({type:"container:comment:select",payload:{select:e||null}})},doDeleteCommentThread:function(e){r.props.dispatch({type:"entry:comment-threads:delete",payload:{cid:e}})},doDeleteComment:function(e){return r.props.dispatch({type:"comments:delete",payload:e})},doUpdateComment:function(e){return r.props.dispatch({type:"entry:comments:update",payload:e})},doCreateComment:function(e,t){var n=r.props,o=n.selectCommentThread,a=n.dispatch,i=t||o.cid;e&&i&&a({type:"entry:comments:add",payload:{thread_cid:i,message:e}})},renderEmptyCommentList:function(){return ft.a.createElement(br,{hasUser:"not_signin"===jr(r.props.userId,r.props.currentState),hasSelectCommentThread:Boolean(r.props.selectCommentThread)})}},r.setReplyTextareaRef=function(e){r.replyTextareaRef=e},r.setScrollRef=function(e){return r.scrollRef=e},r.replyTextareaRef=null,r.scrollRef=null,r.state={backgroundColor:wr,disabled:!0},r.handleActive=function(e){r.state.disabled===e&&r.setState({backgroundColor:e?_r:wr,disabled:!e})},r}return I(t,e),t.prototype.componentWillReceiveProps=function(e){var t=e.unreadCommentState.unreadCountScreenMap,n=e.currentState.screenCid,r=e.dispatch;t[n]&&r({type:"unread-comment:set-read",payload:{screenCid:n}})},t.prototype.render=function(){var e=this,t=this.props,n=t.commentThreadList,r=t.commentListMap,o=t.currentScreenName,a=t.commentContainer,i=a.focus,s=a.select,c=a.from,u=t.selectCommentThread,l=t.unreadCommentState.unreadCountThreadMap,d=this.props,p=d.userId,f=d.currentState,h=n.length;return ft.a.createElement("div",{className:Fr("comment-panel")},h?[ft.a.createElement("div",{key:"title",className:Fr("comment-title")},o+" ("+h+") "),ft.a.createElement("div",{key:"comment",ref:this.setScrollRef,className:Fr("comment-thread"),id:"comment-thread"},n.map(function(t,n){var o=t.cid,a=t.user_id,u=r[o]||[],d=l[o]||0,h=e.commentOperations.getPermission(a),m=n+1,y="comment"===c;return ft.a.createElement(Wr,{key:o,commentThreadCid:o,commentMarkerIndex:m,focusCid:i,selectCid:s,fromComment:y,unreadCount:d,commentOperations:e.commentOperations,userId:p,permission:h,currentState:f,commentList:u,scrollRef:e.scrollRef})}))]:this.commentOperations.renderEmptyCommentList(),this.renderContentReply(u))},t}(pt.PureComponent);Br.propTypes={commentContainer:dt.a.object,currentState:dt.a.object,collaboratorsState:dt.a.array,unreadCommentState:dt.a.object,commentThreadList:dt.a.array,selectCommentThread:dt.a.object,commentListMap:dt.a.object,currentScreenName:dt.a.string,userId:dt.a.number,dispatch:dt.a.func};var Hr=Br,zr=function(){window.location.href="/signin?next="+window.location.pathname},qr="用户已退出协作",Vr="/images/avatar.png",Gr=function(e){return e&&setTimeout(function(){return e.scrollTop=e.scrollHeight-e.offsetHeight},0)},Kr=Object(rt.h)(function(e,t,n){return e.reduce(function(e,r){return r.project_cid!==t&&r.team_cid!==n||(e[r.user_id]=r),e},{})}),$r=Object(nt.connect)(function(e){var t=e.model,n=t.commentThreads,r=t.screens,o=t.comments,a=t.user,i=t.current,s=t.collaborators,c=t.unreadComment,u=e.container;return{commentContainer:u.comment,currentState:i,collaboratorsState:s,unreadCommentState:c,commentThreadList:Jr(n,i.screenCid),selectCommentThread:Zr(n,i.screenCid,u.comment.select),commentListMap:Xr(o),currentScreenName:Qr(r,i.screenCid),userId:a.id}})(Hr),Jr=Object(rt.h)(function(e,t){return e.filter(function(e){return e.screen_cid===t})}),Zr=Object(rt.h)(function(e,t,n){return n&&e.find(function(e){return e.cid===n&&e.screen_cid===t})||null}),Xr=Object(rt.h)(function(e){return e.reduce(function(e,t){return void 0===e[t.thread_cid]?e[t.thread_cid]=[t]:e[t.thread_cid].push(t),e},{})}),Qr=Object(rt.h)(function(e,t){return e.find(function(e){return e.cid==t}).name}),eo=Object(nt.connect)(function(e){var t=e.model,n=t.current,r=t.user,o=t.commentThreads,a=e.container;return{queryCurrentScreenContainerElement:to(n.screenCid),isActive:"comment"==a.previewSetting.toolbarActiveItem,commentContainer:a.comment,commentThreadList:Jr(o,n.screenCid),currentUserRole:n.userRole,userId:r.id}})(Jn),to=Object(rt.h)(function(e){return function(){return document.querySelector("#pscreen"+e+" .scontainer")}}),no=n("pVSp"),ro=n("uiZP"),oo=n("LCdv"),ao=n("5/ex"),io=(n("0kaG"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),so=function(e){function t(){return U(this,t),Y(this,e.apply(this,arguments))}return W(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.menuClassName,r=A(e,["className","menuClassName"]);return ft.a.createElement(oo.i,io({className:Object(ao.f)(["ToolbarSelect",t]),menuClassName:Object(ao.f)(["ToolbarSelectMenu",n])},r,{unstyled:!0}))},t}(pt.PureComponent);so.propTypes={className:dt.a.string,menuClassName:dt.a.string};var co=so,uo=n("G8Xe"),lo=n.n(uo),po=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fo=mr.a.bind(lo.a),ho=[I18N.device_shell,I18N.default_shell,I18N.none_shell],mo=["device","default","none"],yo=function(e){function t(){var n,r,o;F(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=B(this,e.call.apply(e,[this].concat(i))),r.handleSelectChange=function(e){var t=mo[e];r.props.dispatch({type:"projects:update-local",payload:po({},r.props.project,{_shell_type:t})}),MB.currentProject._shell_type=t,MB.runner.reload(!0)},r.handleCheckChange=function(e,t,n){r.props.dispatch({type:"projects:update-local",payload:po({},r.props.project,{_highlight:n})}),MB.currentProject._highlight=n},o=n,B(r,o)}return H(t,e),t.prototype.render=function(){var e=this.props,t=e.project,n=e.disabled,r=!!t._highlight,o=mo.indexOf(t._shell_type);return ft.a.createElement(lr.a,{disabled:n,menuClassName:fo("play-setting-menu"),opener:ft.a.createElement(ur.b,{name:"cog",type:"dora"}),menu:ft.a.createElement(vo,{onSelect:this.handleSelectChange,currentOptionIdx:o,onCheck:this.handleCheckChange,isChecked:r})})},t}(pt.PureComponent);yo.propTypes={project:dt.a.object,disabled:dt.a.bool,dispatch:dt.a.func};var vo=function(e){function t(){return F(this,t),B(this,e.apply(this,arguments))}return H(t,e),t.prototype.render=function(){var e=this.props,t=e.onSelect,n=e.onCheck,r=e.isChecked,o=e.currentOptionIdx;return ft.a.createElement("div",null,ft.a.createElement(co,{size:"small",optionList:ho,currentOptionIdx:o,onChange:t}),ft.a.createElement("hr",null),ft.a.createElement(oo.a,{label:I18N.highlight_clickable,size:"small",onChange:n,isChecked:r}))},t}(pt.PureComponent);vo.propTypes={onSelect:dt.a.func.isRequired,onCheck:dt.a.func.isRequired,isChecked:dt.a.bool.isRequired,currentOptionIdx:dt.a.number};var go=yo,bo=n("JGI5"),wo=n.n(bo),_o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oo=mr.a.bind(wo.a),So=function(e){function t(){z(this,t);var n=q(this,e.call(this));return n.handleKeyDown=function(e){xo(e,n.handleZoomIn,n.handleZoomOut)},n.handleZoomIn=function(){return n.handleZoomStep(1)},n.handleZoomOut=function(){return n.handleZoomStep(-1)},n}return V(t,e),t.prototype.handleZoomStep=function(e){var t=this.props,n=t.project,r=t.dispatch,o=Eo(n.scale,e);o&&(r({type:"projects:update-local",payload:_o({},this.props.project,{scale:o})}),MB.currentProject.scale=o,MB.runner.reload(!0))},t.prototype.render=function(){var e=this.props.project,t=Co(e.scale),n=t.canZoomIn,r=t.canZoomOut;return ft.a.createElement("div",{className:Oo("zoom-count","preview-zoom-btn",{template:e.template})},ft.a.createElement("a",{id:"zoomout",disabled:!r,title:I18N.zoomout,onClick:this.handleZoomOut},ft.a.createElement(ur.b,{type:"dora",name:"minus_fc",className:"fs-16"})),ft.a.createElement("span",null,e.scale+"%"),ft.a.createElement("a",{id:"zoomin",disabled:!n,title:I18N.zoomin,onClick:this.handleZoomIn},ft.a.createElement(ur.b,{type:"dora",name:"plus_fc",className:"fs-16"})),ft.a.createElement(mt.a,{onKeyDown:this.handleKeyDown}))},t}(pt.PureComponent);So.propTypes={project:dt.a.object,dispatch:dt.a.func};var Co=function(e){var t=MB.config.SCALES.indexOf(e);return{canZoomIn:!(t===MB.config.SCALES.length-1),canZoomOut:!(0===t)}},Eo=function(e,t){var n=MB.config.SCALES.indexOf(e);return MB.config.SCALES[n+t]},jo=So,xo=function(e,t,n){(e.ctrlKey||e.metaKey)&&(187==e.keyCode&&(t(),e.preventDefault()),189==e.keyCode&&(n(),e.preventDefault()))},To=function(e){var t=e.dispatch,n=e.project,r=e.disabled,o=e.handleShare;return ft.a.createElement("div",{className:wo.a.actions},ft.a.createElement(dr.b,{position:"bottom",tipClassName:"marign-top-20",duration:1e3,content:{hover:r?null:I18N.preview.setting}},ft.a.createElement(go,{dispatch:t,project:n,disabled:r})),ft.a.createElement("span",{className:wo.a.line}),ft.a.createElement(dr.b,{position:"bottom",duration:1e3,content:{hover:I18N.preview.share},tipClassName:"marign-top-20"},ft.a.createElement(ur.b,{type:"dora",name:"share",className:wo.a.shareIcon,onClick:o})))};To.propTypes={project:dt.a.object,disabled:dt.a.bool,handleShare:dt.a.func,dispatch:dt.a.func};var Mo=n("H0UK"),ko=n.n(Mo),Po=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},No=mr.a.bind(ko.a),Do=function(e){function t(n){G(this,t);var r=K(this,e.call(this,n));return r.updateSubToolbar=function(e){r.props.dispatch({type:"reducer:preview-toolbar:update",payload:Po({},e)})},r.changeMode=function(e){var t=e.target;if(!t.matches("canvas")){var n=t.dataset.checkpicker;if(!n||n===Io)return r.updateSubToolbar({isShowColorPicker:!1});n===Ro&&(MB.event("在标注模式中使用了自定义取色","运行页"),r.updateSubToolbar({isShowColorPicker:!0,showLayerList:!1,isSelectLayer:!1}))}},r.updateDeviceUnit=function(e,t){var n=r.props.emPixel,o=$o(t,n);r.updateSubToolbar(o?{unit:t,ratio:o}:{unit:t}),MB.event("在"+t+"下切换倍率为"+o,"运行页")},r.updateLanguage=function(e,t){MB.event("代码切换"+t,"运行页"),r.updateSubToolbar({language:t})},r.updateColorUnit=function(e,t){r.updateSubToolbar({colorUnit:t})},r.updateEmPixel=function(e,t){r.updateSubToolbar({emPixel:t,ratio:t}),r.setState({customEmPixel:""});var n=r.props.unit;MB.event("在"+n+"下切换倍率为"+t,"运行页")},r.onTypingEmPixel=function(e){if(e){r.setState({customEmPixel:e}),r.updateSubToolbar({emPixel:e,ratio:e});var t=r.props.unit;MB.event("在"+t+"在设置自定义倍率"+e,"运行页")}},r.handleMobileChange=function(e){var t=r.props.unit,n=Ho(e,t);r.updateSubToolbar({ratio:n}),MB.event("在"+t+"下切换倍率为"+n,"运行页")},r.state={showLogin:!1,customEmPixel:""},r}return J(t,e),t.prototype.componentWillReceiveProps=function(e){var t=e.unit;this.props.unit!==t&&t===Ao&&this.updateSubToolbar({ratio:1})},t.prototype.render=function(){var e=this.props,t=e.unit,n=e.emPixel,r=e.ratio,o=e.language,a=e.isShowColorPicker,i=e.colorUnit,s=e.isLogin,c=this.state.customEmPixel,u=t===Yo||t===Uo,l=t===Ao,d=t===Yo?Ko:Vo,p=[{value:10,label:"10px"},{value:12,label:"12px"},{value:14,label:"14px"},{value:16,label:"16px"},{value:n,label:n+"px"},ft.a.createElement("div",{onClick:function(e){return e.stopPropagation()}},ft.a.createElement(oo.g,{size:"small",min:1,max:99,precision:0,value:c,placeholder:I18N.custom,onChange:this.onTypingEmPixel}))];return ft.a.createElement("div",{className:No("sub-toolbar","preview-sub-toolbar")},ft.a.createElement("div",{className:"mode"},ft.a.createElement(ur.b,{name:"cursor",type:"dora","data-checkpicker":Io,className:Object(ao.f)(["cursor",!a&&"is-active"])}),ft.a.createElement(dr.b,{arrowed:!0,position:"bottom",duration:1500,className:Object(ao.f)(["picker",a&&"is-active"]),tipClassName:"marign-top-20",content:{click:s?null:I18N.preview.guide_login,hover:I18N.preview.color_picker}},ft.a.createElement(ur.b,{name:"tube",type:"dora","data-checkpicker":Ro})),ft.a.createElement(mt.a,{onClick:this.changeMode})),ft.a.createElement("div",{className:"param"},ft.a.createElement(co,{className:"color-unit",menuClassName:"PreviewSubToolbarSelectMenu",size:"small",unstyled:!0,shouldMenuAlignCenter:!0,placeholder:" ",currentOptionIdx:Bo.findIndex(function(e){return e.value===i}),optionList:Bo,onChange:this.updateColorUnit}),ft.a.createElement(co,{menuClassName:"PreviewSubToolbarSelectMenu",size:"small",unstyled:!0,shouldMenuAlignCenter:!0,placeholder:" ",optionList:Fo,currentOptionIdx:Fo.findIndex(function(e){return e.value===o}),onChange:this.updateLanguage}),ft.a.createElement(co,{className:"device-unit",menuClassName:"PreviewSubToolbarSelectMenu",size:"small",unstyled:!0,shouldMenuAlignCenter:!0,placeholder:" ",currentOptionIdx:Wo.indexOf(t),optionList:Wo,onChange:this.updateDeviceUnit}),u?ft.a.createElement(co,{menuClassName:"PreviewSubToolbarSelectMenu",size:"small",unstyled:!0,shouldMenuAlignCenter:!0,placeholder:" ",optionList:d,currentOptionIdx:zo({unit:t,ratio:r}),onChange:this.handleMobileChange}):l?ft.a.createElement("span",{className:"px-ratio"},"@1x"):ft.a.createElement(co,{className:"em-pixel",menuClassName:"PreviewSubToolbarSelectMenu scale-select-menu",size:"small",unstyled:!0,shouldMenuAlignCenter:!0,placeholder:" ",optionList:p,currentOptionIdx:p.findIndex(function(e){return e.value===Number(n)}),onChange:this.updateEmPixel})))},t}(pt.PureComponent);Do.propTypes={unit:dt.a.string,language:dt.a.string,ratio:dt.a.number,colorUnit:dt.a.string,isShowColorPicker:dt.a.bool,emPixel:dt.a.number,isLogin:dt.a.bool,dispatch:dt.a.func};var Lo=Do,Ro="colorPicker",Io="inspect",Ao="px",Uo="pt",Yo="dp",Wo=[Ao,"em","rem",Yo,Uo],Fo=[{value:"swift",label:"Swift"},{value:"android",label:"Android"},{value:"css",label:"CSS"},{value:"less",label:"Less"},{value:"sass",label:"Sass"},{value:"stylus",label:"Stylus"}],Bo=[{value:"hex",label:"Hex"},{value:"rgb",label:"RGB"},{value:"rgba",label:"RGBA"},{value:"argb",label:"ARGB"}],Ho=function(e,t){return t===Yo?Go[e]:qo[e]},zo=function(e){var t=e.unit,n=e.ratio;switch(t){case Yo:return Math.max(Go.indexOf(n),1);case Uo:return Math.max(qo.indexOf(n),0);default:return 0}},qo=[1,2,3],Vo=qo.map(function(e){return"@"+e+"x"}),Go=[.75,1,1.5,2,3,4],Ko=Go.map(function(e){return"@"+e+"x"}),$o=function(e,t){return"em"===e||"rem"===e?t:1},Jo=(n("puHc"),10),Zo="hidden",Xo="#fff",Qo=function(e){function t(n){Z(this,t);var r=X(this,e.call(this,n));ea.call(r);var o=r.props.scale;return r.iamgeContainerRef=function(e){return r.image=e},r.getImageCanvasRef=function(e){return r.imageCanvas=e},r.glassCanvasRef=function(e){return r.glassCanvas=e},r.finallyScale=Jo*(o<1?1:o),r.state={visibility:Zo,glassLeft:0,glassTop:0,color:Xo,R:0,G:0,B:0},r}return Q(t,e),t.prototype.componentDidMount=function(){sa&&(this.image.crossOrigin="Anonymous"),this.imageCtx=this.imageCanvas.getContext("2d"),this.glassCtx=this.glassCanvas.getContext("2d")},t.prototype.componentDidCatch=function(e){console.log(e);var t=this.props.cancelPick;t&&t()},t.prototype.componentDidUpdate=function(){if(this.imageCanvas){var e=this.imageCanvas.getBoundingClientRect(),t=e.width,n=e.height,r=this.lastCanvasRect||{width:0,height:0},o=r.width,a=r.height;o==t&&a==n||(this.clearGlassRect(),this.renderImageCanvas())}else this.handleEorr()},t.prototype.render=function(){var e=this.props,t=e.width,n=e.height,r=e.glassWidth,o=e.glassHeight,a=e.src,i=this.state,s=i.visibility,c=i.glassLeft,u=i.glassTop,l=i.color,d=i.R,p=i.G,f=i.B;return ft.a.createElement("div",{className:"mb-picker-container"},ft.a.createElement("img",{ref:this.iamgeContainerRef,className:"mb-picker-image",width:t,height:n,src:a,onLoad:this.handleLoad,onError:this.handleEorr}),ft.a.createElement("canvas",{ref:this.getImageCanvasRef,onMouseMove:this.handleMove,onMouseLeave:this.handleMouseLeave,onClick:this.handleClick,style:{width:t,height:n,opacity:0}}),ft.a.createElement("div",{className:"mb-glass",style:{width:r,height:o,visibility:s,left:c,top:u}},ft.a.createElement("canvas",{ref:this.glassCanvasRef,width:r,height:o,style:{width:r,height:o}}),ft.a.createElement("div",{style:{top:o/2+10},className:"mb-glass-text"},ft.a.createElement("div",{className:"mb-rgba-color"},"R:"+d+" G:"+p+" B:"+f+" "+String(ra(l).hex).toUpperCase()))),ft.a.createElement(mt.a,{onKeyDown:this.handleKeyDown}))},t}(pt.PureComponent);Qo.propTypes={src:dt.a.string,width:dt.a.oneOfType([dt.a.string,dt.a.number]),height:dt.a.oneOfType([dt.a.string,dt.a.number]),glassHeight:dt.a.number,glassWidth:dt.a.number,scale:dt.a.number,pickColor:dt.a.func,cancelPick:dt.a.func},Qo.defaultProps={src:"/sec3.png",width:1300,height:769,glassWidth:200,glassHeight:200,scale:1,pickColor:function(e){return console.log(e)}};var ea=function(){var e=this;this.renderImageCanvas=function(){var t=e.imageCanvas.getBoundingClientRect(),n=t.width,r=t.height;e.lastCanvasRect={width:n,height:r},e.imageCanvas.width=n,e.imageCanvas.height=r,e.imageCtx.drawImage(e.image,0,0,n,r)},this.calculateCenterPoint=function(t){var n=e.image.getBoundingClientRect(),r=n.left,o=n.top;e.centerPoint={centerX:Math.floor(t.clientX-r),centerY:Math.floor(t.clientY-o)}},this.handleMove=function(t){e.image.complete&&e.state.visibility===Zo&&e.setState({visibility:"visible"}),e.calculateCenterPoint(t);var n=e.props,r=n.glassHeight,o=n.glassWidth,a=n.scale,i=e.centerPoint,s=i.centerX,c=i.centerY,u=Math.floor(s-o/2),l=Math.floor(c-r/2);e.setState({glassLeft:u,glassTop:l}),c<0&&e.clearGlassRect(),e.glassCtx.clearRect(0,0,o,r),a<1&&console.warn("Can't make the galss scale less than 1, It will make bed invision"),aa(e.glassCtx,!1),e.glassCtx.drawImage(e.imageCanvas,Math.floor(s-o/2/e.finallyScale),Math.floor(c-r/2/e.finallyScale),Math.floor(o/e.finallyScale),Math.floor(r/e.finallyScale),-Jo,-Jo,o,r),oa(e.glassCtx,"lightgray",Jo,Jo),ia(e.glassCtx,"black",Math.floor(o/2-Jo),Math.floor(r/2-Jo),Jo,Jo),e.getColor()},this.getColor=function(){var t=e.centerPoint,n=t.centerX,r=t.centerY,o=e.imageCtx.getImageData(n,r,1,1).data,a=na(o),i=a.rgba,s=a.R,c=a.G,u=a.B;e.setState({color:i,R:s,G:c,B:u}),e.color=i},this.handleClick=function(){e.getColor();var t=e.props.pickColor;t&&t(e.color)},this.clearGlassRect=function(){var t=e.props,n=t.glassHeight,r=t.glassWidth;e.glassCtx.clearRect(0,0,r,n),e.setState({visibility:Zo})},this.handleMouseLeave=function(){e.clearGlassRect()},this.handleKeyDown=function(t){var n=e.props.cancelPick;"escape"===t.key.toLowerCase()&&(e.clearGlassRect(),n&&n())},this.handleLoad=function(){e.renderImageCanvas()},this.handleEorr=function(){var t=e.props.cancelPick;t&&t()}},ta=Qo,na=function(e){return e[3]=parseFloat(e[3]/255),{rgba:"rgba("+e.join(", ")+")",R:e[0],G:e[1],B:e[2]}},ra=function(e){var t=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+(\.\d)?)[\s+]?/i);return t&&t.length>=4?{hex:"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2),o:+t[4]}:e},oa=function(e,t,n,r){e.strokeStyle=t,e.lineWidth=.5;for(var o=n+.5;o<e.canvas.width;o+=n)e.beginPath(),e.moveTo(o,0),e.lineTo(o,e.canvas.height),e.stroke();for(var a=r+.5;a<e.canvas.height;a+=r)e.beginPath(),e.moveTo(0,a),e.lineTo(e.canvas.width,a),e.stroke()},aa=function(e,t){e.mozImageSmoothingEnabled=t,e.webkitImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t,e.imageSmoothingEnabled=t},ia=function(e,t,n,r,o,a){e.beginPath(),e.strokeStyle=t,e.lineWidth=1,e.moveTo(n,r),e.lineTo(n+o,r),e.lineTo(n+o,r+a),e.lineTo(n,r+a),e.lineTo(n,r),e.stroke(),e.beginPath(),e.lineWidth=2,e.strokeStyle="white",e.moveTo(n-2,r-2),e.lineTo(n+o+2,r-2),e.lineTo(n+o+2,r+2+a),e.lineTo(n-2,r+a+2),e.lineTo(n-2,r-2),e.stroke()},sa=!1,ca=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ua={ratio:1,emPixel:16,unit:"px",colorUnit:"hex",language:"css",toolbarActiveItem:at,isShowColorPicker:!1,isSelectLayer:!1,userPickColor:Object(rt.g)(),loadSliceUrl:""},la=n("zRV7"),da=n.n(la),pa=this,fa=mr.a.bind(da.a),ha=function(e){function t(n){te(this,t);var r=ne(this,e.call(this,n));return r.state={isSharingModalOpen:!1},r.handleShare=function(){r.setState({isSharingModalOpen:!0}),MB.event("点击了分享按钮","运行页")},r.onCloseSharingModal=function(){return r.setState({isSharingModalOpen:!1})},r.handleTabChange=function(e){var t=r.props,n=t.dispatch,o=t.project,a=(o.owner_id,o.team_cid,o.owner_plan,it[e]);n({type:"entry:preview:select",payload:{toolbarActiveItem:it[e]}}),MB.event(""+rt.a[a],"运行页")},n.dispatch({type:"reducer:preview-toolbar:active-item:init"}),ba()&&r.props.dispatch({type:"entry:preview:select",payload:{toolbarActiveItem:ot}}),r}return re(t,e),t.prototype.componentWillReceiveProps=function(e){var t=e.toolbarActiveItem,n=e.loadSliceUrl;t!=this.props.toolbarActiveItem&&this.props.dispatch({type:"reducer:preview-toolbar:update",payload:{isShowColorPicker:!1,isSelectLayer:!1}}),n!=this.props.loadSliceUrl&&ga(n)},t.prototype.render=function(){var e=this.props,t=e.project,n=e.dispatch,r=e.toolbarActiveItem,o=e.existUnreadComment,a=this.state.isSharingModalOpen,i=it.indexOf(r)||0,s=r!=at,c=t.name||"",u=!ya(),l=!MB.isOffline(),d=l?st:ct,p=l&&o;return t.template?ft.a.createElement(jo,{project:t,dispatch:n}):ft.a.createElement("header",{className:fa("preview-toolbar")},ft.a.createElement("div",{className:fa("toolbar-left")},!u&&ft.a.createElement("a",{disabled:u,title:I18N.back,onClick:u?null:ma},ft.a.createElement(ur.b,{name:"back_fc",type:"dora",className:"fs-16"})),ft.a.createElement("span",{className:fa("project-name"),title:c},c)),ft.a.createElement(jo,{project:t,dispatch:n}),ft.a.createElement("div",{className:fa("toolbar-main")},ft.a.createElement("div",{className:"toolbar-main-wrapper"},ft.a.createElement(ro.b,{tabs:d,activeIndex:i,onChange:this.handleTabChange,className:"preview-toolbar-nav",hideBorder:!0}),p&&ft.a.createElement("span",{className:"unread"}))),ft.a.createElement("div",{className:fa("toolbar-right")},ft.a.createElement(To,{disabled:s,dispatch:n,project:t,handleShare:this.handleShare}),ft.a.createElement(no.a,{dispatch:n,isOpen:a,onClose:this.onCloseSharingModal,app:MB.project()})))},t}(pt.PureComponent);ha.propTypes={project:dt.a.object,toolbarActiveItem:dt.a.string,existUnreadComment:dt.a.bool,loadSliceUrl:dt.a.string,dispatch:dt.a.func};var ma=function(){ya()&&MB.designer.backDesign()},ya=function(){return!MB.f.inSharing&&"file:"!==window.location.protocol},va=function(e){return Object(nn.a)(e,null,{method:"POST"})},ga=function(){var e=ee(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=!0,r=void 0,o=1;case 3:if(!n){e.next=17;break}return e.next=6,Object(rt.o)(Math.min(2e3*o++,1e4));case 6:return e.next=8,va(t);case 8:if(a=e.sent,i=a.url,"ok"===(s=a.status)&&(n=!1,r=i),!(o>20)){e.next=15;break}return Object(rt.e)(),e.abrupt("return",!1);case 15:e.next=3;break;case 17:return Object(rt.f)({url:"/"+r,name:name,type:"zip"}),e.abrupt("return",!0);case 19:case"end":return e.stop()}},e,pa)}));return function(t){return e.apply(this,arguments)}}(),ba=function(){return new URLSearchParams(location.search).has("inspect")},wa=Object(rt.h)(function(e,t){return e.find(function(e){return e.cid===t})}),_a=Object(nt.connect)(function(e){var t=e.model,n=t.current,r=n.screenCid,o=n.projectCid,a=t.projects,i=t.unreadComment.unreadCountScreenMap,s=e.container.previewSetting,c=s.toolbarActiveItem,u=s.loadSliceUrl;return{toolbarActiveItem:c,project:wa(a,o),existUnreadComment:!!i[r],loadSliceUrl:u}})(ha),Oa=n("O4Lo"),Sa=n.n(Oa),Ca=n("O27J"),Ea=n.n(Ca),ja=function(e,t,n){for(var r=[],o=0,a=Object.entries(e),i=Array.isArray(a),s=0,a=i?a:a[Symbol.iterator]();;){var c;if(i){if(s>=a.length)break;c=a[s++]}else{if((s=a.next()).done)break;c=s.value}var u=c,l=u[0],d=u[1];t&&t.length>0&&d.toLowerCase().includes(t)&&r.push(Object.assign.apply(Object,[{}].concat(n[l],[{index:o++}])))}return r},xa=function(e){if(!e)return document.documentElement;for(var t="absolute"===e.style.position,n=/(scroll|auto)/,r=e;r;){if(!r.parentNode)return e.ownerDocument||document.documentElement;var o=window.getComputedStyle(r),a=o.position,i=o.overflow,s=o["overflow-x"],c=o["overflow-y"];if("static"===a&&t&&(r=r.parentNode),n.test(i)&&n.test(s)&&n.test(c))return r;r=r.parentNode}return e.ownerDocument||e.documentElement||document.documentElement},Ta={top:0,right:0,bottom:0,left:0,width:0,height:0},Ma=function(e,t){var n=Ea.a.findDOMNode(e),r=void 0,o=void 0;try{var a=t.getBoundingClientRect();r=a.top,o=a.height}catch(e){r=Ta.top,o=Ta.height}var i=window.innerHeight||document.documentElement.clientHeight,s=Math.max(r,0),c=Math.min(i,r+o)-s,u=void 0,l=void 0;try{var d=n.getBoundingClientRect();u=d.top,l=d.height}catch(e){u=Ta.top,l=Ta.height}var p=u-s;return p<=c&&p+l>=0},ka=function(e){var t=Ea.a.findDOMNode(e),n=xa(t);return!!Ma(e,n)},Pa=n("5HQq"),Na=n.n(Pa).a["screen-node-content"],Da=function(e){function t(){var n,r,o;oe(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=ae(this,e.call.apply(e,[this].concat(i))),r.renderSearch=function(e){var t=r.props.treeProps,n=t.currentScreenCid;return e.map(function(e){var r=e.cid,o=e.screen.name,a={doShowComment:Object(rt.j)(function(){return t.doShowComment(r)}),doSelectScreen:Object(rt.j)(function(){return t.doSelectScreen(r)}),doToggleExpand:Object(rt.j)(function(){return t.doToggleExpand(r)})},i=n===r;return ft.a.createElement(Ra,{key:r,screenName:o,isSelect:i,screenTreeOperations:a})})},o=n,ae(r,o)}return ie(t,e),t.prototype.render=function(){var e=this.props,t=e.cid,n=e.level,r=e.treeProps,o=e.className,a=e.isSearch,i=n+1,s=r.searchScreenKeyMap&&r.searchScreenKeyMap.length>0;return ft.a.createElement("div",{className:o},a?s?this.renderSearch(r.searchScreenKeyMap):ft.a.createElement("div",null,"not match"):r.childListMap[t].map(function(e){return ft.a.createElement(La,{key:e,cid:e,level:i,treeProps:r})}))},t}(pt.PureComponent);Da.propTypes={cid:dt.a.string,level:dt.a.number,treeProps:dt.a.object,className:dt.a.string,isSearch:dt.a.bool,currentScreenCid:dt.a.string};var La=function(e){function t(n){oe(this,t);var r=ae(this,e.call(this,n));return r.screenTreeOperations={doShowComment:Object(rt.j)(function(){return r.props.treeProps.doShowComment(r.props.cid)}),doSelectScreen:Object(rt.j)(function(){return r.props.treeProps.doSelectScreen(r.props.cid)}),doToggleExpand:Object(rt.j)(function(){return r.props.treeProps.doToggleExpand(r.props.cid)})},r}return ie(t,e),t.prototype.render=function(){var e=this.props,t=e.cid,n=e.level,r=e.treeProps,o=r.nodeMap,a=r.childListMap,i=r.collapseKeySet,s=r.currentScreenCid,c=r.screenCommentThreadCountMap,u=a[t]&&a[t].length>0,l=s===t,d=!i.has(t),p=Object(rt.p)(o[t].screen.name),f=c[t]||0;return ft.a.createElement("div",null,ft.a.createElement(Ra,{level:n,hasChildTab:u,isSelect:l,isExpand:d,screenName:p,screenCommentThreadCount:f,screenTreeOperations:this.screenTreeOperations}),u&&d&&ft.a.createElement(Da,{cid:t,level:n,treeProps:r,currentScreenCid:s}))},t}(pt.PureComponent);La.propTypes={cid:dt.a.string,level:dt.a.number,treeProps:dt.a.object};var Ra=function(e){function t(){var n,r,o;oe(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=ae(this,e.call.apply(e,[this].concat(i))),r.getElementRef=function(e){return r.$elem=e},o=n,ae(r,o)}return ie(t,e),t.prototype.componentDidMount=function(){this.props.isSelect&&!ka(this)&&this.$elem.scrollIntoView()},t.prototype.render=function(){var e=this.props,t=e.level,n=e.hasChildTab,r=e.isSelect,o=e.isExpand,a=e.screenName,i=e.screenCommentThreadCount,s=e.screenTreeOperations,c=s.doSelectScreen,u=s.doToggleExpand,l=r?n?u:null:c,d=i>=1&&!MB.isOffline();return ft.a.createElement(dr.b,{content:{hover:a},type:"block",duration:1e3},ft.a.createElement("div",{ref:this.getElementRef,className:Na+" "+(r?"select":""),style:{paddingLeft:Ia(t)},onClick:l},ft.a.createElement("div",{className:"toggle-expand",onClick:n?u:null},n&&ft.a.createElement(ur.b,{type:"fa",name:o?"fa-caret-down":"fa-caret-right"})),ft.a.createElement(ur.b,{type:"mb",name:"layout",className:"screen-icon"}),ft.a.createElement(dr.c,{className:"screen-name",noTooltip:!0,name:a}),d&&ft.a.createElement("span",{className:"toggle-comment"},ft.a.createElement(ur.b,{type:"dora",name:"comment"}))))},t}(pt.PureComponent);Ra.propTypes={level:dt.a.number,hasChildTab:dt.a.bool,isSelect:dt.a.bool,isExpand:dt.a.bool,screenName:dt.a.string,screenCommentThreadCount:dt.a.number,screenTreeOperations:dt.a.object};var Ia=function(e){return 2+12*e+"px"},Aa=n("Vy9P"),Ua=n.n(Aa),Ya=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wa=mr.a.bind(Ua.a),Fa=function(e){function t(n){se(this,t);var r=ce(this,e.call(this,n));return r.handleOnload=function(){r.setState({imageLoad:!0})},r.imageRef=function(e){return r.$image=e},r.getElementRef=function(e){return r.$elem=e},r.state={imageLoad:!1},r}return ue(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.isSelect,n=e.scrollIntoView,r=e.sortSource,o=e.src;t&&!ka(this)&&n(this.$elem),r(o,this.$image)},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.src;(0,e.removeSource)(t)},t.prototype.render=function(){var e=this.props,t=e.cid,n=e.title,r=e.isSelect,o=e.screenCommentThreadCount,a=this.state.imageLoad,i=Wa(a?"opacity-1":"opacity-0"),s=r?"active":"",c=a?{background:"#F7F7FA"}:{background:'#F7F7FA url("/images/preview/image-load.png") no-repeat center center'};return ft.a.createElement("div",{ref:this.getElementRef,className:Wa("image-item"),"data-cid":t},ft.a.createElement(dr.b,{arrowed:!1,content:{hover:n},duration:1e3,position:"bottom",type:"block"},ft.a.createElement("div",{className:Wa("image-wrap",s),style:c,"data-cid":t},ft.a.createElement("img",{className:i,ref:this.imageRef,"data-cid":t,alt:n,onLoad:this.handleOnload}))),!!o&&ft.a.createElement(ur.b,{className:Wa("comment-count"),type:"dora",name:"comment"}),ft.a.createElement("p",{className:Wa("image-title"),"data-cid":t},n))},t}(pt.PureComponent);Fa.propTypes={title:dt.a.string,cid:dt.a.string,src:dt.a.string,isSelect:dt.a.bool,scrollIntoView:dt.a.func,screenCommentThreadCount:dt.a.number,removeSource:dt.a.func,sortSource:dt.a.func};(function(e){var t=e.content,n=e.title,r=e.className;return ft.a.createElement("div",{className:r},ft.a.createElement("div",null,n),ft.a.createElement("div",null,t))}).propTypes={content:dt.a.string,title:dt.a.string,className:dt.a.string};var Ba=function(e){function t(){return se(this,t),ce(this,e.call(this))}return ue(t,e),t.prototype.render=function(){var e=this.props,t=e.treeProps,n=e.cid;return t.childListMap[n].map(function(e,n){return ft.a.createElement(Ha,{key:e,cid:e,index:n,treeProps:t})})},t}(pt.PureComponent);Ba.propTypes={cid:dt.a.string,treeProps:dt.a.object};var Ha=function(e){function t(){return se(this,t),ce(this,e.apply(this,arguments))}return ue(t,e),t.prototype.render=function(){var e=this.props,t=e.treeProps,n=e.cid,r=e.index,o=t.nodeMap,a=t.childListMap,i=t.currentScreenCid,s=t.screenCommentThreadCountMap,c=t.scrollIntoView,u=t.sortSource,l=t.removeSource,d=o[n],p=d.screen.name,f=d.snapshot,h=i===n,m=a[n]&&a[n].length>0,y=s[n];return[ft.a.createElement(Fa,{key:n,title:p,src:f,cid:n,isSelect:h,screenCommentThreadCount:y,scrollIntoView:c,sortSource:u,removeSource:l}),m&&ft.a.createElement(Ba,Ya({key:""+n+r},{cid:n,treeProps:t,currentScreenCid:i}))]},t}(pt.PureComponent);Ha.propTypes={cid:dt.a.string,treeProps:dt.a.object,index:dt.a.number};var za=this,qa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Va=function(e){function t(n){de(this,t);var r=pe(this,e.call(this,n));r.handleClick=function(e){var t=r.props,n=t.currentScreenCid,o=t.dispatch,a=e.target.dataset.cid;a&&n!==a&&o({type:"entry:sync-runner:set-screen",payload:{cid:a}})},r.handleScroll=function(){ei()},r.getContainerRef=function(e){return r.containerRef=e},r.debounceScroll=Sa()(r.handleScroll,300),r.imageTreeOperations={sortSource:function(e,t){Xa.push({url:e,image:t})},removeSource:function(e,t){ni(e,t)},scrollIntoView:function(e){e.scrollIntoView()}};var o=n.screenTreeData,a=o.nodeMap,i=o.screenNameCidMap,s=n.screenSearch;return r.state={collapseKeySet:new Set,searchScreenKeyMap:ja(i,s,a)||[]},r}return fe(t,e),t.prototype.componentDidMount=function(){ei()},t.prototype.componentDidUpdate=function(e){e.imageNodeMap!==this.props.imageNodeMap&&ei()},t.prototype.render=function(){var e=this,t=this.props,n=t.currentScreenCid,r=t.imageNodeMap,o=t.screenCommentThreadCountMap,a=t.screenTreeData,i=t.screenSearch,s=this.state,c=s.collapseKeySet,u=s.searchScreenKeyMap,l=Za(a,o,n,this.imageTreeOperations,c,u),d=i.length>0;return ft.a.createElement("div",{ref:this.getContainerRef,className:Ua.a.imageList,onScroll:this.debounceScroll,onClick:this.handleClick},d?Object.entries(r).map(function(t,r){t[0];var a=t[1],i=a.name,s=a.snapshot,c=a.cid,u=o[c]||0,l=c==n;return ft.a.createElement(Fa,{key:c,scrollIntoView:e.imageTreeOperations.scrollIntoView,isSelect:l,screenCommentThreadCount:u,src:s,index:r,title:i,cid:c,sortSource:e.imageTreeOperations.sortSource,removeSource:e.imageTreeOperations.removeSource})}):ft.a.createElement(Ba,{treeProps:l,cid:a.rootCid}))},t}(pt.PureComponent);Va.propTypes={currentScreenCid:dt.a.string,screenTreeData:dt.a.object.isRequired,screenCommentThreadCountMap:dt.a.object,screenSearch:dt.a.string,imageNodeMap:dt.a.object,dispatch:dt.a.func};var Ga=Object(nt.connect)(function(e){var t=e.model,n=t.projects,r=t.current,o=r.projectCid,a=r.screenCid,i=t.screens,s=n.find(function(e){return e.cid==o});return{screenTreeData:Ja(i,s,o),currentScreenCid:a,imageNodeMap:$a(i,s,o,e.container.screens.screenSearch),screenSearch:e.container.screens.screenSearch,screenCommentThreadCountMap:Ka(e.model.commentThreads)}})(Va),Ka=Object(rt.h)(function(e){return e.reduce(function(e,t){return e[t.screen_cid]=(e[t.screen_cid]||0)+1,e},{})}),$a=Object(rt.h)(function(e,t,n,r){var o=t.access_token,a={};return e.forEach(function(e){var t=e.project_cid,i=e.cid,s=e.name;if(t===n){var c=ri(o,i);s.toLowerCase().includes(r.toLowerCase())&&(a[i]=Object.assign({},e,{snapshot:c}))}}),a}),Ja=Object(rt.h)(function(e,t,n){var r,o=t.access_token,a={},i={},s=(r={},r.null=[],r);return e.forEach(function(e){if(e.project_cid===n){var t=e.cid,r=e.position,c=e.parent_cid||"null",u=ri(o,t);a[t]={cid:t,parentCid:c,screen:e,position:r,snapshot:u},i[t]=String(e.name).toLowerCase(),void 0===s[c]&&(s[c]=[]),s[c].push(t)}}),Object.values(s).forEach(function(e){return e.sort(function(e,t){return a[e].position-a[t].position})}),{rootCid:"null",nodeMap:a,childListMap:s,screenNameCidMap:i}}),Za=Object(rt.h)(function(e,t,n,r,o,a){return qa({screenCommentThreadCountMap:t,collapseKeySet:o,searchScreenKeyMap:a,currentScreenCid:n},e,r)}),Xa=[],Qa=new Set,ei=function(){var e=le(regeneratorRuntime.mark(function e(){var t,n,r,o,a,i,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=Xa,n=Array.isArray(t),r=0,t=n?t:t[Symbol.iterator]();case 1:if(!n){e.next=7;break}if(!(r>=t.length)){e.next=4;break}return e.abrupt("break",24);case 4:o=t[r++],e.next=11;break;case 7:if(!(r=t.next()).done){e.next=10;break}return e.abrupt("break",24);case 10:o=r.value;case 11:if(a=o,i=a.url,s=a.image,!Qa.has(i)){e.next=15;break}return e.abrupt("continue",22);case 15:if(c=ka(s)){e.next=18;break}return e.abrupt("continue",22);case 18:return e.next=20,ti(i,s);case 20:u=e.sent,Qa.add(u);case 22:e.next=1;break;case 24:case"end":return e.stop()}},e,za)}));return function(){return e.apply(this,arguments)}}(),ti=function(e,t){return new Promise(function(n,r){t.onload=function(){Object(rt.c)({image:t,adjust:90}),n(e)},t.onerror=function(){return n(e)},t.src=e})},ni=function(e,t){var n=Xa.findIndex(function(t){return t.url==e});Xa.splice(n,1),Qa.delete(e)},ri=function(e,t){return"/snapshot.png?access-token="+e+"&screen-cid="+t+"&mode=thumbnail"},oi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ai=function(e){function t(n){he(this,t);var r=me(this,e.call(this,n));r.resetExpandAll=function(){r.setState({collapseKeySet:new Set})},r.closeExpanedAll=function(){var e=(r.props.screenTreeData||{}).childListMap;if(e){var t=ii(e);r.setState({collapseKeySet:t})}},r.handleKeyDown=function(e){si(e,r.resetExpandAll,r.closeExpanedAll)},r.screenTreeOperations={doShowComment:function(e){r.screenTreeOperations.doSelectScreen(e),r.props.dispatch({type:"entry:comment:set:active",payload:{isActive:!0}})},doSelectScreen:function(e){var t=r.props,n=t.currentScreenCid,o=t.dispatch;n!==e&&o({type:"entry:sync-runner:set-screen",payload:{cid:e}})},doToggleExpand:function(e){var t=r.state.collapseKeySet,n=new Set(t);t.has(e)?n.delete(e):n.add(e),r.setState({collapseKeySet:n})}};var o=n.screenTreeData,a=o.nodeMap,i=o.screenNameCidMap,s=n.screenSearch;return r.state={collapseKeySet:new Set,searchScreenKeyMap:ja(i,s,a)||[]},r}return ye(t,e),t.prototype.componentWillReceiveProps=function(e){var t=e.screenSearch,n=this.props,r=n.screenTreeData,o=r.nodeMap,a=r.screenNameCidMap;if(t!=n.screenSearch){var i=ja(a,t,o)||[];this.setState({searchScreenKeyMap:i})}},t.prototype.render=function(){var e=this.props,t=e.screenTreeData,n=e.screenCommentThreadCountMap,r=e.currentScreenCid,o=e.screenSearch,a=this.state,i=a.collapseKeySet,s=a.searchScreenKeyMap,c=o.length>0,u=ci(t,n,r,i,this.screenTreeOperations,s);return ft.a.createElement("div",{className:"screenNodeContainer"},ft.a.createElement(Da,{cid:t.rootCid,level:-1,treeProps:u,isSearch:c}),ft.a.createElement(mt.a,{onKeyDown:this.handleKeyDown}))},t}(pt.PureComponent);ai.propTypes={screenTreeData:dt.a.object,screenCommentThreadCountMap:dt.a.object,currentScreenCid:dt.a.string,screenNameCidMap:dt.a.object,screenSearch:dt.a.string,noSearch:dt.a.bool,dispatch:dt.a.func};var ii=Object(rt.h)(function(e){var t=Object.entries(e).map(function(e){var t=e[0],n=e[1];if(Array.isArray(n)&&n.length)return t});return new Set(t)}),si=function(e,t,n){(e.ctrlKey||e.metaKey)&&(186==e.keyCode&&(t(),e.preventDefault()),222==e.keyCode&&(n(),e.preventDefault()))},ci=Object(rt.h)(function(e,t,n,r,o,a){return oi({screenCommentThreadCountMap:t,currentScreenCid:n,collapseKeySet:r,searchScreenKeyMap:a},e,o)}),ui=Object(nt.connect)(function(e){return{screenTreeData:di(e.model.screens,e.model.current.projectCid),screenCommentThreadCountMap:li(e.model.commentThreads),currentScreenCid:e.model.current.screenCid,screenSearch:e.container.screens.screenSearch}})(ai),li=Object(rt.h)(function(e){return e.reduce(function(e,t){return e[t.screen_cid]=(e[t.screen_cid]||0)+1,e},{})}),di=Object(rt.h)(function(e,t){var n,r={},o={},a=(n={},n.null=[],n);return e.forEach(function(e){if(e.project_cid===t){var n=e.cid,i=e.position,s=e.parent_cid||"null";r[n]={cid:n,parentCid:s,position:i,screen:e},o[n]=String(e.name).toLowerCase(),void 0===a[s]&&(a[s]=[]),a[s].push(n)}}),Object.values(a).forEach(function(e){return e.sort(function(e,t){return r[e].position-r[t].position})}),{rootCid:"null",nodeMap:r,childListMap:a,screenNameCidMap:o}}),pi=function(e){return Object(nn.a)("/api/v2/projects/"+e+"/sketch_slices.json")},fi=function(e){return Object(nn.a)("/api/v2/projects/"+e+"/build/slices_zips.json",null,{method:"POST"})},hi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mi=regeneratorRuntime.mark(ve),yi=regeneratorRuntime.mark(ge),vi=regeneratorRuntime.mark(be),gi=function(e){var t=e.width,n=void 0===t?1:t,r=e.height,o=void 0===r?1:r;return n>0&&o>0},bi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wi={slices:[],loading:!0,error:!1},_i=n("8Wq1"),Oi=n.n(_i),Si=function(e,t){return new Promise(function(n){e.src=t,e.onload=function(){return n(e)},e.onerror=n})},Ci=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ei=function(){var e=Promise.resolve("QUEUE_HEAD");return{pushTask:function(t){var n=e.then(t).catch(console.log);return e=n,n}}}().pushTask,ji=function(e){function t(){var n,r,o;Oe(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=Se(this,e.call.apply(e,[this].concat(i))),r.getElementRef=function(e){return r.imageRef=e},o=n,Se(r,o)}return Ce(t,e),t.prototype.componentDidMount=function(){var e=this;Ei(_e(regeneratorRuntime.mark(function t(){var n,r,o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,r=n.src,o=n.adjustImage,t.next=3,Si(e.imageRef,r);case 3:a=t.sent,o&&a&&Object(rt.c)({image:a,adjust:o});case 5:case"end":return t.stop()}},t,e)}))).catch(function(e){return console.error(e)})},t.prototype.render=function(){var e=this.props,t=(e.src,e.adjustImage,we(e,["src","adjustImage"]));return ft.a.createElement("img",Ci({alt:"",ref:this.getElementRef},t))},t}(pt.PureComponent),xi=ji;ji.propTypes={src:dt.a.string,adjustImage:dt.a.number};var Ti=this,Mi=mr.a.bind(Oi.a),ki=!1,Pi=function(e){function t(n){je(this,t);var r=xe(this,e.call(this,n));Ni.call(r),ki=!1,r.state={download:!1,activeLayerId:null};var o=r.props,a=o.loading,i=o.dispatch;return a&&i({type:"reducer:slice:init"}),r}return Te(t,e),t.prototype.componentWillUnmount=function(){var e=this.props,t=e.projectCid,n=e.dispatch,r="/api/v2/projects/"+t+"/build/slices_zips.json";this.state.download&&(ki=!0,n({type:"reducer:preview-toolbar:update",payload:{loadSliceUrl:r}}))},t.prototype.render=function(){var e=this,t=this.state,n=t.download,r=t.activeLayerId,o=this.props,a=o.slicesMap,i=o.loading,s=o.error,c=o.currentScreenCid,u=o.isLogin;return s||i?ft.a.createElement(Ai,null):0===a.length?ft.a.createElement(Ui,null):ft.a.createElement("div",{className:Mi("slice-container")},a.map(function(t){var n=t.name,o=t.id,a=t.screen_cid,i=t.image,s=t.image_set;return ft.a.createElement(Di,{key:o,src:i,name:n,currentScreenCid:c,id:o,imageSet:s,screenCid:a,requestLayer:e.requestLayer,activeLayer:e.handleActiveLayer,activeLayerId:r})}),ft.a.createElement(Li,{onClick:this.downloadSlice,isLoading:n,isLogin:u}))},t}(pt.PureComponent),Ni=function(){var e=this;this.handleActiveLayer=function(t){e.setState({activeLayerId:t})},this.downloadSlice=Ee(regeneratorRuntime.mark(function t(){var n,r,o,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props,r=n.projectCid,o=n.projectName,a=n.isLogin,!0!==e.state.download&&a){t.next=3;break}return t.abrupt("return");case 3:return e.startLoadSlice(),t.next=6,Yi(r,o);case 6:i=t.sent,e.endLoadSlice(i);case 8:case"end":return t.stop()}},t,e)})),this.startLoadSlice=function(){e.startTime=Date.now(),e.setState({download:!0}),MB.event("点击下载全部切图","运行页")},this.endLoadSlice=function(t){t&&(MB.event("下载全部切图时长"+(Date.now()-e.startTime),"运行页"),e.setState({download:!1}))},this.requestLayer=function(t){var n=e.props.dispatch;n({type:"REQUEST_SELECT_LAYER",payload:{layerID:t}}),n({type:"reducer:preview-toolbar:update",payload:{isSelectLayer:!0}})}};Pi.propTypes={slicesMap:dt.a.array.isRequired,loading:dt.a.bool,error:dt.a.bool,currentScreenCid:dt.a.string,isLogin:dt.a.bool,projectCid:dt.a.string,projectName:dt.a.string,dispatch:dt.a.func};var Di=function(e){function t(){je(this,t);var n=xe(this,e.call(this));return n.isIncurrentScreen=function(){return n.props.screenCid===n.props.currentScreenCid},n.handleClick=function(){var e=n.props,t=e.id,r=e.requestLayer;(0,e.activeLayer)(t),n.isIncurrentScreen()?r(t):console.warn("Not in current Screen")},n.handleOnload=function(){n.setState({imageLoad:!0})},n.handleError=function(){throw new Error("image load fail")},n.handleMouseEnter=function(){n.setState({loadSingleSlice:!0})},n.handleMouseLeave=function(){n.setState({loadSingleSlice:!1})},n.handleSingleDownload=function(e){e.persist(),e.stopPropagation(),n.delaySingleDownload()},n.state={imageLoad:!1,loadSingleSlice:!1},n.imageRef=function(e){return n.$image=e},n.delaySingleDownload=Sa()(function(){var e=n.props,t=e.imageSet,r=e.name;Object(rt.f)({url:t,name:r,type:"zip"}),MB.event("在切图列表中下载单张切图","运行页")},500,{leading:!0}),n}return Te(t,e),t.prototype.render=function(){var e=this.props,t=e.name,n=e.src,r=e.activeLayerId,o=e.id,a=this.state,i=a.imageLoad,s=a.loadSingleSlice,c=i?"opacity-1":"opacity-0",u=Mi("slice-item",{active:r===o}),l={background:"url(/images/preview/slice-bg.png) left top",backgroundSize:"cover"};return ft.a.createElement(dr.b,{type:"block",content:{click:this.isIncurrentScreen()?null:I18N.preview_panel.not_incurrent_screen}},ft.a.createElement("div",{className:u,onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},ft.a.createElement("div",{className:"slice-item-wrap",style:l},ft.a.createElement(xi,{src:n,alt:t,adjustImage:38,className:""+c,onLoad:this.handleOnload,onError:this.handleError})),ft.a.createElement("div",{className:"slice-item-content"},ft.a.createElement("span",{className:"slice-item-name textEllipsis"},t),s&&ft.a.createElement(ur.b,{name:"download",type:"dora",onClick:this.handleSingleDownload}))))},t}(pt.PureComponent);Di.propTypes={name:dt.a.string,src:dt.a.string.isRequired,id:dt.a.number.isRequired,imageSet:dt.a.string.isRequired,screenCid:dt.a.string.isRequired,requestLayer:dt.a.func.isRequired,activeLayer:dt.a.func,activeLayerId:dt.a.number,currentScreenCid:dt.a.string.isRequired};var Li=function(e){var t=e.onClick,n=e.isLoading,r=e.isLogin?null:I18N.preview.guide_login;return ft.a.createElement(dr.b,{content:{click:r},type:"block",position:"top",arrowed:!1,className:Mi("download"),onClick:t},I18N.preview_panel.download,n?ft.a.createElement(Ii,null):ft.a.createElement(ur.b,{type:"dora",name:"download",className:Mi("icon-download")}))};Li.propTypes={onClick:dt.a.func,isLoading:dt.a.bool,isLogin:dt.a.bool};var Ri=function(){return ft.a.createElement("div",{className:Mi("layer-load")},ft.a.createElement("span",{className:Mi("spinner")}))},Ii=function(){return ft.a.createElement("div",{className:Mi("download-slice-load")},ft.a.createElement(Ri,null))},Ai=function(){return ft.a.createElement("div",{className:Mi("slice-load-wrap")},ft.a.createElement(Ri,null))},Ui=function(){return ft.a.createElement("div",{className:Mi("no-slice")},ft.a.createElement("img",{src:"/images/preview/no-slice@2x.png"}),ft.a.createElement("span",null,I18N.preview_panel.no_slice))},Yi=function(){var e=Ee(regeneratorRuntime.mark(function e(t,n){var r,o,a,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=!0,o=void 0,a=1;case 3:if(!r){e.next=23;break}if(!ki){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,fi(t);case 8:if(i=e.sent,s=i.url,"ok"!==(c=i.status)){e.next=16;break}r=!1,o=s,e.next=18;break;case 16:return e.next=18,Object(rt.o)(Math.min(2e3*a++,1e4));case 18:if(!(a>20)){e.next=21;break}return Object(rt.e)(),e.abrupt("return",!1);case 21:e.next=3;break;case 23:return Object(rt.f)({url:"/"+o,name:n,type:"zip"}),e.abrupt("return",!0);case 25:case"end":return e.stop()}},e,Ti)}));return function(t,n){return e.apply(this,arguments)}}(),Wi=Object(nt.connect)(function(e){var t=e.model,n=t.current,r=n.screenCid,o=n.projectCid,a=t.user,i=e.container.slices;return{slicesMap:i.slices,loading:i.loading,error:i.error,isLogin:!!a.id,projectCid:o,currentScreenCid:r}})(Pi),Fi=n("DEIr"),Bi=n("Am6F"),Hi=n.n(Bi),zi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qi={screenSearch:""},Vi=mr.a.bind(Hi.a),Gi=new Set(["demo","cS1AXKF5jtrJePbEKiYcdcHosQPdzrk","workout","sI3GY2tDz76RrZ4MGFiIcZTZpAHyluC","UMQzYmknxWeHNvvVyeyJDuSkgyvi6Xw","9Py1L5RdC8ZPRSmnWEt4uuUUSDUAxkM"]),Ki=function(e){function t(n){Me(this,t);var r=ke(this,e.call(this,n));r.renderRightNav=function(e,t){var n=r.props.project,o=r.state.value;return 0==e?ft.a.createElement("div",{className:Vi("search-container")},ft.a.createElement("div",{className:"search-box"},ft.a.createElement($i,{onChange:r.handleSearch,value:o}),ft.a.createElement("div",{className:"screen-mode-tab"},ft.a.createElement(dr.b,{content:{hover:I18N.preview.list_mode},duration:1e3,position:"bottom",tipClassName:"marign-top-20"},ft.a.createElement(ur.b,{type:"dora",name:"list",className:t?"fs-color-gray":"",onClick:r.handleClick})),ft.a.createElement(dr.b,{content:{hover:I18N.preview.image_mode},duration:1e3,position:"bottom",tipClassName:"marign-top-20"},ft.a.createElement(ur.b,{type:"dora",name:"cover",className:t?"":"fs-color-gray",onClick:r.handleClick})))),t?ft.a.createElement(Ga,null):ft.a.createElement(ui,null)):ft.a.createElement(Wi,{projectName:n.name})},r.handleClick=function(){var e=r.props.toolbarActiveItem;MB.event("在"+rt.a[e]+",点击了"+(r.state.imageMode?"列表":"缩略图"),"运行页"),r.setState(function(e){return{imageMode:!e.imageMode}})},r.handleSearch=function(e){var t=e.target.value;r.debounceSearch(t.toLowerCase()),r.setState({value:t})},r.debounceSearch=Sa()(function(e){MB.event("使用了页面搜索","运行页"),r.props.dispatch({type:"reducer:preview-panel:search",payload:{screenSearch:e}})},300),r.handleTabChange=function(e){r.setState({activeIndex:e})},r.toggleMinimized=function(){var e=r.props.toolbarActiveItem;r.setState(function(e){return{isMinimized:!e.isMinimized}}),MB.event(rt.a[e]+",点击了"+(r.state.isMinimized?"展开":"收起")+"列表","运行页")};var o=n.isDemo;return r.getContainerRef=function(e){return r.containerRef=e},r.getScrollRef=function(e){return r.scrollRef=e},r.scrollRef=null,r.state={isMinimized:!1,imageMode:o,value:"",activeIndex:0},r}return Pe(t,e),t.prototype.componentWillReceiveProps=function(e){"inspect"!==e.toolbarActiveItem&&this.setState({activeIndex:0})},t.prototype.componentDidUpdate=function(e,t){t.isMinimized!==this.state.isMinimized&&Ne(this.state.isMinimized,this.containerRef)},t.prototype.render=function(){var e=this.props,t=e.isDemo,n=e.screensCount,r=e.toolbarActiveItem,o=e.isLoggedIn,a=this.state,i=a.isMinimized,s=a.imageMode,c=a.activeIndex,u=[{type:"dora",label:Zi+" ("+n+")",icon:"file_text"},{type:"dora",label:Xi,icon:"slice"}],l="inspect"==r&&!MB.isOffline(),d=l?u:u.slice(0,1),p=Vi({"preview-panel":!0,minimized:i,mhide:!0}),f=Vi({"panel-toggle-minimize":!0,minimized:i}),h=Vi("preview-panel-nav",{"single-nav":!l});return ft.a.createElement("div",{className:"wrap-preview-panel",ref:this.getContainerRef},ft.a.createElement("div",{className:p},ft.a.createElement(ro.b,{tabs:d,activeIndex:c,onChange:this.handleTabChange,className:h,hideBorder:!0}),ft.a.createElement("div",{className:"preview-panel-nav-line",style:{opacity:l?0:1}}),this.renderRightNav(c,s),ft.a.createElement("div",{className:f,onClick:this.toggleMinimized},ft.a.createElement(ur.b,{type:"fa",name:"angle-right",className:"toggle-icon"}))),ft.a.createElement(Fi.b,{isLoggedIn:o,isDemo:t}))},t}(pt.PureComponent);Ki.propTypes={project:dt.a.object.isRequired,screensCount:dt.a.number.isRequired,toolbarActiveItem:dt.a.string.isRequired,isLoggedIn:dt.a.bool,isDemo:dt.a.bool,dispatch:dt.a.func};var $i=function(e){var t=e.onChange,n=e.value;return ft.a.createElement("div",{className:Hi.a.search},ft.a.createElement(ur.b,{type:"dora",name:"scale"}),ft.a.createElement("input",{type:"text",placeholder:I18N.preview.search,onChange:t,value:n}))};$i.propTypes={onChange:dt.a.func,value:dt.a.string};var Ji=window.I18N.preview,Zi=Ji.pages,Xi=Ji.images,Qi="240px",es=Object(rt.h)(function(e,t){return e.find(function(e){return e.cid===t})}),ts=Object(nt.connect)(function(e){var t=e.model,n=t.user,r=t.current.projectCid,o=t.projects,a=t.screens,i=e.container.previewSetting.toolbarActiveItem,s=!!n.id,c=es(o,r),u=Gi.has(c.access_token);return{isLoggedIn:s,screensCount:a.reduce(function(e,t){return t.project_cid===r?e+1:e},0),project:c,isDemo:u,toolbarActiveItem:i}})(Ki),ns=function(e){return window.MBArtboards?{artboards:Object.values(window.MBArtboards).map(function(e){return e.artboard})}:Object(nn.a)("/api/v2/projects/"+e+"/artboards.json")},rs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},os=regeneratorRuntime.mark(De),as=regeneratorRuntime.mark(Le),is=regeneratorRuntime.mark(Re),ss=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cs={artboards:[],error:!1},us=n("GF1g"),ls=n.n(us),ds=function(e){function t(){return Ie(this,t),Ae(this,e.apply(this,arguments))}return Ue(t,e),t.prototype.render=function(){var e=this.props,t=e.project,n=e.shellType,r=Ye(n,t,e.isLandscape),o="device"===n&&null===r?"none":n;return ft.a.createElement("div",{className:ls.a.shell+" "+o,style:r})},t}(pt.PureComponent),ps=ds;ds.propTypes={project:dt.a.object,shellType:dt.a.string,isLandscape:dt.a.bool};var fs=function(e,t,n){if(!t)return e.scale;var r=t.width/e.width,o=t.width===e.width;return(n?o?1:Object(rt.m)(t.width/e.height):Object(rt.m)(r))*e.scale},hs=function(e){return 100===e?"":"scale("+e/100+")"},ms=function(e){function t(){return Fe(this,t),Be(this,e.apply(this,arguments))}return He(t,e),t.prototype.render=function(){var e=this.props,t=e.project,n=e.screen,r=e.isLite,o=e.isImmersive,a=e.viewportWidth,i=e.viewportHeight,s=e.projectScale,c=t.splash,u=void 0===c?"":c,l=t.device,d=void 0===l?"":l,p=We(n,t,{width:a,height:i},s,r,o),f=n.orientation+" "+t.device+" "+t.model+" x100";return ft.a.createElement("div",{id:"simulator",className:f,style:p},ft.a.createElement("div",{id:"app",className:"screens"},ft.a.createElement("div",{id:"gs"}),ft.a.createElement("div",{id:"gh",className:"fixed "+d}),ft.a.createElement("div",{id:"gf",className:"fixed"})),ft.a.createElement("div",{className:"splash"},u&&ft.a.createElement("img",{src:u}),ft.a.createElement("div",{className:"loading"},ft.a.createElement("div",{className:"spinner"}))))},t}(pt.PureComponent),ys=ms;ms.propTypes={project:dt.a.object,projectScale:dt.a.number,screen:dt.a.object,isLite:dt.a.bool,isImmersive:dt.a.bool,viewportWidth:dt.a.number,viewportHeight:dt.a.number,dispatch:dt.a.func};var vs=Object(nt.connect)(function(e){var t=e.model,n=t.current,r=t.projects,o=t.screens,a=e.container,i=a.previewSetting.toolbarActiveItem,s=a.artboards.artboards,c=gs(r,n.projectCid),u=bs(o,n.screenCid),l="comment"==i,d=i==ot||l,p=s[n.screenCid],f=MB.isMobile(),h=MB.isEmbedded(),m=f||h,y=h&&"landscape"===Project.find(c.cid).homeScreen().orientation?[c.height,c.width]:[c.width,c.height],v=h?y:[window.innerWidth,window.innerHeight],g=v[0],b=v[1],w=Math.min(c.width,c.height),_=u.width!==w;return{isLite:m,projectScale:d?fs(c,p,_):c.scale,project:c,screen:u,isImmersive:d,viewportWidth:g,viewportHeight:b}})(ys),gs=Object(rt.h)(function(e,t){return e.find(function(e){return e.cid===t})}),bs=Object(rt.h)(function(e,t){return e.find(function(e){return e.cid===t})}),ws=(n("41bs"),function(e){function t(){return ze(this,t),qe(this,e.apply(this,arguments))}return Ve(t,e),t.prototype.render=function(){var e=this.props.scale;return ft.a.createElement("div",{id:"sticky-container",style:{transform:"scale("+e/100+")"}},ft.a.createElement("div",{id:"stickies"}))},t}(pt.PureComponent)),_s=ws;ws.propTypes={scale:dt.a.number};n("BzO5");var Os=function(e){function t(n){Ge(this,t);var r=Ke(this,e.call(this,n));return r.scrollToCenter=function(){if(r.$container){var e=r.props.project.template?window.innerWidth-240:window.innerWidth,t=r.$viewport.getBoundingClientRect(),n=t.left,o=(e-t.width)/2;r.$container.scrollTop=0,r.$container.scrollLeft+=n-o}},r.getIsImmersive=function(){var e=r.props,t=e.isLayerActive;return e.isCommentActive||t},r.getIsMobile=function(){var e=r.props.project.device;return"iphone"===e||"android"===e},r.getColor=function(e){var t=Object(rt.n)(e);r.props.dispatch({type:"reducer:preview-toolbar:update",payload:{userPickColor:t}})},r.handleKeyDown=function(e){var t=e.target.matches("input")||e.target.matches("textarea"),n=32===e.keyCode;r.isSpaceKeyDown=n,n&&!t&&(r.$container.classList.add("wait-drag"),e.preventDefault())},r.handleKeyUp=function(e){r.resetSpaceKeyDown(),r.$container.classList.remove("wait-drag")},r.cancelPickerMode=function(){return r.props.dispatch({type:"reducer:preview-toolbar:update",payload:{isShowColorPicker:!1}})},r.handleMouseDown=function(e){r.isSpaceKeyDown&&r.handleDrag(e),!r.getIsImmersive()&&r.getIsMobile()&&r.$container.classList.add("preview-active")},r.handleMouseUp=function(e){!r.getIsImmersive()&&r.getIsMobile()&&r.$container.classList.remove("preview-active")},r.handleDrag=function(e){function t(e){o.scrollLeft=s-(e.clientX-a),o.scrollTop=c-(e.clientY-i)}function n(e){document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",n),o.classList.remove("dragging")}var o=r.$container;o.classList.add("dragging");var a=e.clientX,i=e.clientY,s=o.scrollLeft,c=o.scrollTop;document.addEventListener("mousemove",t),document.addEventListener("mouseup",n)},n.dispatch({type:"reducer:artboards:init"}),r.setContainerRef=function(e){return r.$container=e},r.setViewportRef=function(e){return r.$viewport=e},r.setContentElementRef=function(e){return r.contentElementRef=e},r.getContentElementRef=function(){return r.contentElementRef},r.resetSpaceKeyDown=function(){r.isSpaceKeyDown=!1},r.resetSpaceKeyDown(),r}return $e(t,e),t.prototype.componentDidMount=function(){setTimeout(this.scrollToCenter,200)},t.prototype.componentDidUpdate=function(e,t){e.project.scale===this.props.project.scale&&e.screen.orientation===this.props.screen.orientation&&e.isCommentActive===this.props.isCommentActive&&e.isLayerActive===this.props.isLayerActive&&e.screen.cid===this.props.screen.cid||this.scrollToCenter()},t.prototype.render=function(){var e=this.props,t=e.project,n=e.screen,r=e.isLayerActive,o=e.isColorPickerActive,a=e.snapshot,i=e.projectScale,s=e.sketchScale,c="landscape"===n.orientation,u=this.getIsImmersive(),l=a+"&"+Date.now(),d=u?"none":t._shell_type,p=Project.find(t.cid)||Template.find(t.cid),f=p.deviceShell()||p.defaultShell(),h=!u&&this.getIsMobile(),m=void 0,y=void 0;if("device"===d&&f.bg){var v=c?[f.height,f.width]:[f.width,f.height];m=v[0],y=v[1]}else{var g=c?[t.height,t.width]:[t.width,t.height];m=g[0],y=g[1]}var b={width:Cs(u,n,m,s),height:Es(u,n,t,y,s)},w={};if(u)w={width:Math.round(n.width*s/100),height:Math.round(n.height*s/100)};else{var _=Math.round(t.width*i/100),O=Math.round(t.height*i/100),S=c?[O,_]:[_,O];w={width:S[0],height:S[1]}}return ft.a.createElement("div",{id:"simulator-container",ref:this.setContainerRef,className:vt()({"is-immersive":u,"is-layer-active":r,"preview-normal":h}),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp},ft.a.createElement("div",{id:"simulator-wrapper",ref:this.setContentElementRef,style:b},ft.a.createElement("div",{ref:this.setViewportRef,className:"screen-viewport",style:w},ft.a.createElement(vs,null),!u&&ft.a.createElement(ps,{project:t,shellType:d,isLandscape:c}),ft.a.createElement(_s,{scale:s}),ft.a.createElement("div",{className:"no-zoom-area"},ft.a.createElement("div",{id:"ui-layers",className:"ui-layers "+(r?"is-active":"")},o&&ft.a.createElement(ta,{pickColor:this.getColor,src:l,width:"100%",height:"100%",cancelPick:this.cancelPickerMode,scale:1}),r&&!o&&ft.a.createElement(Xt,null)),ft.a.createElement("div",{id:"ui-comment-marker-panel"},ft.a.createElement(eo,{getContentElement:this.getContentElementRef,scale:.01*i}))))),ft.a.createElement(mt.a,{onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp}))},t}(pt.PureComponent),Ss=Os;Os.propTypes={artboard:dt.a.object,project:dt.a.object,screen:dt.a.object,projectScale:dt.a.number,sketchScale:dt.a.number,snapshot:dt.a.string,isLayerActive:dt.a.bool,isCommentActive:dt.a.bool,isColorPickerActive:dt.a.bool,isPreview:dt.a.bool,dispatch:dt.a.func};var Cs=Object(rt.h)(function(e,t,n,r){var o=r/100;if(e)return Math.round(t.width*o+200);var a=0,i=n;Widget.each(function(e){"sticky"===e.name&&(a=Math.min(a,e.left),i=Math.max(i,e.left+e.width))});var s=n/2,c=2*Math.max(s-a,i-s);return Math.round(c*o+240)}),Es=function(e,t,n,r,o){return e?t.height*o/100+64+12+20:"web"===n.device?n.height*o/100:r*o/100+50},js=Object(nt.connect)(function(e){var t=e.model,n=t.current,r=t.projects,o=t.screens,a=e.container,i=a.previewSetting,s=i.toolbarActiveItem,c=i.isShowColorPicker,u=a.artboards.artboards,l=xs(r,n.projectCid),d=n.screenCid,p=Ts(o,d),f="inspect"==s,h="comment"==s,m="preview"==s,y=f||h,v=l.access_token,g=Ms(v,d),b=u[d],w=Math.min(l.width,l.height),_=p.width!==w;return{project:l,screen:p,isLayerActive:f,isPreview:m,artboard:b,isCommentActive:h,snapshot:g,sketchScale:y?fs(l,b,_):l.scale,projectScale:l.scale||100,isColorPickerActive:c}})(Ss),xs=Object(rt.h)(function(e,t){return e.find(function(e){return e.cid===t})}),Ts=Object(rt.h)(function(e,t){return e.find(function(e){return e.cid===t})}),Ms=function(e,t){return"/snapshot.png?access-token="+e+"&screen-cid="+t+"&mode=zoom-1.00"},ks=n("wFrT"),Ps=n("t7F0"),Ns=function(e){var t,n,r,o,a,i,s,c,u,l,d,p,f,h,m,y,v=e.attr,g=e.language,b=e.unit,w=Object(an.f)(g),_=v.width,O=v.height,S=v.lineHeight,C=v.opacity,E=v.borderRadius,j=v.borderWidth,x=v.borderColor,T=v.backgroundColor,M=v.color,k=v.fontSize,P=v.fontFamily,N=v.fontStyle,D=v.boxShadow,L=v.textAlign,R=v.x,I=v.y,A=R&&(t={},t[Ls[w].x]=Ds(R,b,w),t),U=I&&(n={},n[Ls[w].y]=Ds(I,b,w),n),Y=_&&(r={},r[Ls[w].width]=Ds(_,b,w),r),W=O&&(o={},o[Ls[w].height]=Ds(O,b,w),o),F=S&&(a={},a[Ls[w].lineHeight]=Ds(S,b,w),a),B=C&&(i={},i[Ls[w].opacity]=Ds(C,b,w),i),H=E&&(s={},s[Ls[w].borderRadius]=Ds(E,b,w),s),z=T&&(c={},c[Ls[w].backgroundColor]=Ds(T,b,w,!0),c),q=M&&(u={},u[Ls[w].color]=Ds(M,b,w,!0),u),V=k&&(l={},l[Ls[w].fontSize]=Ds(k,b,w),l),G=P&&(d={},d[Ls[w].fontFamily]=Ds(P,b,w),d),K=N&&(p={},p[Ls[w].fontStyle]=Ds(N,b,w),p),$=D&&(f={},f[Ls[w].shadows]=D,f),J=j&&(h={},h[Ls[w].borderWidth]=Ds(j,b,w),h),Z=x&&(m={},m[Ls[w].borderColor]=Ds(x,b,w,!0),m),X=L&&(y={},y[Ls[w].textAlign]=L,y),Q={};return Object.assign(Q,A,U,Y,W,F,B,H,J,Z,z,q,V,K,X,$,G)},Ds=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e=e.toString(),"pt"!==n?e.replace(t,n):r?Object(Ps.d)(e):e.replace(t,"")},Ls={px:{x:"left",y:"top",width:"width",height:"height",lineHeight:"line-height",opacity:"opacity",border:"border",borderRadius:"border-radius",borderColor:"border-color",borderWidth:"border-width",backgroundColor:"background-color",color:"color",fontSize:"font-size",fontFamily:"font-family",fontStyle:"font-style",textAlign:"text-align",shadows:"box-shadow",innerShadows:"inner-shadow"},dp:{x:"left",y:"top",width:"layout_width",height:"layout_height",border:"border",opacity:"opacity",color:"textColor",fontSize:"textSize",fontFamily:"font-family",fontStyle:"font-style",textAlign:"gravity",backgroundColor:"background",borderRadius:"radius",borderColor:"border-color",lineHeight:"line-height",borderWidth:"border-width",shadows:"box-shadow",innerShadows:"inner-shadow"},pt:{x:"x",y:"y",width:"width",height:"height",opacity:"opacity",border:"border",backgroundColor:"backgroundColor",color:"text-color",textAlign:"alignment",fontSize:"fontSize",fontFamily:"fontFamily",fontStyle:"font-style",borderRadius:"cornerRadius",borderColor:"borderColor",borderWidth:"border-width",lineHeight:"lineSpacing"}},Rs=n("C53q"),Is=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},As=function(e){var t=e.layer,n=e.unit,r=e.ratio,o=e.showGlobal,a=e.userPickColor,i=void 0===a?[]:a,s=e.globalColor,c=void 0===s?[]:s,u=e.globalText,l=void 0===u?[]:u,d=e.documentColor,p=void 0===d?[]:d,f=e.screenColor,h=void 0===f?[]:f,m=e.language,y=e.colorUnit,v=e.dispatch,g=t.src_left,b=t.src_top,w=t.src_width,_=t.src_height,O=t.bd_radius,S=t.line_height,C=t.bg_colors,E=void 0===C?[]:C,j=t.borders,x=void 0===j?[]:j,T=t.i,M=t.name,k=t.padding,P=void 0===k?0:k,N=t.hiddSpacing,D=void 0!==N&&N,L=t.text_styles,R=void 0===L?[]:L,I=t.alignment,A=t.vertical_alignment,U=t.image,Y=t.text,W=t.letter_spacing,F=t.image_set_zip,B=t.shadows,H=void 0===B?[]:B,z=t.inner_shadows,q=void 0===z?[]:z,V=t.rotation,G=t.textShadows,K=void 0===G?[]:G,$=t.image_set,J=void 0===$?[]:$,Z=x.length>0,X=E.length>0,Q=!!U,ee=R.length>0&&Y&&Object(an.e)(Y).length,te=H.length>0||K.length>0,ne=q.length>0,re=F,oe={left:g,top:b,width:w,height:_,borderRadius:O,opacity:t.o,rotation:V,ratio:r,unit:n},ae=Object(an.b)(oe),ie=ae.adapterLeft,se=ae.adapterTop,ce=ae.adapterWidth,ue=ae.adapterHeight,le=ae.radius,de=ae.opacity,pe=ae.rotate,fe={lineHeight:S,letterSpacing:W,fontStyle:T,unit:n,ratio:r},he=Object(an.d)(fe),me=he.lineHeight,ye=he.letterSpacing,ve=he.fontStyle,ge={textStyles:R,background:E,borders:x,shadows:H,innerShadows:q,colorUnit:y,ratio:r,unit:n},be=Object(an.c)(ge),we=t.o&&100!=t.o?t.o/100:null,_e=Ns({attr:Is({x:ie,y:se,width:ce,height:ue,lineHeight:me,textAlign:I,opacity:we,borderRadius:le},be),language:m,unit:n}),Oe=Q?"ImageView":ee?"TextView":"View";return o?ft.a.createElement(Rs.h,{adapterWidth:ce,adapterHeight:ue,documentColor:p,globalText:l,globalColor:c,screenColor:h,userPickColor:i,colorUnit:y,dispatch:v}):ft.a.createElement("div",null,ft.a.createElement(Rs.j,{value:M}),ft.a.createElement(Rs.b,{adapterTop:se,adapterLeft:ie,adapterWidth:ce,adapterHeight:ue,rotate:pe,radius:le,opacity:de,unit:n,colorUnit:y}),ee&&ft.a.createElement(Rs.m,{textStyles:R,alignment:I,vertical_alignment:A,lineHeight:me,letterSpacing:ye,ratio:r,unit:n,o:t.o,padding:P,fontStyle:ve,colorUnit:y,hiddSpacing:D,text:Object(an.e)(Y)}),X&&ft.a.createElement(Rs.g,{backgroundColorSort:E,colorUnit:y}),Z&&ft.a.createElement(Rs.c,{borderSort:x,ratio:r,unit:n,colorUnit:y}),te&&ft.a.createElement(Rs.l,{shadows:H,textShadows:K,colorUnit:y,unit:n,ratio:r}),ne&&ft.a.createElement(Rs.l,{shadows:q,colorUnit:y,unit:n,ratio:r,isInnerShaow:!0}),re&&ft.a.createElement(Rs.i,{imageSetZip:F,name:t.name,imageSet:J}),ft.a.createElement(Rs.d,{code:_e,whichAndView:Oe,language:m,text:Object(an.e)(Y)||""}))};As.propTypes={userPickColor:dt.a.array,screenColor:dt.a.array,documentColor:dt.a.array,globalText:dt.a.array,globalColor:dt.a.array,colorUnit:dt.a.string,layer:dt.a.object,getLayerRef:dt.a.func,showGlobal:dt.a.bool,unit:dt.a.string,ratio:dt.a.number,language:dt.a.string,dispatch:dt.a.func};var Us=As,Ys=n("V33R"),Ws=n.n(Ys),Fs=n("SlD4"),Bs=n.n(Fs),Hs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zs=function(e){function t(){Je(this,t);var n=Ze(this,e.call(this));return n.getScrollLayerRef=function(e){return n.layerRef=e},n.state={error:!1},n}return Xe(t,e),t.prototype.componentDidMount=function(){this.clipBoard=new Ws.a('[data-type="copy"]')},t.prototype.componentWillUnmount=function(){$(this.layerRef).perfectScrollbar("destroy"),this.clipBoard.destroy()},t.prototype.componentWillReceiveProps=function(e){e.screenCid!=this.props.screenCid&&this.props.dispatch({type:"reducer:preview-toolbar:update",payload:{isSelectLayer:!1}})},t.prototype.componentDidUpdate=function(e){e.layer!=this.props.layer&&$(this.layerRef).perfectScrollbar({suppressScrollX:!0}),e.layer&&this.props.layer&&e.layer.id!=this.props.layer.id&&this.layerRef&&(this.layerRef.scrollTop=0)},t.prototype.componentDidCatch=function(e){this.setState({error:!0}),console.error(e)},t.prototype.render=function(){var e=this.props,n=e.isSelectLayer,r=e.layer,o=this.state.error;return ft.a.createElement("div",{className:Bs.a.previewPanelLayer},r?ft.a.createElement("div",{className:Bs.a.layerInfo,ref:this.getScrollLayerRef},o?ft.a.createElement(t.Error,null):ft.a.createElement(Us,Hs({},this.props,{showGlobal:!n}))):ft.a.createElement(Rs.k,null))},t}(pt.PureComponent);zs.Error=function(){return ft.a.createElement("div",null,"Sorry!Error happend, Please refresh it")},zs.propTypes={colorUnit:dt.a.string.isRequired,isSelectLayer:dt.a.bool.isRequired,unit:dt.a.string.isRequired,ratio:dt.a.number.isRequired,layer:dt.a.object,screenCid:dt.a.string,dispatch:dt.a.func.isRequired};var qs=Object(nt.connect)(function(e){var t=e.container,n=t.layers,r=n.activeLayerID,o=n.visibilityScreenID,a=n.resourceByScreen,i=t.previewSetting,s=e.model,c=s.current,u=c.screenCid,l=c.projectCid,d=s.projects,p=i.isSelectLayer,f=Gs(d,l).device,h=Ks(p,a,o,r),m=Vs(a,o,f);return Hs({},i,{layer:h},m,{screenCid:u})})(zs),Vs=Object(rt.h)(function(e,t,n){var r=[],o=[],a=[],i=[],s=e[t];if(s){var c=s.layers,u=Object(an.g)(c);r=u.screenColor,i=u.globalText,o=s.documentColor,a=s.globalColor}return{screenColor:r,documentColor:o,globalColor:a,globalText:i}}),Gs=Object(rt.h)(function(e,t){return e.find(function(e){return e.cid===t})}),Ks=Object(rt.h)(function(e,t,n,r){var o=t[n];if(!o||o.layers&&0==o.layers.length)return null;var a=o.layers;return e?xt()(a,function(e){return e.id===r}):Hs({},a[0])}),$s=n("U4Qx"),Js=n.n($s),Zs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xs=mr.a.bind(Js.a),Qs=window,ec=Qs.MB,tc=Qs.I18N,nc=new Set(["ai@mockingbot.com","ethantw@me.com"]),rc=function(e){function t(n){Qe(this,t);var r=et(this,e.call(this,n));return r.handleClick=function(){cc(),r.setState({showLoadtip:!1})},ic(n),n.dispatch({type:"entry:unread-comment:init"}),r.state={showLoadtip:!0},r}return tt(t,e),t.prototype.componentWillUnmount=function(){this.props.dispatch({type:"entry:preview:clear"})},t.prototype.componentWillUpdate=function(e){this.props.project!==e.project&&ic(e)},t.prototype.render=function(){var e=this.props,t=e.dispatch,n=e.isLite,r=e.project,o=r.owner_email,a=r.master,i=e.previewSetting,s=e.isProjectFromOtherFreeUser,c=e.userId,u=this.state.showLoadtip;if(n)return ft.a.createElement(vs,null);var l=i.toolbarActiveItem,d=l==ot,p="comment"==l,f=!window.isElectron&&d&&u&&sc(),h=!!c,m=!a&&"preview"===l&&(nc.has(o)||s);return ft.a.createElement("div",{className:Xs({"is-offline-mode":ec.isOffline()})},ft.a.createElement(_a,null),d&&ft.a.createElement(Lo,Zs({dispatch:t,isCommentActive:p,isLayerActive:d,isLogin:h},i)),ft.a.createElement("div",{className:Xs("adjust-container","preview-content-container")},p&&ft.a.createElement($r,null),d&&ft.a.createElement(qs,null),ft.a.createElement(js,null),ft.a.createElement(ts,null)),m&&ft.a.createElement("a",{className:"powered-by mhide",href:"/",target:"_blank"},ft.a.createElement("img",{className:"zh",src:"/images/preview/watermark_zh.svg",alt:tc.preview.powered_by_modao}),ft.a.createElement("img",{className:"en",src:"/images/preview/watermark_en.svg",alt:tc.preview.powered_by_modao})),ft.a.createElement(ac,{isActive:f,onClick:this.handleClick}))},t}(pt.Component);rc.propTypes={isLite:dt.a.bool,project:dt.a.object,isSelectLayer:dt.a.bool,previewSetting:dt.a.object,layer:dt.a.object,isProjectFromOtherFreeUser:dt.a.bool,userId:dt.a.number,dispatch:dt.a.func};var oc=rc,ac=function(e){var t=e.isActive,n=e.onClick;return t?ft.a.createElement("div",{className:"download-client-tip"},ft.a.createElement(ur.b,{type:"fa",name:"info-circle",className:"download-client-tip-icon"}),ft.a.createElement("span",null,ft.a.createElement("a",{href:"/downloads",rel:"noopener noreferrer",target:"_blank"},tc.preview.client_load_a)," ",tc.preview.client_load_tip),ft.a.createElement(ur.b,{type:"dora",name:"times_fc",className:"download-client-close-icon",onClick:n})):null};ac.propTypes={isActive:dt.a.bool.isRequired,onClick:dt.a.func.isRequired};var ic=function(e){var t=e.project,n=e.isProjectFromOtherFreeUser;return Yn({allowComment:t.limitation.commentable,denyMessage:ec.renewMsg("cant_comment",{role:n?t.team_cid?"team":"project":"user"})})},sc=function(){return!localStorage.getItem("close_client_load_tip")},cc=function(){return localStorage.setItem("close_client_load_tip","true")};n.d(t,"a",function(){return uc}),n.d(t,"b",function(){return pc}),n.d(t,"c",function(){return fc});var uc=Object(nt.connect)(function(e){var t=e.model,n=t.current,r=t.projects,o=t.user,a=e.container.previewSetting,i=a.toolbarActiveItem,s=a.isSelectLayer,c=lc(r,n.projectCid),u=MB.isMobile()||MB.isEmbedded();return{isLayerActive:i===ot,isCommentActive:"comment"===i,previewSetting:a,isProjectFromOtherFreeUser:dc(c,n.userId),isLite:u,isSelectLayer:s,project:c,userId:o.id}})(oc),lc=Object(rt.h)(function(e,t){return e.find(function(e){return e.cid===t})}),dc=Object(rt.h)(function(e,t){return t!==e.owner_id&&e.expired}),pc={alert:ks.a.reducers,comment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn,t=arguments[1],n=t.type,r=t.payload;switch(n){case"container:comment:focus":return Xn({},e,{focus:r.focus,from:r.from});case"container:comment:select":return Xn({},e,{focus:r.select&&e.focus,select:r.select,from:r.from})}return e},layers:Dn,previewSetting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ua,t=arguments[1],n=t.type,r=t.payload;switch(n){case"reducer:preview-toolbar:sub-bar:active":case"reducer:preview-toolbar:update":return ca({},e,r);case"reducer:preview-toolbar:active-item:init":return ca({},e,{toolbarActiveItem:at});default:return e}},screens:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qi,t=arguments[1],n=t.type,r=t.payload;switch(n){case"reducer:preview-panel:search":return zi({},e,r);case"reducer:preview-panel:reset":return qi;default:return e}},artboards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cs,t=arguments[1],n=t.type,r=t.payload;switch(n){case"reducer:artboards:success":return ss({},e,r);case"reducer:artboards:fail":return ss({},e,r,{error:!0});default:return e}},slices:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wi,t=arguments[1],n=t.type,r=t.payload;switch(n){case"reducer:slice:success":return bi({},e,r,{loading:!1});case"reducer:slice:fail":return bi({},e,r,{error:!0});default:return e}}},fc={layerSaga:h,sliceSaga:ve,artboardsSaga:De}},jMi8:function(e,t,n){var r=n("O1jc"),o=n("mKB/"),a=n("Ilb/"),i=n("hrPF"),s=n("WQFf"),c=n("1Yb9"),u=n("NGEn"),l=n("Fp5l"),d=n("ggOT"),p=n("gGqR"),f=n("yCNF"),h=n("9UkZ"),m=n("YsVG"),y=n("TlPD");e.exports=function(e,t,n,v,g,b,w){var _=e[n],O=t[n],S=w.get(O);if(S)r(e,n,S);else{var C=b?b(_,O,n+"",e,t,w):void 0,E=void 0===C;if(E){var j=u(O),x=!j&&d(O),T=!j&&!x&&m(O);C=O,j||x||T?u(_)?C=_:l(_)?C=i(_):x?(E=!1,C=o(O,!0)):T?(E=!1,C=a(O,!0)):C=[]:h(O)||c(O)?(C=_,c(_)?C=y(_):(!f(_)||v&&p(_))&&(C=s(O))):E=!1}E&&(w.set(O,C),g(C,O,v,b,w),w.delete(O)),r(e,n,C)}}},"kbi+":function(e,t,n){var r=n("eHwr")(n("KgVm"));e.exports=r},ktak:function(e,t,n){var r=n("f931")(Object.keys,Object);e.exports=r},kxzG:function(e,t){e.exports=function(e){return e}},lAob:function(e,t){e.exports=function(e){return e}},lGpV:function(e,t,n){var r=n("ZT2e"),o=n("xdPp");e.exports=function(e){return o(r(e).toLowerCase())}},"lI4/":function(e,t){},lgh0:function(e,t,n){"use strict";(function(e){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":g(t))&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":g(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t,n,r){return!e.addEventListener&&(t="on"+t),(e.addEventListener||e.attachEvent).call(e,t,n,r),n}function s(e,t,n,r){return!e.removeEventListener&&(t="on"+t),(e.removeEventListener||e.detachEvent).call(e,t,n,r),n}var c=n("GiK3"),u=n.n(c),l=n("O27J"),d=n.n(l),p=n("KSGD"),f=n.n(p),h=n("cF0m"),m=n("Zb5Q"),y=n("9aC9"),v=n("5/ex"),g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b=["onAbort","onAnimationEnd","onAnimationIteration","onAnimationStart","onBlur","onCanPlay","onCanPlayThrough","onClick","onContextMenu","onCopy","onCut","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onFocus","onInput","onInvalid","onKeyDown","onKeyPress","onKeyUp","onLoad","onLoadedData","onLoadedMetadata","onLoadStart","onMouseDown","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onPaste","onPause","onPlay","onPlaying","onProgress","onRateChange","onReset","onScroll","onSeeked","onSeeking","onStalled","onSubmit","onSuspend","onTimeUpdate","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onTransitionEnd","onVolumeChange","onWaiting","onWheel"],w=["onAfterPrint","onBeforePrint","onBeforeUnload","onDeviceLight","onDeviceMotion","onDeviceOrientation","onDeviceProximity","onHashChange","onLanguageChange","onPopState","onRejectionHandled","onResize","onSelect","onStorage","onUnhandledRejection","onUnload","onUserProximity"],_=["onPointerCancel","onPointerDown","onPointerEnter","onPointerLeave","onPointerMove","onPointerOut","onPointerOver","onPointerUp"],O=(b.concat(w).concat(_),b.concat(_),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),S=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,u.a.Component),O(t,[{key:"componentDidMount",value:function(){this.props.enabled&&this.bindHandlers()}},{key:"componentWillUnmount",value:function(){this.unbindHandlers()}},{key:"componentWillReceiveProps",value:function(e){this.props.enabled&&!e.enabled?this.unbindHandlers():!this.props.enabled&&e.enabled&&this.bindHandlers()}},{key:"getKeys",value:function(){this.props.target,window;return Object.keys(this.props).filter(function(e){return"on"===e.slice(0,2)}).map(function(e){return[e,e.slice(2).toLowerCase()]})}},{key:"bindHandlers",value:function(){this._adjustHandlers(i)}},{key:"unbindHandlers",value:function(){this._adjustHandlers(s)}},{key:"_adjustHandlers",value:function(e){var t=this.props,n="function"==typeof t.target?t.target():t.target;if(n){var r=C?{passive:t.passive,capture:t.capture}:t.capture;this.getKeys().forEach(function(o){e(n,o[1],t[o[0]],r)})}}},{key:"render",value:function(){return null}}]),t}();S.displayName="DocumentEvents",S.defaultProps={capture:!1,enabled:!0,passive:!1,target:e.browser?document:null};var C=function(){try{var e=!1;return document.createElement("div").addEventListener("test",function(){},{get passive(){e=!0}}),e}catch(e){return!1}}(),E=S,j=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},x=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),T=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":g(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},M=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":g(t))&&"function"!=typeof t?e:t},k=[],P=window.I18N,N=void 0===P?{}:P,D="ModalPortal",L=function(e){return e.stopPropagation()},R=document.body,I=document.getElementById("MB_MODAL_ROOT")||Object.assign(document.createElement("div"),{id:"MB_MODAL_ROOT"});R.contains(I)||R.appendChild(I);var A={alert:"AlertModal",form:"FormModal",functional:"FunctionalModal",display:"DisplayModal"},U=function(e){function t(e){j(this,t);var n=M(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Y.call(n);var r=e.isOpen,o=e.portalClassName;return Object.assign(n,{state:{isOpen:r},portal:Object.assign(document.createElement("div"),{className:Object(v.f)([D,o])})}),n}return T(t,e),x(t,[{key:"componentWillMount",value:function(){I.appendChild(this.portal)}},{key:"componentDidMount",value:function(){this.state.isOpen&&this.didOpen(),window.addEventListener("resize",this.positionY)}},{key:"componentWillReceiveProps",value:function(e){var t=e.isOpen,n=this.props.isOpen;!n&&t?this.open():n&&!t&&this.close()}},{key:"componentDidUpdate",value:function(e,t){var n=t.isOpen,r=this.state.isOpen;!n&&r?this.didOpen():n&&!r&&this.didClose()}},{key:"componentWillUnmount",value:function(){this.portal&&this.portal.remove(),R.classList.remove("mb-cant-scroll"),window.removeEventListener("resize",this.positionY)}},{key:"render",value:function(){return this.renderOpener()}},{key:"renderOpener",value:function(){var e=this.props,t=e.opener,n=e.openerType,r=this.state.isOpen,o=this.renderModal();return"none"===n?o:"custom"===n?t?u.a.createElement("span",{onClick:this.toggle},t,o):o:"switch"===n?u.a.createElement(m.a,{isChecked:r,onChange:this.toggle},t,o):u.a.createElement(h.a,{type:n,onClick:this.open},t,o)}},{key:"renderModal",value:function(){return this.props.modal||d.a.createPortal(this.renderModalDOM(),this.portal)}},{key:"renderModalDOM",value:function(){var e=this.props,t=e.type,n=e.title,r=e.children,o=e.maskClassName,a=e.className,i=e.canClose,s=e.canCloseOnClickMask,c=e.onCancel,l=e.cancelText,d=e.isCancelDisabled,p=e.onConfirm,f=e.confirmText,h=e.isConfirmDisabled,m=this.state.isOpen,g="alert"===t&&i||c||p;return m&&u.a.createElement("div",{className:Object(v.f)(["ModalMask",o,i&&s?"can-close":"cant-close"]),onClick:this.onClickMask,onTransitionEnd:this.onTransitionEnd},u.a.createElement("div",{className:Object(v.f)(["Modal",A[t],a]),onClick:L,onTransitionEnd:L},u.a.createElement("header",null,n,i&&u.a.createElement("button",{className:"close-btn",onClick:this.close},u.a.createElement(y.b,{name:"times"}))),u.a.createElement("div",{className:"content"},r),g&&u.a.createElement("footer",null,c&&u.a.createElement("button",{className:"cancel-btn",onClick:this.onCancel,disabled:d,children:l}),("alert"===t||p)&&u.a.createElement("button",{className:"confirm-btn",onClick:this.onConfirm,disabled:h,children:f}))),u.a.createElement(E,{onKeyDown:this.onKeyDown}))}}]),t}(c.PureComponent);U.propTypes={isOpen:f.a.bool,title:f.a.node,children:f.a.node,modal:f.a.node,type:f.a.oneOf(["alert","form","functional","display"]),opener:f.a.node,openerType:f.a.oneOf(["primary","regular","text","switch","custom","none"]),className:f.a.string,maskClassName:f.a.string,portalClassName:f.a.string,onOpen:f.a.func,onClose:f.a.func,onToggle:f.a.func,canClose:f.a.bool,canCloseOnClickMask:f.a.bool,shouldCloseOnAction:f.a.bool,canCloseOnEsc:f.a.bool,canConfirmOnEnter:f.a.bool,onConfirm:f.a.func,confirmText:f.a.string,isConfirmDisabled:f.a.bool,onCancel:f.a.func,isCancelDisabled:f.a.bool,cancelText:f.a.string},U.defaultProps={isOpen:!1,type:"functional",openerType:"none",portalClassName:"",maskClassName:"",className:"",onOpen:function(){return null},onClose:function(){return null},onToggle:function(){return null},canClose:!0,canCloseOnClickMask:!0,canCloseOnEsc:!0,shouldCloseOnAction:!0,canConfirmOnEnter:!0,cancelText:N.cancel||"Cancel",confirmText:N.confirm||"Confirm"};var Y=function(){var e=this;this.open=function(){return e.setState({isOpen:!0})},this.close=function(){return e.portal.classList.remove("is-open")},this.toggle=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:!e.state.isOpen)?e.open():e.close()},this.didOpen=function(){k.unshift(e),e.positionY(),e.focusOnInput(),setTimeout(function(){return e.portal.classList.add("is-open")}),R.classList.add("mb-cant-scroll")},this.didClose=function(){var t=k.indexOf(e);setTimeout(function(){return k.splice(t,1)}),R.classList.remove("mb-cant-scroll")},this.onTransitionEnd=function(){e.portal.classList.contains("is-open")?(e.props.onOpen(),e.props.onToggle(!0)):(e.setState({isOpen:!1}),e.props.onClose(),e.props.onToggle(!1))},this.onConfirm=function(){var t=e.props,n=t.onConfirm,r=t.shouldCloseOnAction,o=t.isConfirmDisabled;"function"!=typeof n||o||n(),r&&e.close()},this.onCancel=function(){var t=e.props,n=t.onCancel,r=t.shouldCloseOnAction,o=t.isCancelDisabled;"function"!=typeof n||o||n(),r&&e.close()},this.positionY=function(){return setTimeout(function(){var t=e.props.type,n=Object(v.a)(".Modal",e.portal);if(n&&"alert"!==t){var r=window.innerHeight,o=n.offsetHeight,a=r<=o||(r-o)/2<.2*r?"add":"remove";n.classList[a]("is-v-centered")}})},this.focusOnInput=function(){var t=Object(v.a)(".content input",e.portal);t&&t.focus()},this.onKeyDown=function(t){var n=t.key,r=t.target,o=e.props,a=o.type,i=o.canClose,s=o.canCloseOnEsc,c=o.canConfirmOnEnter,u=o.onConfirm,l=e.state.isOpen,d=!!Object(v.a)("#MB_SELECT_MENU_ROOT .SelectMenu.is-open");"Escape"===n&&!r.matches("input, textarea, select")&&!d&&l&&i&&s&&!d&&e===k[0]&&e.close(),"Enter"!==n||r.matches("textarea, button")||d||!l||!c||e!==k[0]||!u&&"alert"!==a||e.onConfirm()},this.onClickMask=function(t){L(t);var n=e.props,r=n.canClose,o=n.canCloseOnClickMask,a=!!Object(v.a)("#MB_SELECT_MENU_ROOT .SelectMenu.is-open");r&&o&&!a&&e.close()}};t.a=U}).call(t,n("W2nU"))},"m+Ev":function(e,t){},"mKB/":function(e,t,n){(function(e){var r=n("TQ3y"),o="object"==typeof t&&t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,i=a&&a.exports===o?r.Buffer:void 0,s=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(t,n("3IRH")(e))},n7Jj:function(e,t,n){"use strict";t.a=function(e,t){var n=Object(s.b)();i.a.render(o.a.createElement(e,c({},t,{onClose:function(){return setTimeout(function(){i.a.unmountComponentAtNode(n),document.body.removeChild(n)})}})),n)};var r=n("GiK3"),o=n.n(r),a=n("O27J"),i=n.n(a),s=n("7vNm"),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},nvBK:function(e,t){},nw3t:function(e,t,n){var r=n("p0bc");e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},oXES:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var r={sticky:{bg:"#FFFBBA"},status_bar:{bg:"#f8f8f8"},status_bar_android:{bg:"#555555"},image_view:{bg:"#e5e5e5",tc:"#bec2c9"},rounded_rect:{bg:"#FFFFFF"},circle_rect:{bg:"#FFFFFF"},triangleb:{tc:"#e5e5e5"},triangletl:{tc:"#e5e5e5"},button:{bg:"#ffffff"},navigation_bar:{bg:"#f8f8f8"},tab_bar:{bg:"#f8f8f8"},rectangle:{bg:"#ffffff"},mtext_input:{bg:"#ffffff",tc:"#888888"},mtextarea:{bg:"#ffffff",tc:"#888888"},tc:"#101010",bg:"transparent",bc:"#bbbbbb",sc:"#aaaaaa"},o=["transparent","#ffffff","#3f51b5","#ff4081","#e51c23","#009688","#259b24","#8bc34a","#ff9800"]},octw:function(e,t){e.exports=function(){return[]}},orAw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.createReduxEntry=function(){var e=null,t={},n=function(n){var r=t[n.type];return r&&r(e,n)},r=function(e,n){if("string"!=typeof e)throw new Error("[ReduxEntry][setEntry] non-string actionType: "+e);if("function"!=typeof n)throw new Error("[ReduxEntry][setEntry] non-function entryFunction: "+e+", "+n);t[e]&&console.warn("[ReduxEntry][setEntry] possible unexpected entry overwrite: "+e),t[e]=n};return{middleware:function(t){if("function"!=typeof t.getState||"function"!=typeof t.dispatch)throw new Error("[ReduxEntry][middleware] invalid reduxMiddlewareStore");if(null!==e)throw new Error("[ReduxEntry][middleware] already set reduxMiddlewareStore");return e=t,function(e){return function(t){return!0===n(t)||e(t)}}},setEntry:r,setEntryMap:function(e){return Object.keys(e).forEach(function(t){return r(t,e[t])})}}},t.createStateStore=function(e){if(void 0===e)throw new Error("[ReduxEntry][createStateStore] initialState expected");return{getState:function(){return e},setState:function(t){return e=t},wrapEntry:function(t){return function(n,r){return t(e,n,r)}}}},t.createStateStoreReducer=function(e,t){var n=t.getState,r=t.setState;return function(t,o){var a=o.type,i=o.payload;return a===e&&r(i),n()}},t.createStateStoreMergeReducer=function(e,t){var n=t.getState,o=t.setState;return function(t,a){var i=a.type,s=a.payload;return i===e&&o(r({},n(),s)),n()}}},"p/Rx":function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"e",function(){return l}),n.d(t,"b",function(){return d}),n.d(t,"d",function(){return f}),n.d(t,"g",function(){return h}),n.d(t,"c",function(){return y}),n.d(t,"f",function(){return b});var r=n("C2y9"),o=n.n(r),a=n("WIDu"),i=n.n(a),s=n("t7F0"),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Number(parseFloat((1/t*e).toFixed(2)))+n},u=/<[^>]+>/gi,l=function(e){return!!e&&e.replace(u,"")},d=function(e){var t=e.width,n=e.height,r=e.left,o=e.top,a=e.opacity,i=e.borderRadius,s=e.rotation,u=e.ratio,l=e.unit,d=c(r,u,l),f=c(o,u,l),h=c(t,u,l),m=c(n,u,l),y=p(i)?null:c(i,u,l),v=p(s)?null:s+"°";return{adapterLeft:d,adapterTop:f,adapterWidth:h,adapterHeight:m,radius:y,opacity:p(a)?null:a+"%",rotate:v}},p=function(e){return null===e||isNaN(e)||0===e},f=function(e){var t=e.lineHeight,n=e.letterSpacing,r=e.fontStyle,o=e.unit,a=e.ratio;return t=p(t)?null:c(t,a,o),n=p(n)?null:c(n,a,o),r=void 0!==r?r?"normal":"italic":r,{lineHeight:t,letterSpacing:n,fontStyle:r}},h=function(e){var t=[],n=[];return e.forEach(function(e){var r=e.bg_colors,o=void 0===r?[]:r,a=e.borders,i=void 0===a?[]:a,c=e.text_styles,u=void 0===c?[]:c,l=u.length>0?u[0]:{},d=l.color,p=l.font_face,f=[];o.length&&(f=o.map(function(e){var t=e.value,n=e.type,r=void 0===n?"color":n,o=e.gradient,a=Object(s.c)(t);return"color"===r?a:g(o)})),f=m(f);var h=[];i.length&&(h=i.map(function(e){var t=e.color;return Object(s.c)(t)})),h=m(h);var y=d&&Object(s.b)(Object(s.e)(d),"rgba");!t.includes(y)&&t.push(y),!n.includes(p)&&n.push(p),t=!t.includes(f)&&[].concat(t,f),t=!t.includes(h)&&[].concat(t,h)}),{screenColor:i()(o()(t)).slice(0,14)||[],globalText:o()(n)}},m=function(e){var t;return(t=[]).concat.apply(t,e)},y=function(e){var t=e.textStyles,n=e.borders,r=e.background,o=e.shadows,a=e.innerShadows,i=(e.colorUnit,e.unit),u=e.ratio,l=void 0,d=void 0,p=void 0,f=void 0,h=void 0,m=void 0,y=void 0,g=void 0;if(t.length){var b=t[0],w=b.color,_=b.font_size,O=b.font_face;l=w&&Object(s.c)(w),d=c(_,u,i),p=O}if(n.length){var S=n[0],C=S.position,E=void 0===C?"inside":C,j=S.color,x=S.thickness;f=c(x,u,i),m=E,j&&(h=Object(s.c)(j))}return r.length&&(y=Object(s.c)(r[0].value)),o.length&&(g=v(o,i,u)),a.length&&(g=g+", "+v(a,i,u,!0)),{fontFamily:p,fontSize:d,color:l,borderWidth:f,borderColor:h,borderPosition:m,backgroundColor:y,boxShadow:g}},v=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=e.length;return e.reduce(function(e,a,i){var u=a.color,l=a.offset_x,d=void 0===l?0:l,p=a.offset_y,f=void 0===p?0:p,h=a.blur_radius,m=void 0===h?0:h,y=a.spread,v=void 0===y?0:y,g=c(d,n,t),b=c(f,n,t),w=c(m,n,t);v=c(v,n,t),u=Object(s.c)(u);var _=i<o-1?", ":"",O=r?"inset ":"";return e.concat(""+O+g+" "+b+" "+w+" "+v+" "+u+_)},"")},g=function(e){return e&&e.color_stops?e.color_stops.map(function(e){var t=e.color;return Object(s.c)(t)}):s.a},b=function(e){switch(e){case"swift":return"pt";case"android":return"dp";default:return"px"}}},p0bc:function(e,t,n){var r=n("ICSD"),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},pVSp:function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,a){try{var i=t[o](a),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n("q8x3");var s=n("lgh0"),c=(n("Pa9K"),n("cF0m")),u=n("GiK3"),l=n.n(u),d=n("KSGD"),p=n.n(d),f=n("wB9c"),h=n("iNpB"),m=(n("SjWj"),n("LCdv")),y=n("Op9N"),v=n("tnSy"),g=(n.n(v),window.MBServer),b="file:"===location.protocol?"https://"+g:"https://"+location.host,w=function(e){function t(n){var i=this;o(this,t);var s=a(this,e.call(this,n));return s.setQRCodeRef=function(e){return s.$qrcode=e},s.refreshQRCode=function(){return $(s.$qrcode).empty().qrcode({text:s.state.sharingURL+"?via=qrcode",width:100,height:100})},s.handleSelectAll=function(e){return e.target.select()},s.generateSharingURL=function(e){return s.setState({sharingURL:MB.isOffline()&&"file:"!==location.protocol?location.toString():"file:"===location.protocol?"https://"+g+"/app/"+e:"https://"+location.host+"/app/"+e})},s.handleRefresh=r(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.b)({title:I18N.regenerate_url_title,desc:I18N.regenerate_url_desc});case 2:if(!e.sent){e.next=6;break}t=Math.uuid(31),s.generateSharingURL(t),s.setAttr("access_token",t);case 6:case"end":return e.stop()}},e,i)})),s.handleUpdateShell=function(e,t){var n=s.props.app;n.shell_type=t,n.lsave(MB.user.id===n.owner_id),$("body").trigger("queue:save"),s.forceUpdate(),MB.currentProject&&MB.runner.reload(!0)},s.handlePasswordChange=function(e){return s.setAttr("password",e.target.value)},s.handleAccess=function(e){var t=e.value;"restricted"===t&&(s.props.app.password=""),s.setAttr("access",t)},s.handleCollaborators=function(){s.setState({isCollaboratorModalOpen:!0})},s.handlePreviewSettings=function(e){var t=e.idxList,n=s.props.app,r=new Set(t);Object.assign(n,{highlight:r.has(0),wechat:r.has(1)}),s.props.app.lsave(),$("body").trigger("queue:save"),s.forceUpdate()},s.handleSlackWebHook=function(e){return s.setAttr("slack_web_hook_url",e.target.value)},s.onCloseCollaboratorModal=function(){return s.setState({isCollaboratorModalOpen:!1})},s.state={sharingURL:"",isCollaboratorModalOpen:!1},s}return i(t,e),t.prototype.componentWillMount=function(){var e=this.props.app;this.generateSharingURL(e.access_token)},t.prototype.componentDidMount=function(){setTimeout(this.refreshQRCode,50)},t.prototype.componentWillReceiveProps=function(e){var t=e.app,n=e.isOpen,r=this.props.isOpen;r&&!n?(this.setState({sharingURL:""}),$(this.$qrcode).empty()):!r&&n&&this.generateSharingURL(t.access_token)},t.prototype.componentDidUpdate=function(e,t){var n=e.isOpen,r=t.sharingURL,o=this.props.isOpen,a=this.state.sharingURL;(!n&&o||r!==a)&&setTimeout(this.refreshQRCode,50)},t.prototype.setAttr=function(e,t){this.props.app[e]=t,this.props.app.lsave(),$("body").trigger("queue:save"),this.forceUpdate()},t.prototype.render=function(){var e=this.props,t=e.isOpen,n=e.onClose,r=e.app,o=e.dispatch,a=this.state,i=a.sharingURL,u=a.isCollaboratorModalOpen,d=/edge.modao.cc/.test(location.href),p='<iframe src="'+b+"/app/"+r.access_token+'/embed" width="'+(r.shell().width+80)+'" height="'+(r.shell().height+80)+'" allowTransparency="true" frameborder="0"></iframe>',f=r.owner_id===MB.user.id,v=f||r.canAdmin(),g=f||r.canEdit(),w=!/^\/app\//i.test(location.pathname),_=[{value:"restricted",label:l.a.createElement("span",{className:"restricted-access"},l.a.createElement("span",null,I18N.restricted_intro),"restricted"===r.access&&l.a.createElement(c.a,{type:"text",className:"manage-collaborators",onClick:this.handleCollaborators},I18N.manage))},{value:"private",label:l.a.createElement("span",null,I18N.private_intro,l.a.createElement("p",null,"private"===r.access&&(MB.user.id&&MB.user.limitation.encryptable?l.a.createElement(m.e,{placeholder:I18N.sharing_password,value:r.password||"",onChange:this.handlePasswordChange,readOnly:!v}):l.a.createElement(c.a,{type:"text",className:"renew",onClick:h.b},I18N.password_protection))))}],O=[{value:"device",label:I18N.device_shell},{value:"default",label:I18N.default_shell},{value:"none",label:I18N.none_shell}],S=[I18N.highlight_clickable,I18N.view_in_browser],C=r.team_cid?r.cteam():r;return l.a.createElement(s.a,{isOpen:t,className:"sharing-modal",title:I18N.share,onClose:n},l.a.createElement("section",{className:"qrcode",ref:this.setQRCodeRef}),l.a.createElement("section",{className:"sharing-url"},l.a.createElement(m.e,{readOnly:!0,value:i,onClick:this.handleSelectAll}),v&&l.a.createElement(c.a,{type:"primary",onClick:this.handleRefresh},I18N.regenerate)),l.a.createElement("section",{className:"sharing-code"},l.a.createElement("p",null,I18N.embed_tips),l.a.createElement(m.j,{readOnly:!0,onClick:this.handleSelectAll,value:p})),w&&l.a.createElement("section",null,l.a.createElement(m.c,{name:I18N.access_permission},l.a.createElement(m.h,{isDisabled:!v,optionList:_,onChange:this.handleAccess,currentOptionIdx:"restricted"===r.access?0:1}))),g&&"web"!==r.device&&l.a.createElement("section",null,l.a.createElement(m.d,{name:I18N.default_shell_field},l.a.createElement(m.i,{optionList:O,currentOptionIdx:O.findIndex(function(e){return e.value===r.shell_type}),onChange:this.handleUpdateShell}))),v&&l.a.createElement("section",null,l.a.createElement(m.c,{name:I18N.preview_settings},l.a.createElement(m.b,{optionList:S,onChange:this.handlePreviewSettings,currentOptionIdxList:[r.highlight&&0,r.wechat&&1]}))),d&&l.a.createElement(m.c,{name:"Slack Web Hook"},l.a.createElement("input",{type:"text",value:r.slack_web_hook_url||"",onBlur:this.handleSlackWebHook})),l.a.createElement(y.a,{isOpen:u,onClose:this.onCloseCollaboratorModal,dispatch:o,host:C,userRole:C.owner_id===MB.user.id?"owner":C.roleByUid(MB.user.id)}))},t}(u.PureComponent);w.propTypes={dispatch:p.a.func.isRequired,isOpen:p.a.bool,onClose:p.a.func,app:p.a.object},t.a=w},pVq3:function(e,t){var n="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",r="["+n+"]",o="[a-z\\xdf-\\xf6\\xf8-\\xff]",a="[^\\ud800-\\udfff"+n+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",c="[A-Z\\xc0-\\xd6\\xd8-\\xde]",u="(?:"+o+"|"+a+")",l="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",d="[\\ufe0e\\ufe0f]?"+l+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",i,s].join("|")+")[\\ufe0e\\ufe0f]?"+l+")*"),p="(?:"+["[\\u2700-\\u27bf]",i,s].join("|")+")"+d,f=RegExp([c+"?"+o+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[r,c,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[r,c+u,"$"].join("|")+")",c+"?"+u+"+(?:['’](?:d|ll|m|re|s|t|ve))?",c+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)","\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)","\\d+",p].join("|"),"g");e.exports=function(e){return e.match(f)||[]}},pfs9:function(e,t,n){!function(e,t){t(n("PJh5"))}(0,function(e){"use strict";var t={1:"੧",2:"੨",3:"੩",4:"੪",5:"੫",6:"੬",7:"੭",8:"੮",9:"੯",0:"੦"},n={"੧":"1","੨":"2","੩":"3","੪":"4","੫":"5","੬":"6","੭":"7","੮":"8","੯":"9","੦":"0"};return e.defineLocale("pa-in",{months:"ਜਨਵਰੀ_ਫ਼ਰਵਰੀ_ਮਾਰਚ_ਅਪ੍ਰੈਲ_ਮਈ_ਜੂਨ_ਜੁਲਾਈ_ਅਗਸਤ_ਸਤੰਬਰ_ਅਕਤੂਬਰ_ਨਵੰਬਰ_ਦਸੰਬਰ".split("_"),monthsShort:"ਜਨਵਰੀ_ਫ਼ਰਵਰੀ_ਮਾਰਚ_ਅਪ੍ਰੈਲ_ਮਈ_ਜੂਨ_ਜੁਲਾਈ_ਅਗਸਤ_ਸਤੰਬਰ_ਅਕਤੂਬਰ_ਨਵੰਬਰ_ਦਸੰਬਰ".split("_"),weekdays:"ਐਤਵਾਰ_ਸੋਮਵਾਰ_ਮੰਗਲਵਾਰ_ਬੁਧਵਾਰ_ਵੀਰਵਾਰ_ਸ਼ੁੱਕਰਵਾਰ_ਸ਼ਨੀਚਰਵਾਰ".split("_"),weekdaysShort:"ਐਤ_ਸੋਮ_ਮੰਗਲ_ਬੁਧ_ਵੀਰ_ਸ਼ੁਕਰ_ਸ਼ਨੀ".split("_"),weekdaysMin:"ਐਤ_ਸੋਮ_ਮੰਗਲ_ਬੁਧ_ਵੀਰ_ਸ਼ੁਕਰ_ਸ਼ਨੀ".split("_"),longDateFormat:{LT:"A h:mm ਵਜੇ",LTS:"A h:mm:ss ਵਜੇ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ਵਜੇ",LLLL:"dddd, D MMMM YYYY, A h:mm ਵਜੇ"},calendar:{sameDay:"[ਅਜ] LT",nextDay:"[ਕਲ] LT",nextWeek:"dddd, LT",lastDay:"[ਕਲ] LT",lastWeek:"[ਪਿਛਲੇ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ਵਿੱਚ",past:"%s ਪਿਛਲੇ",s:"ਕੁਝ ਸਕਿੰਟ",m:"ਇਕ ਮਿੰਟ",mm:"%d ਮਿੰਟ",h:"ਇੱਕ ਘੰਟਾ",hh:"%d ਘੰਟੇ",d:"ਇੱਕ ਦਿਨ",dd:"%d ਦਿਨ",M:"ਇੱਕ ਮਹੀਨਾ",MM:"%d ਮਹੀਨੇ",y:"ਇੱਕ ਸਾਲ",yy:"%d ਸਾਲ"},preparse:function(e){return e.replace(/[੧੨੩੪੫੬੭੮੯੦]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/ਰਾਤ|ਸਵੇਰ|ਦੁਪਹਿਰ|ਸ਼ਾਮ/,meridiemHour:function(e,t){return 12===e&&(e=0),"ਰਾਤ"===t?e<4?e:e+12:"ਸਵੇਰ"===t?e:"ਦੁਪਹਿਰ"===t?e>=10?e:e+12:"ਸ਼ਾਮ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"ਰਾਤ":e<10?"ਸਵੇਰ":e<17?"ਦੁਪਹਿਰ":e<20?"ਸ਼ਾਮ":"ਰਾਤ"},week:{dow:0,doy:6}})})},puHc:function(e,t){},q8x3:function(e,t,n){"use strict";var r=n("m+Ev");n.n(r)},qwTf:function(e,t,n){var r=n("TQ3y").Uint8Array;e.exports=r},rU0D:function(e,t,n){var r=n("Wh6c"),o=n("iYj9"),a=n("0ghZ"),i=n("ZT2e");e.exports=function(e){return function(t){t=i(t);var n=o(t)?a(t):void 0,s=n?n[0]:t.charAt(0),c=n?r(n,1).join(""):t.slice(1);return s[e]()+c}}},rpnb:function(e,t,n){var r=n("tHks")();e.exports=r},rprB:function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},rxKx:function(e,t,n){var r;!function(o,a,i,s){"use strict";function c(e,t,n){return setTimeout(f(e,n),t)}function u(e,t,n){return!!Array.isArray(e)&&(l(e,n[t],n),!0)}function l(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==s)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function d(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=o.console&&(o.console.warn||o.console.log);return a&&a.call(o.console,r,n),e.apply(this,arguments)}}function p(e,t,n){var r,o=t.prototype;(r=e.prototype=Object.create(o)).constructor=e,r._super=o,n&&he(r,n)}function f(e,t){return function(){return e.apply(t,arguments)}}function h(e,t){return typeof e==ve?e.apply(t?t[0]||s:s,t):e}function m(e,t){return e===s?t:e}function y(e,t,n){l(w(t),function(t){e.addEventListener(t,n,!1)})}function v(e,t,n){l(w(t),function(t){e.removeEventListener(t,n,!1)})}function g(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function b(e,t){return e.indexOf(t)>-1}function w(e){return e.trim().split(/\s+/g)}function _(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function O(e){return Array.prototype.slice.call(e,0)}function S(e,t,n){for(var r=[],o=[],a=0;a<e.length;){var i=t?e[a][t]:e[a];_(o,i)<0&&r.push(e[a]),o[a]=i,a++}return n&&(r=t?r.sort(function(e,n){return e[t]>n[t]}):r.sort()),r}function C(e,t){for(var n,r,o=t[0].toUpperCase()+t.slice(1),a=0;a<me.length;){if(n=me[a],(r=n?n+o:t)in e)return r;a++}return s}function E(){return Se++}function j(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||o}function x(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){h(e.options.enable,[e])&&n.handler(t)},this.init()}function T(e){var t=e.options.inputClass;return new(t||(je?B:xe?q:Ee?G:F))(e,M)}function M(e,t,n){var r=n.pointers.length,o=n.changedPointers.length,a=t&Me&&r-o==0,i=t&(Pe|Ne)&&r-o==0;n.isFirst=!!a,n.isFinal=!!i,a&&(e.session={}),n.eventType=t,k(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function k(e,t){var n=e.session,r=t.pointers,o=r.length;n.firstInput||(n.firstInput=D(t)),o>1&&!n.firstMultiple?n.firstMultiple=D(t):1===o&&(n.firstMultiple=!1);var a=n.firstInput,i=n.firstMultiple,s=i?i.center:a.center,c=t.center=L(r);t.timeStamp=we(),t.deltaTime=t.timeStamp-a.timeStamp,t.angle=U(s,c),t.distance=A(s,c),P(n,t),t.offsetDirection=I(t.deltaX,t.deltaY);var u=R(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=u.x,t.overallVelocityY=u.y,t.overallVelocity=be(u.x)>be(u.y)?u.x:u.y,t.scale=i?W(i.pointers,r):1,t.rotation=i?Y(i.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,N(n,t);var l=e.element;g(t.srcEvent.target,l)&&(l=t.srcEvent.target),t.target=l}function P(e,t){var n=t.center,r=e.offsetDelta||{},o=e.prevDelta||{},a=e.prevInput||{};t.eventType!==Me&&a.eventType!==Pe||(o=e.prevDelta={x:a.deltaX||0,y:a.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=o.x+(n.x-r.x),t.deltaY=o.y+(n.y-r.y)}function N(e,t){var n,r,o,a,i=e.lastInterval||t,c=t.timeStamp-i.timeStamp;if(t.eventType!=Ne&&(c>Te||i.velocity===s)){var u=t.deltaX-i.deltaX,l=t.deltaY-i.deltaY,d=R(c,u,l);r=d.x,o=d.y,n=be(d.x)>be(d.y)?d.x:d.y,a=I(u,l),e.lastInterval=t}else n=i.velocity,r=i.velocityX,o=i.velocityY,a=i.direction;t.velocity=n,t.velocityX=r,t.velocityY=o,t.direction=a}function D(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:ge(e.pointers[n].clientX),clientY:ge(e.pointers[n].clientY)},n++;return{timeStamp:we(),pointers:t,center:L(t),deltaX:e.deltaX,deltaY:e.deltaY}}function L(e){var t=e.length;if(1===t)return{x:ge(e[0].clientX),y:ge(e[0].clientY)};for(var n=0,r=0,o=0;o<t;)n+=e[o].clientX,r+=e[o].clientY,o++;return{x:ge(n/t),y:ge(r/t)}}function R(e,t,n){return{x:t/e||0,y:n/e||0}}function I(e,t){return e===t?De:be(e)>=be(t)?e<0?Le:Re:t<0?Ie:Ae}function A(e,t,n){n||(n=Fe);var r=t[n[0]]-e[n[0]],o=t[n[1]]-e[n[1]];return Math.sqrt(r*r+o*o)}function U(e,t,n){n||(n=Fe);var r=t[n[0]]-e[n[0]],o=t[n[1]]-e[n[1]];return 180*Math.atan2(o,r)/Math.PI}function Y(e,t){return U(t[1],t[0],Be)+U(e[1],e[0],Be)}function W(e,t){return A(t[0],t[1],Be)/A(e[0],e[1],Be)}function F(){this.evEl=ze,this.evWin=qe,this.pressed=!1,x.apply(this,arguments)}function B(){this.evEl=Ke,this.evWin=$e,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function H(){this.evTarget=Ze,this.evWin=Xe,this.started=!1,x.apply(this,arguments)}function z(e,t){var n=O(e.touches),r=O(e.changedTouches);return t&(Pe|Ne)&&(n=S(n.concat(r),"identifier",!0)),[n,r]}function q(){this.evTarget=et,this.targetIds={},x.apply(this,arguments)}function V(e,t){var n=O(e.touches),r=this.targetIds;if(t&(Me|ke)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var o,a,i=O(e.changedTouches),s=[],c=this.target;if(a=n.filter(function(e){return g(e.target,c)}),t===Me)for(o=0;o<a.length;)r[a[o].identifier]=!0,o++;for(o=0;o<i.length;)r[i[o].identifier]&&s.push(i[o]),t&(Pe|Ne)&&delete r[i[o].identifier],o++;return s.length?[S(a.concat(s),"identifier",!0),s]:void 0}function G(){x.apply(this,arguments);var e=f(this.handler,this);this.touch=new q(this.manager,e),this.mouse=new F(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function K(e,t){e&Me?(this.primaryTouch=t.changedPointers[0].identifier,$.call(this,t)):e&(Pe|Ne)&&$.call(this,t)}function $(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches,o=function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)};setTimeout(o,tt)}}function J(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var o=this.lastTouches[r],a=Math.abs(t-o.x),i=Math.abs(n-o.y);if(a<=nt&&i<=nt)return!0}return!1}function Z(e,t){this.manager=e,this.set(t)}function X(e){if(b(e,st))return st;var t=b(e,ct),n=b(e,ut);return t&&n?st:t||n?t?ct:ut:b(e,it)?it:at}function Q(e){this.options=he({},this.defaults,e||{}),this.id=E(),this.manager=null,this.options.enable=m(this.options.enable,!0),this.state=dt,this.simultaneous={},this.requireFail=[]}function ee(e){return e&yt?"cancel":e&ht?"end":e&ft?"move":e&pt?"start":""}function te(e){return e==Ae?"down":e==Ie?"up":e==Le?"left":e==Re?"right":""}function ne(e,t){var n=t.manager;return n?n.get(e):e}function re(){Q.apply(this,arguments)}function oe(){re.apply(this,arguments),this.pX=null,this.pY=null}function ae(){re.apply(this,arguments)}function ie(){Q.apply(this,arguments),this._timer=null,this._input=null}function se(){re.apply(this,arguments)}function ce(){re.apply(this,arguments)}function ue(){Q.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function le(e,t){return t=t||{},t.recognizers=m(t.recognizers,le.defaults.preset),new de(e,t)}function de(e,t){this.options=he({},le.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=T(this),this.touchAction=new Z(this,this.options.touchAction),pe(this,!0),l(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function pe(e,t){var n=e.element;if(n.style){var r;l(e.options.cssProps,function(o,a){r=C(n.style,a),t?(e.oldCssProps[r]=n.style[r],n.style[r]=o):n.style[r]=e.oldCssProps[r]||""}),t||(e.oldCssProps={})}}function fe(e,t){var n=a.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}var he,me=["","webkit","Moz","MS","ms","o"],ye=a.createElement("div"),ve="function",ge=Math.round,be=Math.abs,we=Date.now;he="function"!=typeof Object.assign?function(e){if(e===s||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o])}return t}:Object.assign;var _e=d(function(e,t,n){for(var r=Object.keys(t),o=0;o<r.length;)(!n||n&&e[r[o]]===s)&&(e[r[o]]=t[r[o]]),o++;return e},"extend","Use `assign`."),Oe=d(function(e,t){return _e(e,t,!0)},"merge","Use `assign`."),Se=1,Ce=/mobile|tablet|ip(ad|hone|od)|android/i,Ee="ontouchstart"in o,je=C(o,"PointerEvent")!==s,xe=Ee&&Ce.test(navigator.userAgent),Te=25,Me=1,ke=2,Pe=4,Ne=8,De=1,Le=2,Re=4,Ie=8,Ae=16,Ue=Le|Re,Ye=Ie|Ae,We=Ue|Ye,Fe=["x","y"],Be=["clientX","clientY"];x.prototype={handler:function(){},init:function(){this.evEl&&y(this.element,this.evEl,this.domHandler),this.evTarget&&y(this.target,this.evTarget,this.domHandler),this.evWin&&y(j(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&v(this.element,this.evEl,this.domHandler),this.evTarget&&v(this.target,this.evTarget,this.domHandler),this.evWin&&v(j(this.element),this.evWin,this.domHandler)}};var He={mousedown:Me,mousemove:ke,mouseup:Pe},ze="mousedown",qe="mousemove mouseup";p(F,x,{handler:function(e){var t=He[e.type];t&Me&&0===e.button&&(this.pressed=!0),t&ke&&1!==e.which&&(t=Pe),this.pressed&&(t&Pe&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var Ve={pointerdown:Me,pointermove:ke,pointerup:Pe,pointercancel:Ne,pointerout:Ne},Ge={2:"touch",3:"pen",4:"mouse",5:"kinect"},Ke="pointerdown",$e="pointermove pointerup pointercancel";o.MSPointerEvent&&!o.PointerEvent&&(Ke="MSPointerDown",$e="MSPointerMove MSPointerUp MSPointerCancel"),p(B,x,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),o=Ve[r],a=Ge[e.pointerType]||e.pointerType,i="touch"==a,s=_(t,e.pointerId,"pointerId");o&Me&&(0===e.button||i)?s<0&&(t.push(e),s=t.length-1):o&(Pe|Ne)&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,o,{pointers:t,changedPointers:[e],pointerType:a,srcEvent:e}),n&&t.splice(s,1))}});var Je={touchstart:Me,touchmove:ke,touchend:Pe,touchcancel:Ne},Ze="touchstart",Xe="touchstart touchmove touchend touchcancel";p(H,x,{handler:function(e){var t=Je[e.type];if(t===Me&&(this.started=!0),this.started){var n=z.call(this,e,t);t&(Pe|Ne)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}});var Qe={touchstart:Me,touchmove:ke,touchend:Pe,touchcancel:Ne},et="touchstart touchmove touchend touchcancel";p(q,x,{handler:function(e){var t=Qe[e.type],n=V.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}});var tt=2500,nt=25;p(G,x,{handler:function(e,t,n){var r="touch"==n.pointerType,o="mouse"==n.pointerType;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)K.call(this,t,n);else if(o&&J.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var rt=C(ye.style,"touchAction"),ot=rt!==s,at="auto",it="manipulation",st="none",ct="pan-x",ut="pan-y",lt=function(){if(!ot)return!1;var e={},t=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){e[n]=!t||o.CSS.supports("touch-action",n)}),e}();Z.prototype={set:function(e){"compute"==e&&(e=this.compute()),ot&&this.manager.element.style&&lt[e]&&(this.manager.element.style[rt]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return l(this.manager.recognizers,function(t){h(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),X(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,o=b(r,st)&&!lt[st],a=b(r,ut)&&!lt[ut],i=b(r,ct)&&!lt[ct];if(o){var s=1===e.pointers.length,c=e.distance<2,u=e.deltaTime<250;if(s&&c&&u)return}if(!i||!a)return o||a&&n&Ue||i&&n&Ye?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var dt=1,pt=2,ft=4,ht=8,mt=ht,yt=16;Q.prototype={defaults:{},set:function(e){return he(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(u(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=ne(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return u(e,"dropRecognizeWith",this)?this:(e=ne(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(u(e,"requireFailure",this))return this;var t=this.requireFail;return e=ne(e,this),-1===_(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(u(e,"dropRequireFailure",this))return this;e=ne(e,this);var t=_(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){n.manager.emit(t,e)}var n=this,r=this.state;r<ht&&t(n.options.event+ee(r)),t(n.options.event),e.additionalEvent&&t(e.additionalEvent),r>=ht&&t(n.options.event+ee(r))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(32|dt)))return!1;e++}return!0},recognize:function(e){var t=he({},e);if(!h(this.options.enable,[this,t]))return this.reset(),void(this.state=32);this.state&(mt|yt|32)&&(this.state=dt),this.state=this.process(t),this.state&(pt|ft|ht|yt)&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},p(re,Q,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=t&(pt|ft),o=this.attrTest(e);return r&&(n&Ne||!o)?t|yt:r||o?n&Pe?t|ht:t&pt?t|ft:pt:32}}),p(oe,re,{defaults:{event:"pan",threshold:10,pointers:1,direction:We},getTouchAction:function(){var e=this.options.direction,t=[];return e&Ue&&t.push(ut),e&Ye&&t.push(ct),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,o=e.direction,a=e.deltaX,i=e.deltaY;return o&t.direction||(t.direction&Ue?(o=0===a?De:a<0?Le:Re,n=a!=this.pX,r=Math.abs(e.deltaX)):(o=0===i?De:i<0?Ie:Ae,n=i!=this.pY,r=Math.abs(e.deltaY))),e.direction=o,n&&r>t.threshold&&o&t.direction},attrTest:function(e){return re.prototype.attrTest.call(this,e)&&(this.state&pt||!(this.state&pt)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=te(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),p(ae,re,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[st]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&pt)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),p(ie,Q,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[at]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,o=e.deltaTime>t.time;if(this._input=e,!r||!n||e.eventType&(Pe|Ne)&&!o)this.reset();else if(e.eventType&Me)this.reset(),this._timer=c(function(){this.state=mt,this.tryEmit()},t.time,this);else if(e.eventType&Pe)return mt;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===mt&&(e&&e.eventType&Pe?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=we(),this.manager.emit(this.options.event,this._input)))}}),p(se,re,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[st]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&pt)}}),p(ce,re,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Ue|Ye,pointers:1},getTouchAction:function(){return oe.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(Ue|Ye)?t=e.overallVelocity:n&Ue?t=e.overallVelocityX:n&Ye&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&be(t)>this.options.velocity&&e.eventType&Pe},emit:function(e){var t=te(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),p(ue,Q,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[it]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,o=e.deltaTime<t.time;if(this.reset(),e.eventType&Me&&0===this.count)return this.failTimeout();if(r&&o&&n){if(e.eventType!=Pe)return this.failTimeout();var a=!this.pTime||e.timeStamp-this.pTime<t.interval,i=!this.pCenter||A(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,i&&a?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=c(function(){this.state=mt,this.tryEmit()},t.interval,this),pt):mt}return 32},failTimeout:function(){return this._timer=c(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==mt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),le.VERSION="2.0.7",le.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[se,{enable:!1}],[ae,{enable:!1},["rotate"]],[ce,{direction:Ue}],[oe,{direction:Ue},["swipe"]],[ue],[ue,{event:"doubletap",taps:2},["tap"]],[ie]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};de.prototype={set:function(e){return he(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,r=this.recognizers,o=t.curRecognizer;(!o||o&&o.state&mt)&&(o=t.curRecognizer=null);for(var a=0;a<r.length;)n=r[a],2===t.stopped||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(e),!o&&n.state&(pt|ft|ht)&&(o=t.curRecognizer=n),a++}},get:function(e){if(e instanceof Q)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(u(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(u(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=_(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==s&&t!==s){var n=this.handlers;return l(w(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(e!==s){var n=this.handlers;return l(w(e),function(e){t?n[e]&&n[e].splice(_(n[e],t),1):delete n[e]}),this}},emit:function(e,t){this.options.domEvents&&fe(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&pe(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},he(le,{INPUT_START:Me,INPUT_MOVE:ke,INPUT_END:Pe,INPUT_CANCEL:Ne,STATE_POSSIBLE:dt,STATE_BEGAN:pt,STATE_CHANGED:ft,STATE_ENDED:ht,STATE_RECOGNIZED:mt,STATE_CANCELLED:yt,STATE_FAILED:32,DIRECTION_NONE:De,DIRECTION_LEFT:Le,DIRECTION_RIGHT:Re,DIRECTION_UP:Ie,DIRECTION_DOWN:Ae,DIRECTION_HORIZONTAL:Ue,DIRECTION_VERTICAL:Ye,DIRECTION_ALL:We,Manager:de,Input:x,TouchAction:Z,TouchInput:q,MouseInput:F,PointerEventInput:B,TouchMouseInput:G,SingleTouchInput:H,Recognizer:Q,AttrRecognizer:re,Tap:ue,Pan:oe,Swipe:ce,Pinch:ae,Rotate:se,Press:ie,on:y,off:v,each:l,merge:Oe,extend:_e,assign:he,inherit:p,bindFn:f,prefixed:C}),(void 0!==o?o:"undefined"!=typeof self?self:{}).Hammer=le,(r=function(){return le}.call(t,n,t,e))!==s&&(e.exports=r)}(window,document)},s7Y4:function(e,t){},s96k:function(e,t){e.exports=function(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}},sJvV:function(e,t){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},sMP3:function(e,t,n){"use strict";var r=Object.prototype.toString,o=function(e){return r.call(e)},a=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object),i=function(e){return null!=e&&"object"==typeof e},s="[object Object]",c=Function.prototype,u=Object.prototype,l=c.toString,d=u.hasOwnProperty,p=l.call(Object);t.a=function(e){if(!i(e)||o(e)!=s)return!1;var t=a(e);if(null===t)return!0;var n=d.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==p}},sn4q:function(e,t,n){"use strict";function r(e){var t=e.plan,n=e.state,r=e.limitation,o=e.days_left,a="active"===n;return{state:n||"",type:a&&t||"free",rawType:t||"free",collaboratorLimitation:a&&r||0,daysLeft:o||""}}function o(e){return Be.has(e)?e:"guest"}function a(e){return JSON.parse(g.a.Storage.getItem(e+"_commentTick")||"{}")}function i(e,t){g.a.Storage.setItem(e+"_commentTick",JSON.stringify(t))}function s(e,t){var n=a(e);n[t]=Math.ceil(.001*Date.now()+2),i(e,n)}function c(){for(var e=.001*Date.now()-2592e3,t=[],n=0,r=g.a.Storage.length;n<r;n++){(function(n,r){var o=g.a.Storage.key(n);if(!o.endsWith("_commentTick"))return"continue";var a=JSON.parse(g.a.Storage.getItem(o)||"{}"),i=Object.keys(a);i.forEach(function(t){a[t]<=e&&delete a[t]});var s=Object.keys(a);0===s.length?t.push(o):i.length!==s.length&&g.a.Storage.setItem(o,JSON.stringify(a))})(n)}t.forEach(function(e){return g.a.Storage.removeItem(e)})}function u(e,t,n){0!==n&&(e[t]=(e[t]||0)+n)}function l(e,t){var n=Ie.getState();return n&&I.getState().find(function(r){return r.user_id===n.id&&(r.project_cid===e||r.team_cid===t)})}function d(e,t){var n=t.getState,r=t.setState,o=n();return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,a=arguments[1];return a.type!==e?t:(r(a.payload||t),n())}}function p(e){var t=e.entryMap,n=e.reducerMap,r=e.sagaMap,o=Object(h.createReduxEntry)(),a=o.middleware;(0,o.setEntryMap)(t);var i=void 0,s=[a];r&&(i=Object(m.a)(),s.push(i));var c=Object(f.createStore)(Object(f.combineReducers)(n),Qe(f.applyMiddleware.apply(void 0,s)));if(r){var u=function(e){i.run(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,r[e]();case 3:t.next=0;break;case 5:case"end":return t.stop()}},t,this)}))};for(var l in r)u(l)}return{store:c}}var f=n("2KeS"),h=n("orAw"),m=n("igqX"),y=n("IDd6"),v=n("Ibgh"),g=n("AxSz"),b={"entry:state:init":function(e){var t=e.dispatch;t({type:"user:set",payload:g.a.MB.user||null}),t({type:"teams:refresh"}),t({type:"widgets:refresh"}),t({type:"projects:refresh"}),t({type:"screens:refresh"}),t({type:"comments:refresh"}),t({type:"comment-threads:refresh"}),t({type:"collaborators:refresh"}),t({type:"entry:add-mock-collaborator"}),t({type:"entry:current:set",payload:{project:g.a.MB.currentProject,screen:g.a.MB.currentScreen}})},"entry:state:clear":function(e){e.dispatch},"entry:sync-runner:set-screen":function(e,t){var n=e.dispatch,r=e.getState,o=t.payload.cid;n({type:"entry:current:set-screen",payload:{cid:o}}),"inspect"==r().container.previewSetting.toolbarActiveItem&&n({type:"SET_VISIBILITY_SCREEN",payload:{screenID:o}}),g.a.MB.runner.loadScreen(o)},"entry:refresh:team-related":function(e){var t=e.dispatch;t({type:"teams:refresh"}),t({type:"collaborators:refresh"}),t({type:"entry:add-mock-collaborator"}),t({type:"entry:current:set",payload:{project:g.a.MB.currentProject,screen:g.a.MB.currentScreen}})},"entry:refresh:project-related":function(e){var t=e.dispatch;t({type:"projects:refresh"}),t({type:"screens:refresh"}),t({type:"widgets:refresh"}),t({type:"comments:refresh"}),t({type:"comment-threads:refresh"}),t({type:"collaborators:refresh"}),t({type:"entry:add-mock-collaborator"}),t({type:"entry:current:set",payload:{project:g.a.MB.currentProject,screen:g.a.MB.currentScreen}})},"entry:listpage:toggle:order":function(e){var t=e.dispatch,n=e.getState,r=g.a.MB.preference(),o=n().container.listpage.ui.order,a=void 0;o?(a="asc"===o?"desc":"asc",r.app_order=a,r.lsave(),g.a.SpineModel.queueSave()):a=r.app_order,t({type:"container:listpage:set:order",payload:{order:a}})},"entry:focus-element":function(e,t){var n=e.dispatch,r=t.payload,o=r.focusType,a=r.element;return a&&setTimeout(function(){switch(o){case"normal":return a.focus&&a.focus();case"external":return n({type:"entry:webpack-interface:observer:call",payload:{key:"focus-method:request-focus",args:[a]}}),a.focus&&a.focus()}},100),!0},"entry:preview:select":function(e,t){var n=e.dispatch,r=e.getState,o=t.payload.toolbarActiveItem,a=r(),i=a.container.previewSetting,s=a.model.user;if(o!=i.activeItem){var c="comment"==o||"inspect"==o?"immersive":"default";"comment"==o&&(g.a.MB.currentProject.limitation.commentable||MB.promptRenew("cant_comment",{role:g.a.MB.currentProject.owner_id!==s.id?g.a.MB.currentProject.team_cid?"team":"project":"user"})),"inspect"==o&&n({type:"SET_VISIBILITY_SCREEN",payload:{screenID:g.a.MB.currentScreen.cid}}),c!==g.a.MB.runner.mode&&(g.a.MB.runner.mode=c,setTimeout(function(){g.a.MB.runner.reload(!0)})),n({type:"reducer:preview-toolbar:update",payload:{toolbarActiveItem:o}})}},"container:comment:select":function(e,t){var n=e.dispatch,r=e.getState,o=t.payload.select,a=r(),i=a.model,s=i.comments,c=i.commentThreads,u=a.container,l=c.find(function(e){return e.cid===u.comment.select});l&&o!==u.comment.select&&!s.find(function(e){return e.thread_cid===l.cid})&&n({type:"entry:comment-threads:delete",payload:l})},"entry:preview:clear":function(e,t){var n=e.dispatch;g.a.MB.runner.mode="default",n({type:"reducer:preview-panel:reset"}),n({type:"container:layers:clear"})}},w=n("QPja"),_=n("bBrr"),O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S=g.a.SpineModel,C={Team:"t",Project:"p",Combo:"c",Template:"t",Screen:"s",Collaborator:"co",Comment:"cm",CommentThread:"cmth",Widget:"w"},E=Object.keys(C),j=E.reduce(function(e,t){return e[t]=S[t].attributes,e},{});j.Widget=[].concat(j.Widget,["id"]);var x=E.reduce(function(e,t){var n=S[t],r=j[t],o=C[t],a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.forEach(function(n){return t[n]=e[n]}),t},i=function(e,r){var o=e.find(function(e){return e.cid===r}),a=n.findByAttribute("cid",r);return _.a&&o&&console.warn("["+t+"] state already exists for cid: "+r),_.a&&a&&console.warn("["+t+"] model already exists for cid: "+r),Boolean(o||a)},s=function(e,r){var o=e.find(function(e){return e.cid===r}),a=n.findByAttribute("cid",r);return _.a&&!o&&console.warn("["+t+"] state not found for cid: "+r),_.a&&!a&&console.warn("["+t+"] model not found for cid: "+r),{dataState:o,dataModel:a}};return e[t]={refreshStateList:function(e){return n.all().map(function(e){return a(e,{})})},saveState:function(e,t,n){var r=t.cid,o=s(e,r),a=o.dataState,i=o.dataModel;return a&&i?(i.lsave(!n),!n&&g.a.SpineModel.queueSave(),e):e},addState:function(e,r,a){var s=r.cid||g.a.SpineModel.requestCid(o);i(e,s)&&(s=g.a.SpineModel.requestCid(o));var c=O({},r,{cid:s});return new n(c).lsave(!a),!a&&g.a.SpineModel.queueSave(),_.a&&console.log("["+t+"] addState",c,a),w.Operation.arrayPush(e,c)},updateState:function(e,n,r){var o=n.cid,a=s(e,o),i=a.dataState,c=a.dataModel;return i&&c?(i=O({},i,n),Object.assign(c,i),c.lsave(!r),!r&&g.a.SpineModel.queueSave(),_.a&&console.log("["+t+"] updateState",i,r),w.Operation.arrayFindSet(e,function(e){return e.cid===o},i)):e},deleteState:function(e,n,r){var o=n.cid,a=s(e,o),i=a.dataState,c=a.dataModel;return i&&c?(c.ldestroy(!r),!r&&g.a.SpineModel.queueSave(),_.a&&console.log("["+t+"] deleteState",i,r),w.Operation.arrayFindDelete(e,function(e){return e.cid===o})):e}},e},{}),T=function(e){return function(t,n,r){var o=n.cid,a=S.Project.findByAttribute("cid",o)?"Project":S.Template.findByAttribute("cid",o)?"Template":S.Combo.findByAttribute("cid",o)?"Combo":null;if(_.a&&!a)throw new Error("[Error] no Project/Template/Combo found for "+o);return x[a][e](t,n,r)}};x.ProjectAlike={refreshStateList:function(e){return[].concat(x.Project.refreshStateList(),x.Template.refreshStateList(),x.Combo.refreshStateList())},saveState:T("saveState"),addState:T("addState"),updateState:T("updateState"),deleteState:T("deleteState")};var M=x.Collaborator,k=[],P=Object(h.createStateStore)(k),N=P.getState,D=P.setState,L=P.wrapEntry,R=function(e,t){return L(function(n,r,o){var a=r.dispatch,i=o&&o.payload;a({type:"reducer:collaborators:update",payload:e(n,i,t)})})},I={entryMap:{"collaborators:refresh":L(function(e,t,n){var r=t.dispatch,o=n&&n.payload;(e=M.refreshStateList(e,o,!1)).forEach(function(e){e.avatar||(e.avatar="/images/avatar.png")}),r({type:"reducer:collaborators:update",payload:e})}),"collaborators:add":R(M.addState,!1),"collaborators:add-local":R(M.addState,!0),"collaborators:update":R(M.updateState,!1),"collaborators:update-local":R(M.updateState,!0),"collaborators:delete":R(M.deleteState,!1),"collaborators:delete-local":R(M.deleteState,!0)},getState:N,setState:D},A=x.Comment,U=[],Y=Object(h.createStateStore)(U),W=Y.getState,F=Y.setState,B=Y.wrapEntry,H=function(e,t){return B(function(n,r,o){var a=r.dispatch,i=o&&o.payload;a({type:"reducer:comments:update",payload:e(n,i,t)})})},z={entryMap:{"comments:refresh":H(A.refreshStateList,!1),"comments:add":H(A.addState,!1),"comments:add-local":H(A.addState,!0),"comments:update":H(A.updateState,!1),"comments:update-local":H(A.updateState,!0),"comments:delete":H(A.deleteState,!1),"comments:delete-local":H(A.deleteState,!0)},getState:W,setState:F},q=x.CommentThread,V=[],G=Object(h.createStateStore)(V),K=G.getState,$=G.setState,J=G.wrapEntry,Z=function(e,t){return J(function(n,r,o){var a=r.dispatch,i=o&&o.payload;a({type:"reducer:comment-threads:update",payload:e(n,i,t)})})},X={entryMap:{"comment-threads:refresh":Z(q.refreshStateList,!1),"comment-threads:save":Z(q.saveState,!1),"comment-threads:add":Z(q.addState,!1),"comment-threads:add-local":Z(q.addState,!0),"comment-threads:update":Z(q.updateState,!1),"comment-threads:update-local":Z(q.updateState,!0),"comment-threads:delete":Z(q.deleteState,!1),"comment-threads:delete-local":Z(q.deleteState,!0)},getState:K,setState:$},Q=x.ProjectAlike,ee=[],te=Object(h.createStateStore)(ee),ne=te.getState,re=te.setState,oe=te.wrapEntry,ae=function(e,t){return oe(function(n,r,o){var a=r.dispatch,i=o&&o.payload;a({type:"reducer:projects:update",payload:e(n,i,t)})})},ie={entryMap:{"projects:refresh":ae(Q.refreshStateList,!1),"projects:add":ae(Q.addState,!1),"projects:add-local":ae(Q.addState,!0),"projects:update":ae(Q.updateState,!1),"projects:update-local":ae(Q.updateState,!0),"projects:delete":ae(Q.deleteState,!1),"projects:delete-local":ae(Q.deleteState,!0)},getState:ne,setState:re},se=x.Screen,ce=[],ue=Object(h.createStateStore)(ce),le=ue.getState,de=ue.setState,pe=ue.wrapEntry,fe=function(e,t){return pe(function(n,r,o){var a=r.dispatch,i=o&&o.payload;a({type:"reducer:screens:update",payload:e(n,i,t)})})},he={entryMap:{"screens:refresh":fe(se.refreshStateList,!1),"screens:add":fe(se.addState,!1),"screens:add-local":fe(se.addState,!0),"screens:update":fe(se.updateState,!1),"screens:update-local":fe(se.updateState,!0),"screens:delete":fe(se.deleteState,!1),"screens:delete-local":fe(se.deleteState,!0)},getState:le,setState:de},me=x.Team,ye=[],ve=Object(h.createStateStore)(ye),ge=ve.getState,be=ve.setState,we=ve.wrapEntry,_e=function(e,t){return we(function(n,r,o){var a=r.dispatch,i=o&&o.payload;a({type:"reducer:teams:update",payload:e(n,i,t)})})},Oe={entryMap:{"teams:refresh":_e(me.refreshStateList,!1),"teams:add":_e(me.addState,!1),"teams:add-local":_e(me.addState,!0),"teams:update":_e(me.updateState,!1),"teams:update-local":_e(me.updateState,!0),"teams:delete":_e(me.deleteState,!1),"teams:delete-local":_e(me.deleteState,!0)},getState:ge,setState:be},Se=x.Widget,Ce=[],Ee=Object(h.createStateStore)(Ce),je=Ee.getState,xe=Ee.setState,Te=Ee.wrapEntry,Me=function(e,t){return Te(function(n,r,o){var a=r.dispatch,i=o&&o.payload;a({type:"reducer:widgets:update",payload:e(n,i,t)})})},ke={entryMap:{"widgets:refresh":Me(Se.refreshStateList,!1),"widgets:add":Me(Se.addState,!1),"widgets:add-local":Me(Se.addState,!0),"widgets:update":Me(Se.updateState,!1),"widgets:update-local":Me(Se.updateState,!0),"widgets:delete":Me(Se.deleteState,!1),"widgets:delete-local":Me(Se.deleteState,!0)},getState:je,setState:xe},Pe={id:null,name:"",email:"",avatar:"",plan:{state:"",type:"free",rawType:"free",collaboratorLimitation:0,daysLeft:""}},Ne=Object(h.createStateStore)(Pe),De=Ne.getState,Le=Ne.setState,Re=Ne.wrapEntry,Ie={entryMap:{"user:set":Re(function(e,t,n){var o=t.dispatch,a=n.payload,i=a.id,s=void 0===i?null:i,c=a.name,u=void 0===c?"":c,l=a.email,d=void 0===l?"":l,p=a.avatar,f=void 0===p?"":p;o({type:"reducer:user:update",payload:w.Operation.objectMerge(e,{id:s,name:u,email:d,avatar:f,plan:r(a)})})}),"user:clear":Re(function(e,t,n){(0,t.dispatch)({type:"reducer:user:update",payload:Pe})})},getState:De,setState:Le},Ae={teamCid:null,projectCid:null,screenCid:null,userRole:"guest"},Ue=Object(h.createStateStore)(Ae),Ye=Ue.getState,We=Ue.setState,Fe={"current:set":(0,Ue.wrapEntry)(function(e,t,n){var r=t.dispatch,a=n.payload,i=a.project,s=a.screen,c=a.userCollaborator;r({type:"reducer:current:update",payload:{teamCid:i&&i.team_cid||null,projectCid:i&&i.cid||null,screenCid:s&&s.cid||null,userRole:o(c&&c.role)}})})},Be=new Set(["owner","admin","editor","viewer"]),He={entryMap:Fe,getState:Ye,setState:We},ze={projectCid:null,unreadCommentMap:{},unreadCountThreadMap:{},unreadCountScreenMap:{}},qe=Object(h.createStateStore)(ze),Ve=qe.getState,Ge=qe.setState,Ke=qe.wrapEntry,$e={entryMap:{"unread-comment:init-for-project":Ke(function(e,t,n){var r=t.dispatch,o=n.payload,s=o.projectCid,l=o.commentThreadList,d=o.commentList,p=a(s),f={},h={};l.forEach(function(e){var t=e.cid,n=e.screen_cid;h[t]=n,f[n]=p[n]});var m={},y={},v={};d.forEach(function(e){var t=e.cid,n=e.thread_cid,r=e.updated_at;(f[h[n]]||0)>=r||(m[t]=!0,u(y,n,1))}),l.forEach(function(e){var t=e.cid,n=e.screen_cid;return u(v,n,y[t]||0)}),i(s,f),c(),r({type:"reducer:unread-comment:update",payload:{projectCid:s,unreadCommentMap:m,unreadCountThreadMap:y,unreadCountScreenMap:v}})}),"unread-comment:set-unread":Ke(function(e,t,n){var r=t.dispatch,o=n.payload,a=o.commentCid,i=o.threadCid,c=o.screenCid,u=e.unreadCommentMap,l=e.unreadCountThreadMap,d=e.unreadCountScreenMap;u[a]||(r({type:"reducer:unread-comment:update",payload:w.Operation.objectMerge(e,{unreadCommentMap:w.Operation.objectSet(u,a,!0),unreadCountThreadMap:w.Operation.objectSet(l,i,(l[i]||0)+1),unreadCountScreenMap:w.Operation.objectSet(d,c,(d[c]||0)+1)})}),s(e.projectCid,c))}),"unread-comment:set-read":Ke(function(e,t,n){var r=t.dispatch,o=n.payload.screenCid,a=e.unreadCountScreenMap;r({type:"reducer:unread-comment:update",payload:w.Operation.objectMerge(e,{unreadCountScreenMap:w.Operation.objectDelete(a,o)})}),s(e.projectCid,o)})},getState:Ve,setState:Ge},Je=(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e})({},I.entryMap,z.entryMap,X.entryMap,ie.entryMap,he.entryMap,Oe.entryMap,ke.entryMap,Ie.entryMap,He.entryMap,$e.entryMap,{"entry:add-mock-collaborator":function(e){var t=e.dispatch,n=Oe.getState(),r=ie.getState(),o=I.getState(),a=new Set(o.map(function(e){return e.cid})),i=0,s=function(e,n){var r="co_MOCK_"+e.cid;a.has(r)||(t({type:"collaborators:add-local",payload:{cid:r,role:"owner",user_id:e.owner_id,name:e.owner_name,email:e.owner_email||"email_MOCK_"+e.owner_id,avatar:e.owner_avatar,team_cid:n?e.cid:null,project_cid:n?null:e.cid}}),i++)};n.forEach(function(e){return s(e,!0)}),r.forEach(function(e){return s(e,!1)}),_.a&&i&&console.log("[entry:add-mock-collaborator] added "+i+" mock collaborator")},"entry:current:set":function(e,t){var n=e.dispatch,r=t.payload,o=r.project,a=r.screen,i=He.getState(),s=o&&o.cid||i.projectCid,c=a&&a.cid||i.screenCid;n({type:"current:set",payload:{project:o=ie.getState().find(function(e){return e.cid===s}),screen:a=he.getState().find(function(e){return e.cid===c}),userCollaborator:o&&l(o.cid,o.team_cid)}})},"entry:current:set-screen":function(e,t){var n=e.dispatch,r=t.payload.cid,o=he.getState().find(function(e){return e.cid===r});if(!o)return console.warn("[entry:current:set-screen] non exist screen with cid: "+r);n({type:"entry:current:set",payload:{screen:o}})},"entry:unread-comment:init":function(e,t){var n=e.dispatch,r=He.getState(),o=r.userRole,a=r.projectCid;"guest"!==o&&n({type:"unread-comment:init-for-project",payload:{projectCid:a,commentThreadList:X.getState(),commentList:z.getState()}})},"entry:comment-threads:add":function(e,t){var n=e.dispatch,r=t.payload,o=r.top,a=r.left,i=r.message,s=r.cancelSelect,c=Ie.getState(),u=He.getState(),l=u.screenCid,d=u.projectCid,p=100/ie.getState().find(function(e){return e.cid===d}).scale,f=.001*Date.now(),h=g.a.SpineModel.requestCid("cmth");n({type:i?"comment-threads:add":"comment-threads:add-local",payload:{cid:h,top:Math.round(o*p),left:Math.round(a*p),screen_cid:l,user_id:c.id,created_at:f,updated_at:f}}),i&&n({type:"comments:add",payload:{thread_cid:h,message:i,user_id:c.id,created_at:f,updated_at:f}}),n({type:"container:comment:select",payload:{select:s?null:h}})},"entry:comment-threads:update":function(e,t){var n=e.dispatch,r=t.payload,o=r.cid,a=r.top,i=r.left,s=void 0===z.getState().find(function(e){return e.thread_cid===o}),c=.001*Date.now(),u=He.getState().projectCid,l=100/ie.getState().find(function(e){return e.cid===u}).scale;n({type:s?"comment-threads:update-local":"comment-threads:update",payload:{cid:o,top:Math.round(a*l),left:Math.round(i*l),updated_at:c}})},"entry:comment-threads:delete":function(e,t){var n=e.dispatch,r=t.payload.cid;n({type:"comment-threads:delete",payload:{cid:r}}),z.getState().forEach(function(e){return e.thread_cid===r&&n({type:"comments:delete-local",payload:e})})},"entry:comments:add":function(e,t){var n=e.dispatch,r=t.payload,o=r.thread_cid,a=r.message,i=Ie.getState(),s=.001*Date.now();n({type:"comment-threads:save",payload:{cid:o}}),n({type:"comments:add",payload:{thread_cid:o,message:a,user_id:i.id,created_at:s,updated_at:s}}),n({type:"container:comment:select",payload:{select:null}})},"entry:comments:update":function(e,t){var n=e.dispatch,r=t.payload;n({type:"comments:update",payload:{cid:r.cid,message:r.message,updated_at:.001*Date.now()}})},"entry:state:push-data":function(e,t){var n=e.dispatch,r=t.payload,o=r.pushType,a=r.action,i=r.data;switch(o){case"comment-threads":var s=X.getState().find(function(e){return e.cid===i.cid});"update"!==a||s?"update"===a&&s?n({type:"comment-threads:update-local",payload:i}):"destroy"===a&&s&&(n({type:"comment-threads:delete-local",payload:i}),z.getState().forEach(function(e){return e.thread_cid===i.cid&&n({type:"comments:delete-local",payload:e})})):n({type:"comment-threads:add-local",payload:i});break;case"comments":var c=z.getState().find(function(e){return e.cid===i.cid});"update"!==a||c?"update"===a&&c?n({type:"comments:update-local",payload:i}):"destroy"===a&&c&&n({type:"comments:delete-local",payload:i}):n({type:"comments:add-local",payload:i});var u=He.getState().screenCid,l=X.getState().find(function(e){return e.cid===i.thread_cid});l&&l.screen_cid===u&&n({type:"unread-comment:set-unread",payload:{commentCid:i.cid,threadCid:l.cid,screenCid:u}})}},"entry:projects:delete":function(e,t){var n=e.dispatch,r=t.payload,o=Ie.getState(),a=r.owner_id===o.id||r.canAdmin()&&r.team_cid,i=a?I18N.del_app_title:I18N.exit_app_title,s=(a?I18N.del_app_desc:I18N.exit_app_desc).replace("%s",r.name);n({type:"container:modal:open",payload:{title:i,desc:s,isHTML:!0,canCancel:!0,canConfirm:!0,onConfirm:function(){if(a)n({type:"projects:delete",payload:r});else{var e=I.getState().find(function(e){return e.project_cid===r.cid&&e.user_id===o.id});n({type:"collaborators:delete",payload:e}),n({type:"projects:delete-local",payload:r})}g.a.SpineModel.queueSave()}}})},"entry:teams:delete":function(e,t){var n=e.dispatch,r=t.payload,o=Ie.getState(),a=r.owner_id===o.id;if(a&&r.cprojects().length>0)return n({type:"container:modal:open",payload:{title:I18N.warning,desc:I18N.delete_projects_first,canCancel:!1,canConfirm:!0}});n({type:"container:modal:open",payload:{title:a?I18N.del_team_title:I18N.exit_team_title,desc:(a?I18N.del_team_desc:I18N.exit_team_desc).replace(/%s/,r.name),isHTML:!0,canCancel:!0,canConfirm:!0,onConfirm:function(){if(a)n({type:"teams:delete",payload:r});else{var e=I.getState().find(function(e){return e.team_cid===r.cid&&e.user_id===o.id});n({type:"collaborators:delete",payload:e}),n({type:"teams:delete-local",payload:r})}}}})}}),Ze={collaborators:d("reducer:collaborators:update",I),comments:d("reducer:comments:update",z),commentThreads:d("reducer:comment-threads:update",X),projects:d("reducer:projects:update",ie),screens:d("reducer:screens:update",he),teams:d("reducer:teams:update",Oe),widgets:d("reducer:widgets:update",ke),user:Object(h.createStateStoreReducer)("reducer:user:update",Ie),current:Object(h.createStateStoreReducer)("reducer:current:update",He),unreadComment:Object(h.createStateStoreReducer)("reducer:unread-comment:update",$e)},Xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qe=Object(y.composeWithDevTools)({});t.a=function(e){var t=e.viewMap,n=e.containerReducerMap,r=e.sagaMap,o=e.extendCallback,a=new v.a;if(t)for(var i in t)a.setView(i,t[i]);var s=p({initialState:{model:{},container:{}},entryMap:Xe({},Je,b,{"entry:webpack-interface:view:call":function(e,t){var n=t.payload;setTimeout(function(){return a.callViewMethod.apply(a,[n.name,n.method].concat(n.args||{}))},0)}}),reducerMap:{model:Object(f.combineReducers)(Ze),container:Object(f.combineReducers)(n)},sagaMap:r}).store;return a.setStore(s),o&&o(a),a}},t7F0:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return getNormalRgbaColor}),__webpack_require__.d(__webpack_exports__,"e",function(){return parseSketchColor2rgba}),__webpack_require__.d(__webpack_exports__,"b",function(){return getColorFromUnit}),__webpack_require__.d(__webpack_exports__,"d",function(){return getUIColor}),__webpack_require__.d(__webpack_exports__,"a",function(){return DEFAULT_COLOR});var __WEBPACK_IMPORTED_MODULE_0_lodash_round__=__webpack_require__("dAKm"),__WEBPACK_IMPORTED_MODULE_0_lodash_round___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash_round__),__WEBPACK_IMPORTED_MODULE_1__utils___=__webpack_require__("V9Vg"),rgba2hexWithA=function(e){if(checkColorUnit(e)!==RGBA)return console.warn("Not rgbacolor but use rgba2hexWithA"),e;var t=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+(\.\d+)?)[\s+]?/i);return t&&t.length>=4?{hex:("#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2)).toUpperCase(),o:Number((+t[4]).toFixed(2))}:e},getNormalRgbaColor=function(e){if(!e)return DEFAULT_COLOR;var t=parseSketchColor2rgba(e);return t?getColorFromUnit(t,RGBA):e},parseSketchColor2rgba=function parseSketchColor2rgba(rgbaFuncStr){function rgba(){var e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3];return e<=1&&t<=1&&n<=1?{r:parseInt(__WEBPACK_IMPORTED_MODULE_0_lodash_round___default()(255*e),10),g:parseInt(__WEBPACK_IMPORTED_MODULE_0_lodash_round___default()(255*t),10),b:parseInt(__WEBPACK_IMPORTED_MODULE_0_lodash_round___default()(255*n),10),a:Number(Number(r).toFixed(2))}:{r:e,g:t,b:n,a:r}}var colorType=checkColorUnit(rgbaFuncStr);if(colorType!==RGBA)return getColorFromUnit(rgbaFuncStr,RGBA);var _eval=eval(rgbaFuncStr),r=_eval.r,g=_eval.g,b=_eval.b,a=_eval.a;return"rgba("+r+", "+g+", "+b+", "+a+")"},checkColorUnit=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:DEFAULT_COLOR;return e.includes(RGBA)?RGBA:e.includes(RGB)?RGB:e.includes("#")&&9===e.length?ARGB:!!e.includes("#")&&HEX},getColorFromUnit=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:RGBA;if(!e)return DEFAULT_COLOR;var n=checkColorUnit(e);if(!n)return DEFAULT_COLOR;switch(n){case RGBA:if(t===n)return e;if(t===RGB)return rgba2rgb(e);if(t===HEX)return rgba2hex(e);if(t===ARGB)return rgba2argb(e);break;case RGB:if(t===n)return e;if(t===RGBA)return rgb2rgba(e);if(t===HEX)return rgb2hex(e);if(t===ARGB)return rgb2argb(e);break;case HEX:if(t===n)return e;if(t===RGBA)return hex2rgba(e);if(t===RGB)return hex2rgb(e);if(t===ARGB)return hex2argb(e);break;case ARGB:if(t===n)return e;if(t===RGBA)return argb2rgba(e);if(t===RGB)return argb2rgbWithA(e);if(t===HEX)return argb2hexWithA(e);break;default:return e}},rgba2rgbWithA=function(e){if(checkColorUnit(e)!==RGBA)return console.warn("Not rgbacolor but use rgba2rgbWithA"),e;var t=rgba2hexWithA(e),n=t.hex,r=t.o;return n?{rgb:hex2rgb(n),o:r}:DEFAULT_COLOR},hex2rgb=function(e){if(checkColorUnit(e)!==HEX)return console.warn("Not hexcolor but use hex2rgb"),e;if(3===(e=e.replace("#","")).length){var t=e.split(""),n=t[0],r=t[1],o=t[2];e=""+n+n+r+r+o+o}return"rgb("+parseInt(e.substring(0,2),16)+", "+parseInt(e.substring(2,4),16)+", "+parseInt(e.substring(4,6),16)+")"},rgba2rgb=function(e){var t=rgba2rgbWithA(e),n=t.rgb,r=t.o;return n?n+" "+Math.round(100*r)+"%":e},rgba2hex=function(e){var t=rgba2hexWithA(e),n=t.hex,r=t.o;return n?n.toUpperCase()+" "+Math.round(100*r)+"%":e},rgba2argb=function(e){if(checkColorUnit(e)!==RGBA)return console.warn("Not rgbacolor but use rgba2argb"),e;var t=rgba2hexWithA(e),n=t.hex,r=t.o;return n?"#"+("0"+parseInt(255*r,10).toString(16)).slice(-2).toUpperCase()+n.slice(1):e},rgb2rgba=function(e){return checkColorUnit(e)!==RGB?(console.warn("Not rgbcolor but use rgb2rgba"),e):"rgba("+e.slice(4,-1)+", 1)"},rgb2hex=function(e){if(checkColorUnit(e)!==RGB)return console.warn("Not rgbcolor but use rgb2hex"),e;var t=e.match(/^rgb?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return t&&4===t.length?("#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2)).toUpperCase():void 0},rgb2argb=function(e){return checkColorUnit(e)!==RGB?(console.warn("Not rgbcolor but use rgb2argb"),e):hex2argb(rgb2hex(e))},hex2argb=function(e){return checkColorUnit(e)!==HEX?(console.warn("Not hexcolor but use hex2argb"),e):"#FF"+e.slice(1)},hex2rgba=function(e){return checkColorUnit(e)!==HEX?(console.warn("Not hexcolor but use hex2rgba"),e):rgb2rgba(hex2rgb(e))},argb2rgba=function(e){if(checkColorUnit(e)!==ARGB)return console.warn("Not argbcolor but use argb2rgba"),e;for(var t=[],n=1;n<e.length;n+=2)t.push(e.slice(n,n+2));var r=t[0],o=t[1],a=t[2],i=t[3];return o=parseInt(o,16),a=parseInt(a,16),i=parseInt(i,16),r=Number((parseInt(r,16)/255).toString().slice(0,4)),"rgba("+o+", "+a+", "+i+", "+r+")"},argb2rgbWithA=function(e){if(checkColorUnit(e)!==ARGB)return console.warn("Not argbcolor but use argb2rgbWithA"),e;var t=argb2rgba(e),n=rgba2rgbWithA(t),r=n.rgb,o=n.o;return r?r+" "+Math.round(100*o)+"%":e},argb2hexWithA=function(e){if(checkColorUnit(e)!==ARGB)return console.warn("Not argbcolor but use argb2hexWithA"),e;var t=argb2rgba(e),n=rgba2hexWithA(t),r=n.hex,o=n.o;return r?r.toUpperCase()+" "+Math.round(100*o)+"%":e},getUIColor=function getUIColor(color){function rgba(){return{r:arguments[0],g:arguments[1],b:arguments[2],a:arguments[3]}}if(!color)return DEFAULT_COLOR;var rgbaColor=getColorFromUnit(color,"rgba"),_eval2=eval(rgbaColor),r=_eval2.r,g=_eval2.g,b=_eval2.b,a=_eval2.a;return r=Object(__WEBPACK_IMPORTED_MODULE_1__utils___.m)(r/255),g=Object(__WEBPACK_IMPORTED_MODULE_1__utils___.m)(g/255),b=Object(__WEBPACK_IMPORTED_MODULE_1__utils___.m)(b/255),"UIColor(red:"+r+", green:"+g+", blue:"+b+", alpha:"+a+")"},RGBA="rgba",ARGB="argb",RGB="rgb",HEX="hex",DEFAULT_COLOR="#FFFFFF"},t8rQ:function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},tHks:function(e,t){e.exports=function(e){return function(t,n,r){for(var o=-1,a=Object(t),i=r(t),s=i.length;s--;){var c=i[e?s:++o];if(!1===n(a[c],c,a))break}return t}}},tO4o:function(e,t,n){var r=n("yCNF");e.exports=function(e){return e===e&&!r(e)}},tnSy:function(e,t){},tv3T:function(e,t,n){var r=n("i4ON"),o=n("nw3t");e.exports=function(e,t,n,a){var i=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var u=t[s],l=a?a(n[u],e[u],u,n,e):void 0;void 0===l&&(l=e[u]),i?o(n,u,l):r(n,u,l)}return n}},uCi2:function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},uiZP:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t,n){var r=0===e,o=e===t-1;return{transform:"translateX("+100*e+"%)",borderLeftColor:n&&r?"transparent":"",borderRightColor:n&&o?"transparent":""}}n.d(t,"a",function(){return w}),n.d(t,"b",function(){return _});var s=n("KSGD"),c=n.n(s),u=n("GiK3"),l=n.n(u),d=n("IQUt"),p=n.n(d),f=n("WCZ4"),h=n("T2Un"),m=n.n(h),y=n("br6V"),v=n.n(y),g=m.a.bind(v.a),b=function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.render=function(){var e=this.props,t=e.activeIndex,n=e.hideBorder,r=e.className,o=e.children,a=e.onTabChange,s=i(t,u.Children.count(o),n);return l.a.createElement("ol",{className:g("nav",r)},u.Children.map(o,function(e,n){var r={index:n,active:n===t,BgStyle:0===n?s:null,onClick:a};return l.a.cloneElement(e,r)}))},t}(u.Component);t.c=b,b.propTypes={className:c.a.string,activeIndex:c.a.number,hideBorder:c.a.bool,children:c.a.array,onTabChange:c.a.func},b.defaultProps={hideBorder:!1,activeIndex:0};var w=function(e){function t(n){r(this,t);var a=o(this,e.call(this,n));return a.handleClick=function(e){var t=a.props,n=t.index,r=t.active,o=t.onClick;r?a.toggleDropDown(e):o(n)},a.toggleDropDown=function(e){e.stopPropagation();var t=a.body.getBoundingClientRect();a.setState({dropDownOpen:!a.state.dropDownOpen,top:t.bottom,left:(t.left+t.right)/2})},a.handleDocClick=function(e){a.state.dropDownOpen&&a.body&&!a.body.contains(e.target)&&a.setState({dropDownOpen:!1})},a.handleClose=function(){a.setState({dropDownOpen:!1})},a.state={dropDownOpen:!1},a}return a(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.index,r=t.active,o=t.icon,a=t.label,i=t.title,s=t.BgStyle,c=t.DropDown,u=this.state,d=u.dropDownOpen,h=u.top,m=u.left,y=Boolean(c);return l.a.createElement("li",{ref:function(t){return e.body=t},className:g("nav-item",{active:r}),title:i,onClick:this.handleClick},0===n&&l.a.createElement("div",{className:"background-cube",style:s}),l.a.createElement("div",{className:"nav-icon"},l.a.createElement(f.b,{type:"dora",name:o}),y&&l.a.createElement("i",{className:"fa fa-caret-down",type:"dropdown-arrow",onClick:this.toggleDropDown})),a&&l.a.createElement("span",{className:"nav-label"},a),y&&d&&l.a.createElement(c,{top:h,left:m,onClose:this.handleClose}),y&&l.a.createElement(p.a,{onClick:this.handleDocClick}))},t}(u.Component);w.propTypes={index:c.a.number,icon:c.a.string,title:c.a.string,label:c.a.string,active:c.a.bool,BgStyle:c.a.object,onClick:c.a.func,DropDown:c.a.func};var _=function(e){var t=e.tabs,n=e.activeIndex,r=e.onChange,o=e.className,a=e.hideBorder,i=e.BgStyle;return l.a.createElement(b,{activeIndex:n,hideBorder:a,onTabChange:r,className:o},t.map(function(e){var t=e.label,n=e.icon;return l.a.createElement(w,{key:t,icon:n,label:t,BgStyle:i})}))};_.propTypes={tabs:c.a.array,activeIndex:c.a.number,onChange:c.a.func,className:c.a.string,hideBorder:c.a.bool,BgStyle:c.a.object}},vLgD:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return c});var r=n("HN2V"),o=n.n(r),a=n("OAwv"),i=n.n(a),s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={credentials:"include",method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"}},a=i.a.stringify(t,{arrayFormat:"bracket"}),s=a?e+"?"+a:e,c=void 0;return n.body&&(c=i.a.stringify(n.body,{arrayFormat:"bracket"})),fetch(s,o()({},r,n,{body:c})).then(function(e){if(e.status>=400)throw new Error(e.status);return e.json()})},c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={credentials:"include",method:"POST",headers:{"Content-Type":"application/json"},body:t};return fetch(e,o()({},r,n)).then(function(e){return e.json()})}},vi0E:function(e,t,n){var r=n("f931")(Object.getPrototypeOf,Object);e.exports=r},vxJQ:function(e,t,n){var r=n("5Zxu"),o=n("kxzG"),a=n("ZT2e"),i=Math.min;e.exports=function(e){var t=Math[e];return function(e,n){if(e=o(e),n=null==n?0:i(r(n),292)){var s=(a(e)+"e").split("e"),c=t(s[0]+"e"+(+s[1]+n));return+((s=(a(c)+"e").split("e"))[0]+"e"+(+s[1]-n))}return t(e)}}},w2Dv:function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t){var n={};for(var r in e)n[r]=t(e[r],r);return n},l=function(e,t){return t.forEach(function(n){e.has(n)&&console.error("duplicate name in set",e,t,n),e.add(n)}),e},d=function(e,t){return e instanceof Object&&t in e},p=function(e){return d(e,"toStructJSON")?e.toStructJSON():e},f=function(e,t){return console.error("DEFAULT_REDUCER",e,t),e},h=function(){function e(t,n,r){i(this,e),this.name=t,this.struct=n,this.actMap=r,this.initialState=null,this.acceptNameSet=null,this.actionReducer=null,this.structReducer=null,this.reducer=null}return c(e,[{key:"getActionReducer",value:function(){var e=this.actMap;return function(t,n){var r=n.type,o=n.payload,a=e[r];return a?a(t,o):t}}},{key:"getReducer",value:function(){var e=this.name,t=this.initialState,n=this.acceptNameSet,r=this.actionReducer,o=this.structReducer,a=function(t,n){return void 0!==n.type&&n.name===e?r(t,n):o(t,n)};return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,o=arguments[1];return n.has(o.name)?void 0!==o.batch&&o.name===e?o.batch.reduce(a,r):a(r,o):r}}},{key:"toStructJSON",value:function(){return p(this.struct)}}]),e}(),m=function(e){function t(e,n,r){i(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r)),s={},c=new Set;c.add(a.name);var u=[];for(var d in a.struct)if(a.struct.hasOwnProperty(d)){var p=a.struct[d],f=p instanceof h;s[d]=f?p.initialState:p,f&&(l(c,p.acceptNameSet),u.push(d))}return a.initialState=s,a.acceptNameSet=c,a.structReducer=t.getStructReducer(u,a.struct),a.actionReducer=a.getActionReducer(),a.reducer=a.getReducer(),a}return a(t,h),c(t,[{key:"toStructJSON",value:function(){return u(this.struct,p)}}],[{key:"getStructReducer",value:function(e,t){return function(n,r){for(var o=!1,a={},i=0;i<e.length;i++){var c=e[i],u=t[c],l=n[c],d=u.reducer(l,r);a[c]=d,o=o||d!==l}return o?s({},n,a):n}}}]),t}(),y=function(e){function t(e,n,r){i(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r)),s=a.struct[0],c=s instanceof h,u=new Set;return u.add(a.name),a.initialState=[],a.acceptNameSet=u,a.structReducer=c?t.getStructReducer(s):f,a.actionReducer=a.getActionReducer(),a.reducer=a.getReducer(),a}return a(t,h),c(t,[{key:"toStructJSON",value:function(){return this.struct.map(p)}}],[{key:"getStructReducer",value:function(e){return function(n,o){function a(t,o,a){var c=e.reducer(t,o);t!==c&&(i||(s=[].concat(r(n))),s[a]=c,i=!0)}var i=!1,s=null;if(void 0!==o.index)a(n[o.index],o.payload,o.index);else if(void 0!==o.filter){var c=t.getFilter(o.filter);c&&n.forEach(function(e,t){return c(e,t)&&a(e,o.payload,t)})}return i?s:n}}},{key:"getFilter",value:function(e){switch(e.type){case"key-value":var t=e.key,n=e.value;return function(e,r){return e[t]===n}}return null}}]),t}();t.Scheme=h,t.ObjectScheme=m,t.ArrayScheme=y},wB9c:function(e,t,n){"use strict";function r(e){var t=e.dispatch,n=void 0===t?MB.webpackInterface.store.dispatch:t,r=e.type,o=void 0===r?"alert":r,a=e.title,i=e.desc,s=e.isHTML,c=e.confirmText,u=e.cancelText;return new Promise(function(e){return n({type:"container:modal:open",payload:{type:o,title:a,desc:i,isHTML:s,canCancel:!0,canConfirm:!0,cancelText:u,confirmText:c,onCancel:function(){return e(!1)},onConfirm:function(){return e(!0)}}})})}function o(e){var t=e.dispatch,n=void 0===t?MB.webpackInterface.store.dispatch:t,r=e.type,o=void 0===r?"alert":r,a=e.title,i=e.desc,s=e.isHTML,c=e.confirmText;return new Promise(function(e){return n({type:"container:modal:open",payload:{type:o,title:a,desc:i,isHTML:s,canCancel:!1,canConfirm:!0,confirmText:c,onConfirm:function(){return e(!0)}}})})}t.b=r,t.a=o,Object.assign(MB,{confirm:r,alert:o})},wFrT:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n("RH2O"),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c={isOpen:!1,type:"alert",title:"",desc:"",onClose:function(){return null},onCancel:null,onConfirm:null,cancelText:void 0,confirmText:void 0,canCancel:!0,canConfirm:!0},u=n("KSGD"),l=n.n(u),d=n("GiK3"),p=n.n(d),f=n("/MvA"),h=(n("UJYK"),function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.render=function(){var e=this.props,t=e.dispatch,n=e.isOpen,r=e.type,o=e.title,a=e.desc,i=void 0===a?o:a,s=e.isHTML,c=e.onClose,u=void 0===c?function(){return t({type:"container:modal:close"})}:c,l=e.onCancel,d=void 0===l?function(){return null}:l,h=e.onConfirm,m=e.canCancel,y=e.canConfirm,v=e.cancelText,g=e.confirmText,b=m?function(){d&&d(),u&&u()}:void 0,w=y?function(){h&&h(),u&&u()}:void 0;return p.a.createElement(f.a,{isOpen:n,type:r,portalClassName:"global-alert-portal",title:o===i?I18N.reminder:o,onClose:function(){"function"==typeof d&&d(),u()},onCancel:b,onConfirm:w,cancelText:v,confirmText:g},s?p.a.createElement("p",{className:"desc",dangerouslySetInnerHTML:{__html:i}}):p.a.createElement("p",{className:"desc"},i))},t}(d.PureComponent));h.propTypes={dispatch:l.a.func,isOpen:l.a.bool,type:l.a.string,onClose:l.a.func,onCancel:l.a.func,onConfirm:l.a.func,canCancel:l.a.bool,canConfirm:l.a.bool,confirmText:l.a.string,cancelText:l.a.string,title:l.a.string,desc:l.a.any,isHTML:l.a.bool},h.defaultProps={type:"alert"};var m=h,y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v={Alert:Object(i.connect)(function(e){return y({},e.container.alert)})(m)};t.a={reducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1],n=t.type,r=t.payload;switch(n){case"container:modal:open":return s({},r,{isOpen:!0});case"container:modal:close":return s({},e,{isOpen:!1})}return e},containers:v}},wI9h:function(e,t){e.exports={"comment-panel":"_2dY-aWly_WWZi-IGQ1xR4-","comment-title":"YqyjN9C59bWFJEndyU0x9","comment-thread":"_2JvGmMk3y1PjWCGDPVg4a3","content-reply":"_3VE5NwR9zvovJS1MW0BZbq",login:"_3t2Lcd3f0_H-u_GDe-KBQH",comment:"_2VqB6xZz3ZMhBswl_nFEOz","comment-content":"_2v8U22g6c4LkqK5BL4vOFl",folded:"_2uqO0IUh-mZN2HrJNeYj7n",edited:"_1unY7SoIkJpoCKI6YJj0dE","container-bottom":"_3z71HOTNMRJiMUXUxvQLa6",time:"dqXdK9pZPQyb9a-WoxDNQ","reply-sort":"_2bgB1qJyRonhAvn0gkm7vp","btn-reply":"_2CrlxaEt8G-J3ewI5c7TJD","header-container":"_1-DcnhePZGe-xicn8UM249","header-tool":"_3xcyCaTVLHlRdVbQjfMz9E","container-reply":"_2ApZU5bkYTTCyGA9Q2EwqQ",expand:"TuQgu47qydj8ZTQmbo3DZ","container-main":"_2OH87H-fOvv_HWhtjy1Arh","content-empty":"_3ICZ7qT9DBPhbMD02jZj25","add-comment":"_9237vxHyzd4yQZU3S8N9b","dropdown-reply":"_233Za55WRs0z9Ihd8UD-Rt","dropdown-on":"_6n2zhtMRn75CqBn6WWw3_","dropdown-off":"_3PfmWXeb9PKYb5ow8kDTMe","comment-focus":"hlPioZEAv4Td4VsmcHhIc","comment-noFocus":"_2j-cKmNGnUn_tT7eJlcXxe","reply-header":"xUcJzT-vOVVhL37FQnaC-","reply-content":"_1GkaiuxL0rWoniFDn2WBfK","remove-background":"e3k5YtTFT1_zohcDsL8Zv"}},wSKX:function(e,t){e.exports=function(e){return e}},xJpq:function(e,t,n){"use strict";function r(){function e(){if(n&&r.length)throw Object(a.m)("Cannot have a closed channel with pending takers");if(r.length&&!t.isEmpty())throw Object(a.m)("Cannot have pending takers with non empty buffer")}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.a.fixed(),n=!1,r=[];return Object(a.g)(t,a.n.buffer,d),{take:function(o){e(),Object(a.g)(o,a.n.func,"channel.take's callback must be a function"),n&&t.isEmpty()?o(u):t.isEmpty()?(r.push(o),o.cancel=function(){return Object(a.t)(r,o)}):o(t.take())},put:function(o){if(e(),Object(a.g)(o,a.n.notUndef,p),!n){if(!r.length)return t.put(o);for(var i=0;i<r.length;i++){var s=r[i];if(!s[a.b]||s[a.b](o))return r.splice(i,1),s(o)}}},flush:function(r){e(),Object(a.g)(r,a.n.func,"channel.flush' callback must be a function"),r(n&&t.isEmpty()?u:t.flush())},close:function(){if(e(),!n&&(n=!0,r.length)){var t=r;r=[];for(var o=0,a=t.length;o<a;o++)t[o](u)}},get __takers__(){return r},get __closed__(){return n}}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.a.none(),n=arguments[2];arguments.length>2&&Object(a.g)(n,a.n.func,"Invalid match function passed to eventChannel");var o=r(t),s=function(){o.__closed__||(c&&c(),o.close())},c=e(function(e){l(e)?s():n&&!n(e)||o.put(e)});if(o.__closed__&&c(),!a.n.func(c))throw new Error("in eventChannel: subscribe should return a function to unsubscribe");return{take:o.take,flush:o.flush,close:s}}n.d(t,"a",function(){return u}),n.d(t,"d",function(){return l}),t.b=function(){var e=[];return{subscribe:function(t){return e.push(t),function(){return Object(a.t)(e,t)}},emit:function(t){for(var n=e.slice(),r=0,o=n.length;r<o;r++)n[r](t)}}},t.c=o,t.e=function(e){var t=o(function(t){return e(function(e){e[a.c]?t(e):Object(s.a)(function(){return t(e)})})});return c({},t,{take:function(e,n){arguments.length>1&&(Object(a.g)(n,a.n.func,"channel.take's matcher argument must be a function"),e[a.b]=n),t.take(e)}})};var a=n("Vr3j"),i=n("cXw4"),s=n("2Bk7"),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u={type:"@@redux-saga/CHANNEL_END"},l=function(e){return e&&"@@redux-saga/CHANNEL_END"===e.type},d="invalid buffer passed to channel factory function",p="Saga was provided with an undefined action"},xdPp:function(e,t,n){var r=n("rU0D")("toUpperCase");e.exports=r},yCNF:function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},yxsw:function(e,t){var n=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return n.test(e)}},zBOP:function(e,t){e.exports=function(){return!1}},zRV7:function(e,t){e.exports={"preview-toolbar":"_3kKqNauE-PaVHPIZg_7k-D","toolbar-left":"_1argA3EgEBp8qX7WE1dIzH","toolbar-right":"_3cialNfBp1POOSymqpYxUa","project-name":"_27Uwrgtv8XZJ-UQF79pvxd","toolbar-main":"_186SCgyzW6b3r3kJfyTV4p"}},zeup:function(e,t,n){function r(e){return n(o(e))}function o(e){var t=a[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var a={"./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-nz":"dyB6","./en-nz.js":"dyB6","./pa-in":"pfs9","./pa-in.js":"pfs9","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w"};r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id="zeup"},zzRL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}}});
//# sourceMappingURL=lib-preview-195cb431fb49251c668f.js.map